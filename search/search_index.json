{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"pixelblaze-client \u00b6 This site contains documentation for the Python pixelblaze-client library, which provides communication with the Pixelblaze LED controller. Table Of Contents \u00b6 The documentation is organized according to the Di\u00e1taxis documentation framework and consists of four separate parts: How-To Guides API Reference The Pixelblaze Protocol Tutorials which attempt to provide information on various aspects of the library to suit the needs of different users and use cases. Acknowledgements \u00b6 Thanks to: @wizard, for inventing the Pixelblaze that makes it easy to do wondrous things with LEDs; Eric Lawrence, for inventing the Fiddler Web Debugger that makes it easy to see the Pixelblaze wire protocols; and Guido van Rossum, for inventing a language that makes it easy to knock together in a matter of hours a device driver like this.","title":"pixelblaze-client"},{"location":"#pixelblaze-client","text":"This site contains documentation for the Python pixelblaze-client library, which provides communication with the Pixelblaze LED controller.","title":"pixelblaze-client"},{"location":"#table-of-contents","text":"The documentation is organized according to the Di\u00e1taxis documentation framework and consists of four separate parts: How-To Guides API Reference The Pixelblaze Protocol Tutorials which attempt to provide information on various aspects of the library to suit the needs of different users and use cases.","title":"Table Of Contents"},{"location":"#acknowledgements","text":"Thanks to: @wizard, for inventing the Pixelblaze that makes it easy to do wondrous things with LEDs; Eric Lawrence, for inventing the Fiddler Web Debugger that makes it easy to see the Pixelblaze wire protocols; and Guido van Rossum, for inventing a language that makes it easy to knock together in a matter of hours a device driver like this.","title":"Acknowledgements"},{"location":"how-to-guides/","text":"How-To Guides \u00b6 This part of the project documentation focuses on a problem-oriented approach. You'll tackle common tasks that you might have, with the help of the code provided in this project. How to get started? \u00b6 The easiest way to use this library is to install it from PyPi: pip install pixelblaze-client and within your script import the classes from the pixelblaze module: # your_script.py from pixelblaze import * After you've imported the class, you can follow along with any of the recipes below. Alternative installation method \u00b6 If for some reason you can't use PyPi, you can download the code from this GitHub repository and place the pixeblaze-client/ folder in the same directory as your Python script: your_project/ \u2502 \u251c\u2500\u2500 pixelblaze-client/ \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u2514\u2500\u2500 pixelblaze.py \u2502 \u2514\u2500\u2500 your_script.py Inside of your_script.py you can now import the classes from the pixelblaze module: # your_script.py from pixelblaze import * After you've imported the class, you can follow along with any of the recipes below. How to find your Pixelblazes? \u00b6 The EnumerateAddresses or EnumerateDevices iterators can help you here. The EnumerateAddresses iterator returns the IP address of each Pixelblaze it finds, which gives the quickest response because it detects the Pixelblazes but does not actually communicate with them. print(\"Finding Pixelblazes...\") for ipAddress in Pixelblaze.EnumerateAddresses(timeout=1500): print(f\" found a Pixelblaze at {ipAddress}\") The EnumerateDevices iterator detects Pixelblazes and returns an initialized Pixelblaze object for each one: print(\"Finding Pixelblazes...\") for pixelblaze in Pixelblaze.EnumerateDevices(timeout=1500): print(f\" at {pixelblaze.ipAddress} found '{pixelblaze.getDeviceName()}'\") If you are looking for a specific Pixelblaze, use the EnumerateAddresses iterator; if you want to do something with all Pixelblazes, the EnumerateDevices iterator saves a few lines of code. How to connect to a Pixelblaze? \u00b6 The Pixelblaze class is used to communicate with and control a Pixelblaze. To create a Pixelblaze object, create an instance of the class specifying its IP address as a string in the usual dotted-quad notation, i.e. \"192.168.4.1\". pb = Pixelblaze(\"192.168.4.1\") If you need or want to use a proxy server (for debugging it can be very useful to observe the protocol traffic by routing it through the Fiddler Web Debugger ), you can specify the proxy type (\"socks\" or \"http\") and address using the proxyUrl argument: pb = Pixelblaze(\"192.168.4.1\", proxyUrl=\"http://192.168.8.8:8888\") Advanced topic: lifecycle management \u00b6 The Pixelblaze class can be used in a with statement, which will automatically close the connection and dispose of the object when the with statement completes: with Pixelblaze(\"192.168.4.1\") as pb: # Do something with the pb object. # Do something else with the pb object. pass # At this point, the pb object will be deleted. Otherwise the connection will remain open until the Pixelblaze object goes out of scope and is garbage-collected. How to set which pattern is playing? \u00b6 Pixelblaze refers to its patterns using an alphanumeric ID code which remains constant for the lifetime of a pattern. Patterns also have a human-readable name which is displayed in the webUI pattern list and pattern editor, but this can be changed by the user so it is not supported by the Pixelblaze API. To find the ID of the patterns on the Pixelblaze, use the getPatternList() method which returns a dictionary where the key is the patternId and the value is the patternName: # Get the pattern list. patterns = pb.getPatternList() # Select first element of the first tuple in the list. patternId = patterns[0].key # Or search for a pattern by name. patternId = dict((value, key) for key, value in patterns.items()).get(\"patternName\") And finally, pass the patternId to the setActivePattern() method: # Ask the Pixelblaze to display this pattern. pb.setActivePattern(patternId) How to change the parameters of the pattern that is currently playing? \u00b6 Pixelblaze patterns can, if so designed, be modified at runtime in two ways. Patterns can contain user interface elements such as sliders, color pickers or input numbers that allow a user of the Pixelblaze webUI to adjust the pattern. The values of the UI controls for the pattern currently playing can be read with the getActiveControls() method (which returns a dictionary containing all the controls); then new values for one or all of the controls can be modified and sent back to the Pixelblaze with the setActiveControls() method. Patterns can also export variables that can be accessed and modified by external clients. The values of the variables for the pattern currently playing can be read with the getActiveVariables() method (which returns a dictionary containing all the variables); then new values for one or all of the variables can be modified and sent back to the Pixelblaze with the setActiveVariables() method.","title":"How-To Guides"},{"location":"how-to-guides/#how-to-guides","text":"This part of the project documentation focuses on a problem-oriented approach. You'll tackle common tasks that you might have, with the help of the code provided in this project.","title":"How-To Guides"},{"location":"how-to-guides/#how-to-get-started","text":"The easiest way to use this library is to install it from PyPi: pip install pixelblaze-client and within your script import the classes from the pixelblaze module: # your_script.py from pixelblaze import * After you've imported the class, you can follow along with any of the recipes below.","title":"How to get started?"},{"location":"how-to-guides/#alternative-installation-method","text":"If for some reason you can't use PyPi, you can download the code from this GitHub repository and place the pixeblaze-client/ folder in the same directory as your Python script: your_project/ \u2502 \u251c\u2500\u2500 pixelblaze-client/ \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u2514\u2500\u2500 pixelblaze.py \u2502 \u2514\u2500\u2500 your_script.py Inside of your_script.py you can now import the classes from the pixelblaze module: # your_script.py from pixelblaze import * After you've imported the class, you can follow along with any of the recipes below.","title":"Alternative installation method"},{"location":"how-to-guides/#how-to-find-your-pixelblazes","text":"The EnumerateAddresses or EnumerateDevices iterators can help you here. The EnumerateAddresses iterator returns the IP address of each Pixelblaze it finds, which gives the quickest response because it detects the Pixelblazes but does not actually communicate with them. print(\"Finding Pixelblazes...\") for ipAddress in Pixelblaze.EnumerateAddresses(timeout=1500): print(f\" found a Pixelblaze at {ipAddress}\") The EnumerateDevices iterator detects Pixelblazes and returns an initialized Pixelblaze object for each one: print(\"Finding Pixelblazes...\") for pixelblaze in Pixelblaze.EnumerateDevices(timeout=1500): print(f\" at {pixelblaze.ipAddress} found '{pixelblaze.getDeviceName()}'\") If you are looking for a specific Pixelblaze, use the EnumerateAddresses iterator; if you want to do something with all Pixelblazes, the EnumerateDevices iterator saves a few lines of code.","title":"How to find your Pixelblazes?"},{"location":"how-to-guides/#how-to-connect-to-a-pixelblaze","text":"The Pixelblaze class is used to communicate with and control a Pixelblaze. To create a Pixelblaze object, create an instance of the class specifying its IP address as a string in the usual dotted-quad notation, i.e. \"192.168.4.1\". pb = Pixelblaze(\"192.168.4.1\") If you need or want to use a proxy server (for debugging it can be very useful to observe the protocol traffic by routing it through the Fiddler Web Debugger ), you can specify the proxy type (\"socks\" or \"http\") and address using the proxyUrl argument: pb = Pixelblaze(\"192.168.4.1\", proxyUrl=\"http://192.168.8.8:8888\")","title":"How to connect to a Pixelblaze?"},{"location":"how-to-guides/#advanced-topic-lifecycle-management","text":"The Pixelblaze class can be used in a with statement, which will automatically close the connection and dispose of the object when the with statement completes: with Pixelblaze(\"192.168.4.1\") as pb: # Do something with the pb object. # Do something else with the pb object. pass # At this point, the pb object will be deleted. Otherwise the connection will remain open until the Pixelblaze object goes out of scope and is garbage-collected.","title":"Advanced topic: lifecycle management"},{"location":"how-to-guides/#how-to-set-which-pattern-is-playing","text":"Pixelblaze refers to its patterns using an alphanumeric ID code which remains constant for the lifetime of a pattern. Patterns also have a human-readable name which is displayed in the webUI pattern list and pattern editor, but this can be changed by the user so it is not supported by the Pixelblaze API. To find the ID of the patterns on the Pixelblaze, use the getPatternList() method which returns a dictionary where the key is the patternId and the value is the patternName: # Get the pattern list. patterns = pb.getPatternList() # Select first element of the first tuple in the list. patternId = patterns[0].key # Or search for a pattern by name. patternId = dict((value, key) for key, value in patterns.items()).get(\"patternName\") And finally, pass the patternId to the setActivePattern() method: # Ask the Pixelblaze to display this pattern. pb.setActivePattern(patternId)","title":"How to set which pattern is playing?"},{"location":"how-to-guides/#how-to-change-the-parameters-of-the-pattern-that-is-currently-playing","text":"Pixelblaze patterns can, if so designed, be modified at runtime in two ways. Patterns can contain user interface elements such as sliders, color pickers or input numbers that allow a user of the Pixelblaze webUI to adjust the pattern. The values of the UI controls for the pattern currently playing can be read with the getActiveControls() method (which returns a dictionary containing all the controls); then new values for one or all of the controls can be modified and sent back to the Pixelblaze with the setActiveControls() method. Patterns can also export variables that can be accessed and modified by external clients. The values of the variables for the pattern currently playing can be read with the getActiveVariables() method (which returns a dictionary containing all the variables); then new values for one or all of the variables can be modified and sent back to the Pixelblaze with the setActiveVariables() method.","title":"How to change the parameters of the pattern that is currently playing?"},{"location":"pixelblaze/","text":"module pixelblaze \u00b6 A library that provides a simple, synchronous interface for communicating with and controlling Pixelblaze LED controllers. This module contains the following classes: Pixelblaze : an object for controlling Pixelblazes. PBB : an object for creating and manipulating Pixelblaze Binary Backups. PBP : an object for creating and manipulating Pixelblaze Binary Patterns. EPE : an object for creating and manipulating Electromage Pattern Exports. class Pixelblaze \u00b6 The Pixelblaze class presents a simple synchronous interface to a single Pixelblaze's websocket API. The constructor takes the Pixelblaze's IPv4 address in the usual 12 digit numeric form (for example, \"192.168.4.1\"). To control multiple Pixelblazes, create multiple objects. The objective is to provide 99% coverage of the functionality of the Pixelblaze webUI, and so the supported methods are named and grouped according to the tabs of the webUI: CREATION __init__() EnumerateAddresses() EnumerateDevices() PATTERNS tab SEQUENCER section getSequencerMode / setSequencerMode getSequencerState / setSequencerState getSequencerShuffleTime / setSequencerShuffleTime getSequencerPlaylist / addToSequencerPlaylist / setSequencerPlaylist SAVED PATTERNS section getPatternList getActivePattern / setActivePattern getActiveVariables / setActiveVariables getActiveControls / setActiveControls deletePattern getPatternAsEpe EDIT tab getPatternControls getPatternSourceCode sendPatternToRenderer savePattern MAPPER tab getMapFunction / setMapFunction getMapData / setMapData SETTINGS tab getConfigSettings getConfigSequencer getConfigExpander NAME section getDeviceName / setDeviceName getDiscovery / setDiscovery getTimezone / setTimezone getAutoOffEnable / setAutoOffEnable getAutoOffStart / setAutoOffStart getAutoOffEnd / setAutoOffEnd LED section getBrightnessLimit / setBrightnessLimit getLedType / setLedType getPixelCount / setPixelCount getDataSpeed / setDataSpeed getColorOrder / setColorOrder getCpuSpeed / setCpuSpeed getNetworkPowerSave / setNetworkPowerSave UPDATES section getUpdateState / installUpdate getVersion / getVersionMajor / getVersionMinor / BACKUPS section saveBackup / restoreFromBackup reboot ADVANCED tab getBrandName / setBrandName getSimpleUiMode / setSimpleUiMode getLearningUiMode / setLearningUiMode GLOBAL CONTROLS getBrightnessSlider / setBrightnessSlider LOW-LEVEL SEND/RECEIVE wsReceive wsSendJson wsSendBinary FILESYSTEM getFileList getFile / putFile / deleteFile STATISTICS getStatistics getFPS getUptime getStorageSize getStorageUsed method __init__ \u00b6 __init__ ( ipAddress : str , proxyUrl : str = None ) Initializes an object for communicating with and controlling a Pixelblaze. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. method EnumerateAddresses \u00b6 EnumerateAddresses ( timeout : int = 1500 , proxyUrl : str = None , hostIP : str = '0.0.0.0' ) \u2192 LightweightEnumerator Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Args: hostIP (str, optional): The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. timeout (int, optional): The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: LightweightEnumerator : A subclassed Python enumerator object that returns (as a string) the IPv4 address of a Pixelblaze, in the usual dotted-quads numeric format. method EnumerateDevices \u00b6 EnumerateDevices ( timeout : int = 1500 , proxyUrl : str = None , hostIP : str = '0.0.0.0' ) \u2192 LightweightEnumerator Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Args: hostIP (str, optional): The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. timeout (int, optional): The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: LightweightEnumerator : A subclassed Python enumerator object that returns a Pixelblaze object for controlling a discovered Pixelblaze. method addToSequencerPlaylist \u00b6 addToSequencerPlaylist ( playlistContents : dict , patternId : str , duration : int ) \u2192 dict Appends a new entry to the specified playlist. Args: patternId (str): The patternId of the pattern to be played. duration (int): The number of milliseconds to play the pattern. playlistContents (dict): The results of a previous call to getSequencerPlaylist . Returns: dict : The updated playlist, which can then be sent back to the Pixelblaze with setSequencerPlaylist . method controlExists \u00b6 controlExists ( controlName : str , patternId : str = None ) \u2192 bool Tests whether the named control exists in the specified pattern. If no pattern is specified, the currently active pattern is assumed. Note that the active pattern can be undefined on a freshly started Pixelblaze until the pattern has been explicitly set. This function also will return False if the active pattern is not available. Args: controlName (str): The name of the control. patternId (str, optional): The pattern in which to test for the presence of the control. Defaults to None. Returns: bool : True if the specified control exists, False otherwise. method deleteFile \u00b6 deleteFile ( fileName : str ) \u2192 bool Deletes a file from this Pixelblaze using the HTTP API. Args: fileName (str): The pathname (as returned from getFileList ) of the file to be deleted. Returns: bool : True if the file was successfully stored; False otherwise. method deletePattern \u00b6 deletePattern ( patternId : str ) Delete a pattern saved on the Pixelblaze. Args: patternId (str): The patternId of the desired pattern. method getActiveControls \u00b6 getActiveControls ( configSequencer : dict = None ) \u2192 dict Returns the collection of controls for the pattern currently running on the Pixelblaze. If there are no controls or no pattern has been set, returns an empty dictionary. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: dict : A dictionary containing the control names and values, with controlName as the key and controlValue as the value. method getActivePattern \u00b6 getActivePattern ( configSequencer : dict = None ) \u2192 str Returns the ID of the pattern currently running on the Pixelblaze. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: str : The patternId of the current pattern, if any; otherwise an empty string. method getActiveVariables \u00b6 getActiveVariables () \u2192 dict Gets the names and values of all variables exported by the current pattern. Returns: dict : A dictionary containing all the variables exported by the active pattern, with variableName as the key and variableValue as the value. method getAutoOffEnable \u00b6 getAutoOffEnable ( configSettings : dict = None ) \u2192 bool Returns whether the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : A boolean indicating whether the auto-Off timer is enabled. method getAutoOffEnd \u00b6 getAutoOffEnd ( configSettings : dict = None ) \u2192 str Returns the time, if any, at which the Pixelblaze will turn on the pattern when the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : A Unix time string in \"HH:MM\" format. method getAutoOffStart \u00b6 getAutoOffStart ( configSettings : dict = None ) \u2192 str Returns the time, if any, at which the Pixelblaze will turn off the pattern when the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : A Unix time string in \"HH:MM\" format. method getBrandName \u00b6 getBrandName ( configSettings : dict = None ) \u2192 str Returns the brand name, if any, of this Pixelblaze (blank unless rebadged by a reseller). Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : The brand name. method getBrightnessLimit \u00b6 getBrightnessLimit ( configSettings : dict = None ) \u2192 int Returns the maximum brightness for the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int : The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). method getBrightnessSlider \u00b6 getBrightnessSlider ( configSettings : dict = None ) \u2192 float Get the value of the UI brightness slider. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: float : A floating-point value between 0.0 and 1.0. method getColorControlName \u00b6 getColorControlName ( patternId : str = None ) \u2192 str Returns the name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. Args: patternId (str, optional): The pattern to search for color controls; or the currently active pattern if not specified. Defaults to None. Returns: str : The name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. method getColorControlNames \u00b6 getColorControlNames ( patternId : str = None ) \u2192 list Returns a list of names of the specified pattern's rgbPicker or hsvPicker controls if any exist, None otherwise. If the pattern argument is not specified, check the currently running pattern method getColorOrder \u00b6 getColorOrder ( configSettings : dict = None ) \u2192 < enum 'colorOrders' > Returns the color order of the LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: colorOrders : The ordering for the color data sent to the LEDs. method getConfigExpander \u00b6 getConfigExpander () \u2192 dict Retrieves the OutputExpander configuration. Returns: dict : The OutputExpander configuration as a dictionary, with settingName as the key and settingValue as the value. method getConfigSequencer \u00b6 getConfigSequencer () \u2192 dict Retrieves the Sequencer state. Returns: dict : The sequencer configuration as a dictionary, with settingName as the key and settingValue as the value. method getConfigSettings \u00b6 getConfigSettings () \u2192 dict Returns the configuration as defined on the Settings tab of the Pixelblaze. Returns: dict : A dictionary containing the configuration settings, with settingName as the key and settingValue as the value. method getCpuSpeed \u00b6 getCpuSpeed ( configSettings : dict = None ) \u2192 < enum 'cpuSpeeds' > Returns the CPU speed of the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: cpuSpeeds : An enumeration representing the CPU speed. method getDataSpeed \u00b6 getDataSpeed ( configSettings : dict = None ) \u2192 int Returns the data speed of the LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int : The data speed for communicating with the LEDs. method getDeviceName \u00b6 getDeviceName ( configSettings : dict = None ) \u2192 str Returns the user-friendly name of the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : The user-friendly name of the Pixelblaze. method getDiscovery \u00b6 getDiscovery ( configSettings : dict = None ) \u2192 bool Returns a boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : A boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. method getFPS \u00b6 getFPS ( savedStatistics : dict = None ) \u2192 float Return the speed (in Frames per Second) of the pattern rendering. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int : The pattern speed in FPS, as reported in a Pixelblaze statistics message. method getFile \u00b6 getFile ( fileName : str ) \u2192 bytes Downloads a file from the Pixelblaze using the HTTP API. Args: fileName (str): The pathname (as returned from getFileList ) of the file to be downloaded. Returns: bytes : The contents of the file. method getFileList \u00b6 getFileList ( fileTypes : fileTypes = < fileTypes . fileAll : 63 > ) \u2192 list [ str ] Returns a list of all the files of a particular type stored on the Pixelblaze's filesystem. For Pixelblazes running firmware versions lower than 2.29/3.24 (the point at which the necessary API was introduced), the list includes the names of optional configuration files that may or may not exist on a particular Pixelblaze, depending on its setup. Args: fileTypes (fileTypes, optional): A bitmasked enumeration of the fileTypes to be listed. Defaults to fileTypes.fileAll. Returns: list[str] : A list of filenames of the requested fileType. method getLearningUiMode \u00b6 getLearningUiMode ( configSettings : dict = None ) \u2192 bool Returns whether \"Learning UI Mode\" is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : A boolean indicating whether \"Learning UI Mode\" is enabled. method getLedType \u00b6 getLedType ( configSettings : dict = None ) \u2192 < enum 'ledTypes' > Returns the type of LEDs connected to the Pixelblaze. method getMapData \u00b6 getMapData () \u2192 bytes Gets the binary representation of the pixelMap entered on the 'Mapper' tab. Returns: bytes : The binary mapData as generated by the Mapper tab of the Pixelblaze webUI. method getMapFunction \u00b6 getMapFunction () \u2192 str Returns the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Returns: str : The text of the mapFunction. method getNetworkPowerSave \u00b6 getNetworkPowerSave ( configSettings : dict = None ) \u2192 bool Returns whether the \"Network Power Saving\" mode is enabled (and WiFi is disabled). Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : Whether the \"Network Power Saving\" mode is enabled. method getPatternAsEpe \u00b6 getPatternAsEpe ( patternId : str ) \u2192 str Convert a stored pattern into an exportable, portable JSON format (which then needs to be saved by the caller). Args: patternId (str): The patternId of the desired pattern. Returns: str : The exported pattern as a JSON dictionary. method getPatternControls \u00b6 getPatternControls ( patternId : str ) \u2192 dict Returns the name and value of any UI controls exported by the specified pattern. Args: patternId (str): The patternId of the pattern. Returns: dict : A dictionary containing the control names and values, with controlName as the key and controlValue as the value. method getPatternList \u00b6 getPatternList ( forceRefresh : bool = False ) \u2192 dict Returns a list of all the patterns saved on the Pixelblaze. Normally reads from the cached pattern list, which is refreshed every 10 minutes by default. To change the cache refresh interval, call setCacheRefreshTime(seconds). Args: forceRefresh (bool, optional): Forces a refresh of the cached patternList. Defaults to False. Returns: dict : A dictionary of the patterns stored on the Pixelblaze, where the patternId is the key and the patternName is the value. method getPatternSourceCode \u00b6 getPatternSourceCode ( patternId : str ) \u2192 str Gets the sourceCode of a saved pattern from the Pixelblaze. Args: patternId (str): The patternId of the desired pattern. Returns: str : A string representation of a JSON dictionary containing the pattern source code. method getPeers \u00b6 getPeers () A new command, added to the API but not yet implemented as of v2.29/v3.24, that will return a list of all the Pixelblazes visible on the local network segment. Returns: TBD : To be defined once @wizard implements the function. method getPixelCount \u00b6 getPixelCount ( configSettings : dict = None ) \u2192 int Returns the number of LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int : The number of LEDs connected to the Pixelblaze. method getPreviewFrame \u00b6 getPreviewFrame () \u2192 bytes Grab one of the preview frames that Pixelblaze sends after every render cycle. Returns: bytes : a collection of bytes representing pixelCount tuples containing the (R, G, B) values for each pixel in the pattern preview. method getPreviewImage \u00b6 getPreviewImage ( patternId : str ) \u2192 bytes Gets the preview image (a JPEG with 150 iterations of the pattern) saved within a pattern. Args: patternId (str): The patternId of the desired pattern. Returns: bytes : A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. method getSequencerMode \u00b6 getSequencerMode ( configSequencer : dict = None ) \u2192 < enum 'sequencerModes' > Gets the current sequencer mode. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: sequencerModes : The sequencerMode. method getSequencerPlaylist \u00b6 getSequencerPlaylist ( playlistId : str = '_defaultplaylist_' ) Fetches the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Args: playlistId (str, optional): The name of the playlist (for future enhancement; currently only ' defaultplaylist ' is supported). Defaults to \" defaultplaylist \". Returns: dict : The contents of the playlist. method getSequencerShuffleTime \u00b6 getSequencerShuffleTime ( configSequencer : dict = None ) \u2192 int Gets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: int : The number of milliseconds to play each pattern. method getSequencerState \u00b6 getSequencerState ( configSequencer : dict = None ) \u2192 bool Gets the current sequencer run state. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: bool : True if the sequencer is running; False otherwise. method getSimpleUiMode \u00b6 getSimpleUiMode ( configSettings : dict = None ) \u2192 bool Returns whether \"Simple UI Mode\" is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : A boolean indicating whether \"Simple UI Mode\" is enabled. method getStatistics \u00b6 getStatistics () \u2192 dict Grab one of the statistical packets that Pixelblaze sends every second. Returns: dict : the JSON message received from the Pixelblaze. method getStorageSize \u00b6 getStorageSize ( savedStatistics : dict = None ) \u2192 int Return the available Flash storage on the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int : The available storage in bytes, as reported in a Pixelblaze statistics message. method getStorageUsed \u00b6 getStorageUsed ( savedStatistics : dict = None ) \u2192 int Return the amount of Flash storage used on the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int : The used storage in bytes, as reported in a Pixelblaze statistics message. method getTimezone \u00b6 getTimezone ( configSettings : dict = None ) \u2192 str Returns the timezone, if any, for the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : A standard Unix tzstring. method getUpdateState \u00b6 getUpdateState () \u2192 < enum 'updateStates' > Returns the updateState of the Pixelblaze. Returns: updateStates : An enumeration describing the updateState of the Pixelblaze. method getUptime \u00b6 getUptime ( savedStatistics : dict = None ) \u2192 int Return the uptime (in seconds) of the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int : The uptime in seconds, as reported in a Pixelblaze statistics message. method getUrl \u00b6 getUrl ( endpoint : str = None ) \u2192 str Build the URL to communicate with the Pixelblaze using an HTTP endpoint. Args: endpoint (str, optional): The HTTP endpoint. Defaults to None, which returns the URL of the Pixelblaze webUI. Returns: str : The URL of the HTTP endpoint on the Pixelblaze. method getVersion \u00b6 getVersion () \u2192 float Returns the firmware version of the Pixelblaze. Returns: float : The firmware version, in major.minor format. method getVersionMajor \u00b6 getVersionMajor () \u2192 int Returns the major version number. Returns: int : A positive integer representing the integer portion of the version number (eg. for v3.24, returns 3). method getVersionMinor \u00b6 getVersionMinor () \u2192 int Returns the minor version number. Returns: int : A positive integer representing the fractional portion of the version number (eg. for v3.24, returns 24). method installUpdate \u00b6 installUpdate () \u2192 < enum 'updateStates' > Installs new Pixelblaze firmware, if the current updateState indicates that an update is available. Returns: updateStates : An enumeration describing the new updateState of the Pixelblaze. method nextSequencer \u00b6 nextSequencer ( saveToFlash : bool = False ) Mimics the 'Next' button in the UI. If the sequencerMode is ShuffleAll or Playlist, advances the pattern sequencer to the next pattern. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method pauseRenderer \u00b6 pauseRenderer ( doPause : bool ) Pause rendering. Lasts until unpause() is called or the Pixelblaze is reset. CAUTION: For advanced users only. Only used to stop the render engine before sending new bytecode. If you don't know exactly why you want to do this, DON'T DO IT. Args: doPause (bool): If True, pause the render engine; if False, resume it. method pauseSequencer \u00b6 pauseSequencer ( saveToFlash : bool = False ) Mimics the 'Pause' button in the UI. Pauses the pattern sequencer, without changing the current position in the shuffle or playlist. Has no effect if the sequencer is not currently running. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method playSequencer \u00b6 playSequencer ( saveToFlash : bool = False ) Mimics the 'Play' button in the UI. Starts the pattern sequencer, the consequences of which will vary depending upon the sequencerMode. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method putFile \u00b6 putFile ( fileName : str , fileContents : bytes ) \u2192 bool Uploads a file to the Pixelblaze using the HTTP API. Args: fileName (str): The pathname at which to store the file. fileContents (bytes): The data to store in the file. Returns: bool : True if the file was successfully stored; False otherwise. method reboot \u00b6 reboot () Reboots the Pixelblaze. This is occasionally necessary, eg. to force the Pixelblaze to recognize changes to configuration files. method restoreFromBackup \u00b6 restoreFromBackup ( fileName : str ) Restores the contents of this Pixelblaze from a Pixelblaze Binary Backup file. Args: fileName (str): The desired filename for the Pixelblaze Binary Backup. method saveBackup \u00b6 saveBackup ( fileName : str ) Saves the contents of this Pixelblaze into a Pixelblaze Binary Backup file. Args: fileName (str): The desired filename for the Pixelblaze Binary Backup. method savePattern \u00b6 savePattern ( previewImage : bytes , sourceCode : str , byteCode : bytes ) Saves a new pattern to the Pixelblaze filesystem. Mimics the effects of the 'Save' button. If you don't know how to generate the previewImage and byteCode components, you don't want to do this. Args: previewImage (bytes): A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. sourceCode (str): A string representation of a JSON dictionary containing the pattern source code. byteCode (bytes): A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. method sendPatternToRenderer \u00b6 sendPatternToRenderer ( bytecode : bytes , controls : dict = {}) Sends a blob of bytecode and a JSON dictionary of UI controls to the Renderer. Mimics the actions of the webUI code editor. Args: bytecode (bytes): A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. controls (dict, optional): a dictionary of UI controls exported by the pattern, with controlName as the key and controlValue as the value. Defaults to {}. method sendPing \u00b6 sendPing () \u2192 Optional [ str ] Send a Ping message to the Pixelblaze and wait for the Acknowledgement response. Returns: Union[str, None] : The acknowledgement message received from the Pixelblaze, or None if a timeout occurred. method setActiveControls \u00b6 setActiveControls ( dictControls : dict , saveToFlash : bool = False ) Sets the value of one or more UI controls exported from the active pattern. Args: dictControls (dict): A dictionary containing the values to be set, with controlName as the key and controlValue as the value. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setActivePattern \u00b6 setActivePattern ( patternId : str , saveToFlash : bool = False ) Sets the active pattern. Args: patternId (str): The patternId of the desired pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setActivePatternByName \u00b6 setActivePatternByName ( patternName : str , saveToFlash : bool = False ) Sets the currently running pattern using a text name. Args: patternName (str): The name of the pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setActiveVariables \u00b6 setActiveVariables ( dictVariables : dict ) Sets the values of one or more variables exported by the current pattern. Variables not present in the current pattern are ignored. Args: dict : A dictionary containing the variables to be set, with variableName as the key and variableValue as the value. method setAutoOffEnable \u00b6 setAutoOffEnable ( boolValue : bool , saveToFlash : bool = False ) Enables or disables the Pixelblaze's auto-Off scheduler. Args: boolValue (bool): A boolean indicating whether the auto-Off scheduler should be used. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setAutoOffEnd \u00b6 setAutoOffEnd ( timeValue : str , saveToFlash : bool = False ) Sets the time at which the Pixelblaze will turn on the pattern. Args: timeValue (str): A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setAutoOffStart \u00b6 setAutoOffStart ( timeValue : str , saveToFlash : bool = False ) Sets the time at which the Pixelblaze will turn off the pattern. Args: timeValue (str): A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setBrandName \u00b6 setBrandName ( brandName : str ) Sets the brand name of the Pixelblaze (used by VARs to change the brand name that appears on the webUI). Args: brandName (str): The new name. method setBrightnessLimit \u00b6 setBrightnessLimit ( maxBrightness : int , saveToFlash : bool = False ) Sets the Pixelblaze's global brightness limit. Args: maxBrightness (int): The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setBrightnessSlider \u00b6 setBrightnessSlider ( brightness : float , saveToFlash : bool = False ) Set the value of the UI brightness slider. Args: brightness (float): A floating-point value between 0.0 and 1.0. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setCacheRefreshTime \u00b6 setCacheRefreshTime ( seconds : int ) Set the interval, in seconds, after which calls to getPatternList() clear the pattern cache and fetch a new pattern list from the Pixelblaze. The Default is 600 seconds (10 minutes); the maximum allowable value is clamped to a million seconds (about 277 hours, or 11.5 days). Anything else would be excessive. Args: seconds (int): The maximum age of the pattern cache. method setColorControl \u00b6 setColorControl ( controlName : str , color : dict , saveToFlash : bool = False ) Sets the 3-element color of the specified HSV or RGB color picker. Args: controlName (str): The name of the color control to change. color (dict): A dictionary of RGB or HSV colors, with all values in the range 0-1. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setColorOrder \u00b6 setColorOrder ( colorOrder : colorOrders , saveToFlash : bool = False ) Sets the color order for the LEDs connected to the Pixelblaze. Args: colorOrder (colorOrders): The ordering for the color data sent to the LEDs. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setCpuSpeed \u00b6 setCpuSpeed ( cpuSpeed : cpuSpeeds ) Sets the CPU speed of the Pixelblaze. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the reboot function). Args: cpuSpeed (cpuSpeeds): The desired CPU speed. method setDataSpeed \u00b6 setDataSpeed ( speed : int , saveToFlash : bool = False ) Sets custom data rate for communicating with the LEDs. CAUTION: For advanced users only. If you don't know exactly why you want to do this, DON'T DO IT. See discussion in this thread on the Pixelblaze forum: https://forum.electromage.com/t/timing-of-a-cheap-strand/739 Args: speed (int): The data rate for communicating with the LEDs. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setDeviceName \u00b6 setDeviceName ( name : str ) Sets the device name of the Pixelblaze. Args: name (str): The human-readable name of the Pixelblaze. method setDiscovery \u00b6 setDiscovery ( enableDiscovery : bool , timezoneName : str = None ) Sets whether this Pixelblaze announces its presence to (and gets a clocktime reference from) the Electromage Discovery Service. Args: enableDiscovery (bool): A boolean controlling whether or not this Pixelblaze announces itself to the Electromage Discovery Service. timezoneName (str, optional): If present, a Unix tzstring specifying how to adjust the clocktime reference received from the Electromage Discovery Service. Defaults to None. method setLearningUiMode \u00b6 setLearningUiMode ( doLearningMode : bool ) Enables or disables \"Learning UI Mode\" which has additional UI help for new users. Args: doSimpleMode (bool): Whether to enable \"Learning UI Mode\". method setLedType \u00b6 setLedType ( ledType : ledTypes , dataSpeed : int = None , saveToFlash : bool = False ) Defines the type of LEDs connected to the Pixelblaze. Args: ledType (ledTypes): The type of LEDs connected to the Pixelblaze. dataSpeed (int, optional): If provided, sets a custom data speed for communication with the LEDs; otherwise the defaults from the webUI are used. Defaults to None. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setMapData \u00b6 setMapData ( mapData : bytes , saveToFlash : bool = True ) Sets the binary mapData used by the Pixelblaze. Args: mapData (bytes): a blob of binary mapData as generated by the Mapper tab of the Pixelblaze webUI. saveToFlash (bool, optional): A boolean indicating whether the mapData should be saved to Flash. Defaults to True. method setMapFunction \u00b6 setMapFunction ( mapFunction : str ) \u2192 bool Sets the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Note that this is does not change the mapData used by the Pixelblaze; the Mapper tab in the Pixelblaze UI compiles this text to produce binary mapData which is saved separately (see the setMapData function). Args: mapFunction (str): The text of the mapFunction. Returns: bool : True if the function text was successfully saved; otherwise False. method setNetworkPowerSave \u00b6 setNetworkPowerSave ( disableWifi : bool ) Enables or disables the WiFi connection on the Pixelblaze, which can significantly reduce power requirements for battery-powered installations. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the reboot function). Args: disableWifi (bool): A boolean indicating whether to disable Wifi. method setPixelCount \u00b6 setPixelCount ( nPixels : int , saveToFlash : bool = False ) Sets the number of LEDs attached to the Pixelblaze. Note that changing the number of pixels does not recalculate the pixelMap. Args: nPixels (int): The number of pixels. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setSendPreviewFrames \u00b6 setSendPreviewFrames ( doUpdates : bool ) Set whether or not the Pixelblaze sends pattern preview frames. Args: doUpdates (bool): True sends preview frames, False stops. method setSequencerMode \u00b6 setSequencerMode ( sequencerMode : sequencerModes , saveToFlash : bool = False ) Sets the sequencer mode to one of the available sequencerModes (Off, ShuffleAll, or Playlist). Args: sequencerMode (enum): The desired sequencer mode. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setSequencerPlaylist \u00b6 setSequencerPlaylist ( playlistContents : dict , playlistId : str = '_defaultplaylist_' ) Replaces the entire contents of the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Args: playlistContents (dict): The new playlist contents. playlistId (str, optional): The name of the playlist (for future enhancement; currently only ' defaultplaylist ' is supported). Defaults to \" defaultplaylist \". method setSequencerShuffleTime \u00b6 setSequencerShuffleTime ( nMillis : int , saveToFlash : bool = False ) Sets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Args: nMillis (int): The number of milliseconds to play each pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setSequencerState \u00b6 setSequencerState ( sequencerState : bool , saveToFlash : bool = False ) Set the run state of the sequencer. Args: sequencerState (bool): A boolean value determining whether or not the sequencer should run. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setSimpleUiMode \u00b6 setSimpleUiMode ( doSimpleMode : bool ) Enables or disables \"Simple UI Mode\" which makes the UI more suitable for non-technical audiences. Args: doSimpleMode (bool): Whether to enable \"Simple UI Mode\". method setTimezone \u00b6 setTimezone ( timezoneName : str ) Sets the Pixelblaze's timezone, which specifies how to adjust the clocktime reference provided by the Electromage Discovery Service. To clear the timezone, pass an empty string. Args: timezoneName (str): A Unix tzstring specifying how to adjust the clocktime reference provided by the Electromage Discovery Service. method wsReceive \u00b6 wsReceive ( binaryMessageType : messageTypes = None ) \u2192 Union [ str , bytes , NoneType ] Wait for a message of a particular type from the Pixelblaze. Args: binaryMessageType (messageTypes, optional): The type of binary message to wait for (if None, waits for a text message). Defaults to None. Returns: Union[str, bytes, None] : The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. method wsSendBinary \u00b6 wsSendBinary ( binaryMessageType : messageTypes , blob : bytes , expectedResponse : str = None ) Send a binary command to the Pixelblaze, and optionally wait for a suitable response. Args: binaryMessageType (messageTypes, optional): The type of binary message to send. blob (bytes): The message body to be sent. expectedResponse (str, optional): If present, the initial key of the expected JSON response to the command. Defaults to None. Returns: response : The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. method wsSendJson \u00b6 wsSendJson ( command : dict , expectedResponse = None ) \u2192 Union [ str , bytes , NoneType ] Send a JSON-formatted command to the Pixelblaze, and optionally wait for a suitable response. Args: command (dict): A Python dictionary which will be sent to the Pixelblaze as a JSON command. expectedResponse (str, optional): If present, the initial key of the expected JSON response to the command. Defaults to None. Returns: Union[str, bytes, None] : The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. class PBB \u00b6 This class provides methods for importing, exporting, and manipulating the contents of a Pixelblaze Binary Backup, as created from the Settings menu on a Pixelblaze. CREATION - fromFile() - fromIpAddress() - fromPixelblaze() PROPERTIES - deviceName() - getFileList() MANIPULATION - getFile() / putFile() / deleteFile() PERSISTENCE - toFile() - toIpAddress() - toPixelblaze() Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. method __init__ \u00b6 __init__ ( name : str , blob : bytes ) Initializes a new Pixelblaze Binary Backup (PBB) object. Args: id (str): The patternId of the pattern. blob (bytes): The binary contents of the pattern. Note: This method is not intended to be called directly; use the static methods fromFile() , fromIpAddress() or fromPixelblaze() methods to create and return a Pixelblaze Binary Backup (PBB) object. property deviceName \u00b6 Gets the user-friendly name of the device from which this PixelBlazeBackup was made. Returns: str : The user-friendly name of the device from which this PixelBlazeBackup was made. method deleteFile \u00b6 deleteFile ( fileName : str ) Removes a particular file from this PixelBlazeBackup. Args: fileName (str): The name of the file to be deleted. method fromFile \u00b6 fromFile ( fileName : str ) \u2192 PBB Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a file on disk. Args: fileName (str): The filename of the Pixelblaze Binary Backup. Returns: PBB : A new Pixelblaze Binary Backup object. method fromIpAddress \u00b6 fromIpAddress ( ipAddress : str , proxyUrl : str = None , verbose : bool = False ) \u2192 PBB Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a Pixelblaze specified by IP address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. Returns: PBB : A new Pixelblaze Binary Backup object. method fromPixelblaze \u00b6 fromPixelblaze ( pb : Pixelblaze , verbose : bool = False ) \u2192 PBB Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from an existing Pixelblaze object. Args: pb (Pixelblaze): A Pixelblaze object. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. Returns: PBB : A new Pixelblaze Binary Backup object. method getFile \u00b6 getFile ( fileName : str ) \u2192 bytes Returns the contents of a particular file contained in this PixelBlazeBackup. Args: fileName (str): The name of the file to be returned. Returns: bytes : The contents of the requested file. method getFileList \u00b6 getFileList ( fileTypes : fileTypes = < fileTypes . fileAll : 63 > ) \u2192 list [ str ] Returns a sorted list of the files contained in this PixelBlazeBackup. Args: fileTypes (fileTypes, optional): An bitwise enumeration indicating the types of files to list. Defaults to fileTypes.fileAll. Returns: list[str] : A list of filenames. method putFile \u00b6 putFile ( fileName : str , fileContents : bytes ) Inserts or replaces the contents of a particular file into this PixelBlazeBackup. Args: fileName (str): The name of the file to be stored. fileContents (bytes): The contents of the file to be stored. method toFile \u00b6 toFile ( fileName : str = None , explode : bool = False ) Writes this Pixelblaze Binary Backup to a file on disk. Args: fileName (str, optional): If specified, the filename of the Pixelblaze Binary Backup to be created; otherwise the originating Pixelblaze name is used. Defaults to None. explode (bool, optional): If specified, also exports the files within the Pixelblaze Binary Backup to a subdirectory. Defaults to False. method toIpAddress \u00b6 toIpAddress ( ipAddress : str , proxyUrl : str = None , verbose : bool = False ) Restores the contents of this PixelBlazeBackup to a Pixelblaze identified by IP Address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\").. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. method toPixelblaze \u00b6 toPixelblaze ( pb : Pixelblaze , verbose : bool = False ) Uploads the contents of this PixelBlazeBackup to the destination Pixelblaze. Args: pb (Pixelblaze): A Pixelblaze object. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. class PBP \u00b6 This class represents a Pixelblaze Binary Pattern, as stored on the Pixelblaze filesystem or contained in a Pixelblaze Binary Backup. CREATION - fromBytes() - fromFile() - fromIpAddress() - fromPixelblaze() PROPERTIES - id() - name() - jpeg() - byteCode() - sourceCode() PERSISTENCE - toFile() - toIpAddress() - toPixelblaze() - toEPE() - explode() Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. method __init__ \u00b6 __init__ ( id : str , blob : bytes ) Initializes a new Pixelblaze Binary Pattern (PBP) object. Args: id (str): The patternId of the pattern. blob (bytes): The binary contents of the pattern. Note: This method is not intended to be called directly; use the static methods fromBytes() , fromFile() , fromIpAddress() or fromPixelblaze() methods to create and return a PBP object. property byteCode \u00b6 Returns (as a collection of bytes) the bytecode of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: bytes : The bytecode of the pattern contained in this Pixelblaze Binary Pattern (PBP). property id \u00b6 Returns the patternId of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: str : The patternId of the pattern contained in this Pixelblaze Binary Pattern (PBP). property jpeg \u00b6 Returns (as a collection of bytes) the preview JPEG of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: bytes : The preview JPEG of the pattern contained in this Pixelblaze Binary Pattern (PBP). property name \u00b6 Returns the (human-readable) name of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: str : The (human-readable) name of the pattern contained in this Pixelblaze Binary Pattern (PBP). property sourceCode \u00b6 Returns the source code of the pattern in this Pixelblaze Binary Pattern (PBP). Returns: str : The source code of the pattern as a JSON-encoded string. method explode \u00b6 explode ( path : str = None ) Exports all the components of this Pixelblaze Binary Pattern (PBP) as separate files. Args: path (str, optional): If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None. method fromBytes \u00b6 fromBytes ( patternId : str , blob : bytes ) \u2192 PBP Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are initialized from a bytes array. Args: patternId (str): A patternId for the Pixelblaze Binary Pattern to be created. blob (bytes): The binary contents of the Pixelblaze Binary Pattern to be created. Returns: PBP : A new Pixelblaze Binary Pattern object. method fromFile \u00b6 fromFile ( fileName : str ) \u2192 PBP Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are loaded from a file on disk. Args: fileName (str): The name of the file to be loaded into a Pixelblaze Binary Pattern. Returns: PBP : A new Pixelblaze Binary Pattern object. method fromIpAddress \u00b6 fromIpAddress ( ipAddress : str , patternId : str , proxyUrl : str = None ) \u2192 PBP Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from a URL. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). patternId (str): The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: PBP : A new Pixelblaze Binary Pattern object. method fromPixelblaze \u00b6 fromPixelblaze ( pb : Pixelblaze , patternId : str ) \u2192 PBP Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from an active Pixelblaze object. Args: pb (Pixelblaze): An active Pixelblaze object. patternId (str): The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. Returns: PBP : A new Pixelblaze Binary Pattern object. method toEPE \u00b6 toEPE () \u2192 EPE Creates a new Electromage Pattern Export (EPE) and initializes it from the contents of this Pixelblaze Binary Pattern (PBP). Returns: EPE : A new Electromage Pattern Export object. method toFile \u00b6 toFile ( fileName : str = None ) Saves this Pixelblaze Binary Pattern (PBP) to a file on disk. Args: fileName (str, optional): If provided, A name for the Pixelblaze Binary Pattern file to be created; otherwise, the name is derived from the patternId. Defaults to None. method toIpAddress \u00b6 toIpAddress ( ipAddress : str , proxyUrl : str = None ) Uploads this Pixelblaze Binary Pattern (PBP) to a Pixelblaze identified by its IP address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. method toPixelblaze \u00b6 toPixelblaze ( pb : Pixelblaze ) Uploads this Pixelblaze Binary Pattern (PBP) to an active Pixelblaze object. Args: pb (Pixelblaze): An active Pixelblaze object. class EPE \u00b6 This class provides methods for importing, exporting, and manipulating the contents of an Electromage Pattern Export (EPE), as exported from the Patterns list on a Pixelblaze. CREATION - fromBytes() - fromFile() PROPERTIES - patternId() - patternName() - sourceCode() - previewImage() PERSISTENCE - toFile() - explode() Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. method __init__ \u00b6 __init__ ( blob : bytes ) Initializes a new Electromage Pattern Export (EPE) object. Args: blob (bytes): The contents of the Electromage Pattern Export (EPE). Note: This method is not intended to be called directly; use the static methods fromBytes() or fromFile() to create and return an Electromage Pattern Export object. property patternId \u00b6 Returns the patternId of the pattern contained in this Electromage Pattern Export (EPE). Returns: str : The patternId of the pattern contained in this Electromage Pattern Export (EPE). property patternName \u00b6 Returns the human-readable name of the pattern in this Electromage Pattern Export (EPE). Returns: str : The human-readable name of the pattern contained in this Electromage Pattern Export (EPE). property previewImage \u00b6 Returns (as bytes) the preview JPEG of the pattern contained in this Electromage Pattern Export (EPE). Returns: bytes : The preview JPEG of the pattern contained in this Electromage Pattern Export (EPE). property sourceCode \u00b6 Returns the source code of the pattern contained in this Electromage Pattern Export (EPE). Returns: str : The sourceCode of the pattern contained in this Electromage Pattern Export (EPE). method explode \u00b6 explode ( path : str ) Exports the components of this Electromage Pattern Export (EPE) to separate files. Args: path (str): If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None. method fromBytes \u00b6 fromBytes ( blob : bytes ) \u2192 EPE Creates and returns a new Electromage Pattern Export (EPE) whose contents are loaded from a bytes array. Args: blob (bytes): The data from which to create the Electromage Pattern Export (EPE). Returns: EPE : A new Electromage Pattern Export (EPE) object. method fromFile \u00b6 fromFile ( fileName : str ) \u2192 EPE Creates and returns a new portable pattern EPE whose contents are loaded from a file on disk. Args: fileName (str): The name of the file from which to create the Electromage Pattern Export (EPE). Returns: EPE : A new Electromage Pattern Export (EPE) object. method toFile \u00b6 toFile ( fileName : str = None ) Saves this Electromage Pattern Export (EPE) to a file on disk. Args: fileName (str, optional): If provided, a name for the file to be created; otherwise derived from the patternId. Defaults to None. class PixelblazeEnumerator \u00b6 Listens on a network to detect available Pixelblazes, which the user can then list or open as Pixelblaze objects. Also provides time synchronization services for running synchronized patterns on a network of Pixelblazes. method __init__ \u00b6 __init__ ( hostIP = '0.0.0.0' ) Create an object that listens continuously for Pixelblaze beacon packets, maintains a list of Pixelblazes and supports synchronizing time on multiple Pixelblazes to allows them to run patterns simultaneously. Takes the IPv4 address of the interface to use for listening on the calling computer. Listens on all available interfaces if hostIP is not specified. method disableTimesync \u00b6 disableTimesync () Turns off the time synchronization -- the PixelblazeEnumerator will not automatically synchronize Pixelblazes. method enableTimesync \u00b6 enableTimesync () Instructs the PixelblazeEnumerator object to automatically synchronize time on all Pixelblazes. (Note that time synchronization is off by default when a new PixelblazeEnumerator is created.) method getPixelblazeList \u00b6 getPixelblazeList () method setDeviceTimeout \u00b6 setDeviceTimeout ( ms ) Sets the interval in milliseconds which the enumerator will wait without hearing from a device before removing it from the active devices list. The default timeout is 30000 (30 seconds). method start \u00b6 start ( hostIP ) Open socket for listening to Pixelblaze datagram traffic, set appropriate options and bind to specified interface and start listener thread. method stop \u00b6 stop () Stop listening for datagrams, terminate listener thread and close socket. This file was automatically generated via lazydocs .","title":"Pixelblaze"},{"location":"pixelblaze/#module-pixelblaze","text":"A library that provides a simple, synchronous interface for communicating with and controlling Pixelblaze LED controllers. This module contains the following classes: Pixelblaze : an object for controlling Pixelblazes. PBB : an object for creating and manipulating Pixelblaze Binary Backups. PBP : an object for creating and manipulating Pixelblaze Binary Patterns. EPE : an object for creating and manipulating Electromage Pattern Exports.","title":"module pixelblaze"},{"location":"pixelblaze/#class-pixelblaze","text":"The Pixelblaze class presents a simple synchronous interface to a single Pixelblaze's websocket API. The constructor takes the Pixelblaze's IPv4 address in the usual 12 digit numeric form (for example, \"192.168.4.1\"). To control multiple Pixelblazes, create multiple objects. The objective is to provide 99% coverage of the functionality of the Pixelblaze webUI, and so the supported methods are named and grouped according to the tabs of the webUI: CREATION __init__() EnumerateAddresses() EnumerateDevices() PATTERNS tab SEQUENCER section getSequencerMode / setSequencerMode getSequencerState / setSequencerState getSequencerShuffleTime / setSequencerShuffleTime getSequencerPlaylist / addToSequencerPlaylist / setSequencerPlaylist SAVED PATTERNS section getPatternList getActivePattern / setActivePattern getActiveVariables / setActiveVariables getActiveControls / setActiveControls deletePattern getPatternAsEpe EDIT tab getPatternControls getPatternSourceCode sendPatternToRenderer savePattern MAPPER tab getMapFunction / setMapFunction getMapData / setMapData SETTINGS tab getConfigSettings getConfigSequencer getConfigExpander NAME section getDeviceName / setDeviceName getDiscovery / setDiscovery getTimezone / setTimezone getAutoOffEnable / setAutoOffEnable getAutoOffStart / setAutoOffStart getAutoOffEnd / setAutoOffEnd LED section getBrightnessLimit / setBrightnessLimit getLedType / setLedType getPixelCount / setPixelCount getDataSpeed / setDataSpeed getColorOrder / setColorOrder getCpuSpeed / setCpuSpeed getNetworkPowerSave / setNetworkPowerSave UPDATES section getUpdateState / installUpdate getVersion / getVersionMajor / getVersionMinor / BACKUPS section saveBackup / restoreFromBackup reboot ADVANCED tab getBrandName / setBrandName getSimpleUiMode / setSimpleUiMode getLearningUiMode / setLearningUiMode GLOBAL CONTROLS getBrightnessSlider / setBrightnessSlider LOW-LEVEL SEND/RECEIVE wsReceive wsSendJson wsSendBinary FILESYSTEM getFileList getFile / putFile / deleteFile STATISTICS getStatistics getFPS getUptime getStorageSize getStorageUsed","title":"class Pixelblaze"},{"location":"pixelblaze/#method-__init__","text":"__init__ ( ipAddress : str , proxyUrl : str = None ) Initializes an object for communicating with and controlling a Pixelblaze. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None.","title":"method __init__"},{"location":"pixelblaze/#method-enumerateaddresses","text":"EnumerateAddresses ( timeout : int = 1500 , proxyUrl : str = None , hostIP : str = '0.0.0.0' ) \u2192 LightweightEnumerator Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Args: hostIP (str, optional): The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. timeout (int, optional): The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: LightweightEnumerator : A subclassed Python enumerator object that returns (as a string) the IPv4 address of a Pixelblaze, in the usual dotted-quads numeric format.","title":"method EnumerateAddresses"},{"location":"pixelblaze/#method-enumeratedevices","text":"EnumerateDevices ( timeout : int = 1500 , proxyUrl : str = None , hostIP : str = '0.0.0.0' ) \u2192 LightweightEnumerator Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Args: hostIP (str, optional): The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. timeout (int, optional): The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: LightweightEnumerator : A subclassed Python enumerator object that returns a Pixelblaze object for controlling a discovered Pixelblaze.","title":"method EnumerateDevices"},{"location":"pixelblaze/#method-addtosequencerplaylist","text":"addToSequencerPlaylist ( playlistContents : dict , patternId : str , duration : int ) \u2192 dict Appends a new entry to the specified playlist. Args: patternId (str): The patternId of the pattern to be played. duration (int): The number of milliseconds to play the pattern. playlistContents (dict): The results of a previous call to getSequencerPlaylist . Returns: dict : The updated playlist, which can then be sent back to the Pixelblaze with setSequencerPlaylist .","title":"method addToSequencerPlaylist"},{"location":"pixelblaze/#method-controlexists","text":"controlExists ( controlName : str , patternId : str = None ) \u2192 bool Tests whether the named control exists in the specified pattern. If no pattern is specified, the currently active pattern is assumed. Note that the active pattern can be undefined on a freshly started Pixelblaze until the pattern has been explicitly set. This function also will return False if the active pattern is not available. Args: controlName (str): The name of the control. patternId (str, optional): The pattern in which to test for the presence of the control. Defaults to None. Returns: bool : True if the specified control exists, False otherwise.","title":"method controlExists"},{"location":"pixelblaze/#method-deletefile","text":"deleteFile ( fileName : str ) \u2192 bool Deletes a file from this Pixelblaze using the HTTP API. Args: fileName (str): The pathname (as returned from getFileList ) of the file to be deleted. Returns: bool : True if the file was successfully stored; False otherwise.","title":"method deleteFile"},{"location":"pixelblaze/#method-deletepattern","text":"deletePattern ( patternId : str ) Delete a pattern saved on the Pixelblaze. Args: patternId (str): The patternId of the desired pattern.","title":"method deletePattern"},{"location":"pixelblaze/#method-getactivecontrols","text":"getActiveControls ( configSequencer : dict = None ) \u2192 dict Returns the collection of controls for the pattern currently running on the Pixelblaze. If there are no controls or no pattern has been set, returns an empty dictionary. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: dict : A dictionary containing the control names and values, with controlName as the key and controlValue as the value.","title":"method getActiveControls"},{"location":"pixelblaze/#method-getactivepattern","text":"getActivePattern ( configSequencer : dict = None ) \u2192 str Returns the ID of the pattern currently running on the Pixelblaze. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: str : The patternId of the current pattern, if any; otherwise an empty string.","title":"method getActivePattern"},{"location":"pixelblaze/#method-getactivevariables","text":"getActiveVariables () \u2192 dict Gets the names and values of all variables exported by the current pattern. Returns: dict : A dictionary containing all the variables exported by the active pattern, with variableName as the key and variableValue as the value.","title":"method getActiveVariables"},{"location":"pixelblaze/#method-getautooffenable","text":"getAutoOffEnable ( configSettings : dict = None ) \u2192 bool Returns whether the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : A boolean indicating whether the auto-Off timer is enabled.","title":"method getAutoOffEnable"},{"location":"pixelblaze/#method-getautooffend","text":"getAutoOffEnd ( configSettings : dict = None ) \u2192 str Returns the time, if any, at which the Pixelblaze will turn on the pattern when the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : A Unix time string in \"HH:MM\" format.","title":"method getAutoOffEnd"},{"location":"pixelblaze/#method-getautooffstart","text":"getAutoOffStart ( configSettings : dict = None ) \u2192 str Returns the time, if any, at which the Pixelblaze will turn off the pattern when the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : A Unix time string in \"HH:MM\" format.","title":"method getAutoOffStart"},{"location":"pixelblaze/#method-getbrandname","text":"getBrandName ( configSettings : dict = None ) \u2192 str Returns the brand name, if any, of this Pixelblaze (blank unless rebadged by a reseller). Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : The brand name.","title":"method getBrandName"},{"location":"pixelblaze/#method-getbrightnesslimit","text":"getBrightnessLimit ( configSettings : dict = None ) \u2192 int Returns the maximum brightness for the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int : The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings).","title":"method getBrightnessLimit"},{"location":"pixelblaze/#method-getbrightnessslider","text":"getBrightnessSlider ( configSettings : dict = None ) \u2192 float Get the value of the UI brightness slider. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: float : A floating-point value between 0.0 and 1.0.","title":"method getBrightnessSlider"},{"location":"pixelblaze/#method-getcolorcontrolname","text":"getColorControlName ( patternId : str = None ) \u2192 str Returns the name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. Args: patternId (str, optional): The pattern to search for color controls; or the currently active pattern if not specified. Defaults to None. Returns: str : The name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise.","title":"method getColorControlName"},{"location":"pixelblaze/#method-getcolorcontrolnames","text":"getColorControlNames ( patternId : str = None ) \u2192 list Returns a list of names of the specified pattern's rgbPicker or hsvPicker controls if any exist, None otherwise. If the pattern argument is not specified, check the currently running pattern","title":"method getColorControlNames"},{"location":"pixelblaze/#method-getcolororder","text":"getColorOrder ( configSettings : dict = None ) \u2192 < enum 'colorOrders' > Returns the color order of the LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: colorOrders : The ordering for the color data sent to the LEDs.","title":"method getColorOrder"},{"location":"pixelblaze/#method-getconfigexpander","text":"getConfigExpander () \u2192 dict Retrieves the OutputExpander configuration. Returns: dict : The OutputExpander configuration as a dictionary, with settingName as the key and settingValue as the value.","title":"method getConfigExpander"},{"location":"pixelblaze/#method-getconfigsequencer","text":"getConfigSequencer () \u2192 dict Retrieves the Sequencer state. Returns: dict : The sequencer configuration as a dictionary, with settingName as the key and settingValue as the value.","title":"method getConfigSequencer"},{"location":"pixelblaze/#method-getconfigsettings","text":"getConfigSettings () \u2192 dict Returns the configuration as defined on the Settings tab of the Pixelblaze. Returns: dict : A dictionary containing the configuration settings, with settingName as the key and settingValue as the value.","title":"method getConfigSettings"},{"location":"pixelblaze/#method-getcpuspeed","text":"getCpuSpeed ( configSettings : dict = None ) \u2192 < enum 'cpuSpeeds' > Returns the CPU speed of the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: cpuSpeeds : An enumeration representing the CPU speed.","title":"method getCpuSpeed"},{"location":"pixelblaze/#method-getdataspeed","text":"getDataSpeed ( configSettings : dict = None ) \u2192 int Returns the data speed of the LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int : The data speed for communicating with the LEDs.","title":"method getDataSpeed"},{"location":"pixelblaze/#method-getdevicename","text":"getDeviceName ( configSettings : dict = None ) \u2192 str Returns the user-friendly name of the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : The user-friendly name of the Pixelblaze.","title":"method getDeviceName"},{"location":"pixelblaze/#method-getdiscovery","text":"getDiscovery ( configSettings : dict = None ) \u2192 bool Returns a boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : A boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service.","title":"method getDiscovery"},{"location":"pixelblaze/#method-getfps","text":"getFPS ( savedStatistics : dict = None ) \u2192 float Return the speed (in Frames per Second) of the pattern rendering. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int : The pattern speed in FPS, as reported in a Pixelblaze statistics message.","title":"method getFPS"},{"location":"pixelblaze/#method-getfile","text":"getFile ( fileName : str ) \u2192 bytes Downloads a file from the Pixelblaze using the HTTP API. Args: fileName (str): The pathname (as returned from getFileList ) of the file to be downloaded. Returns: bytes : The contents of the file.","title":"method getFile"},{"location":"pixelblaze/#method-getfilelist","text":"getFileList ( fileTypes : fileTypes = < fileTypes . fileAll : 63 > ) \u2192 list [ str ] Returns a list of all the files of a particular type stored on the Pixelblaze's filesystem. For Pixelblazes running firmware versions lower than 2.29/3.24 (the point at which the necessary API was introduced), the list includes the names of optional configuration files that may or may not exist on a particular Pixelblaze, depending on its setup. Args: fileTypes (fileTypes, optional): A bitmasked enumeration of the fileTypes to be listed. Defaults to fileTypes.fileAll. Returns: list[str] : A list of filenames of the requested fileType.","title":"method getFileList"},{"location":"pixelblaze/#method-getlearninguimode","text":"getLearningUiMode ( configSettings : dict = None ) \u2192 bool Returns whether \"Learning UI Mode\" is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : A boolean indicating whether \"Learning UI Mode\" is enabled.","title":"method getLearningUiMode"},{"location":"pixelblaze/#method-getledtype","text":"getLedType ( configSettings : dict = None ) \u2192 < enum 'ledTypes' > Returns the type of LEDs connected to the Pixelblaze.","title":"method getLedType"},{"location":"pixelblaze/#method-getmapdata","text":"getMapData () \u2192 bytes Gets the binary representation of the pixelMap entered on the 'Mapper' tab. Returns: bytes : The binary mapData as generated by the Mapper tab of the Pixelblaze webUI.","title":"method getMapData"},{"location":"pixelblaze/#method-getmapfunction","text":"getMapFunction () \u2192 str Returns the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Returns: str : The text of the mapFunction.","title":"method getMapFunction"},{"location":"pixelblaze/#method-getnetworkpowersave","text":"getNetworkPowerSave ( configSettings : dict = None ) \u2192 bool Returns whether the \"Network Power Saving\" mode is enabled (and WiFi is disabled). Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : Whether the \"Network Power Saving\" mode is enabled.","title":"method getNetworkPowerSave"},{"location":"pixelblaze/#method-getpatternasepe","text":"getPatternAsEpe ( patternId : str ) \u2192 str Convert a stored pattern into an exportable, portable JSON format (which then needs to be saved by the caller). Args: patternId (str): The patternId of the desired pattern. Returns: str : The exported pattern as a JSON dictionary.","title":"method getPatternAsEpe"},{"location":"pixelblaze/#method-getpatterncontrols","text":"getPatternControls ( patternId : str ) \u2192 dict Returns the name and value of any UI controls exported by the specified pattern. Args: patternId (str): The patternId of the pattern. Returns: dict : A dictionary containing the control names and values, with controlName as the key and controlValue as the value.","title":"method getPatternControls"},{"location":"pixelblaze/#method-getpatternlist","text":"getPatternList ( forceRefresh : bool = False ) \u2192 dict Returns a list of all the patterns saved on the Pixelblaze. Normally reads from the cached pattern list, which is refreshed every 10 minutes by default. To change the cache refresh interval, call setCacheRefreshTime(seconds). Args: forceRefresh (bool, optional): Forces a refresh of the cached patternList. Defaults to False. Returns: dict : A dictionary of the patterns stored on the Pixelblaze, where the patternId is the key and the patternName is the value.","title":"method getPatternList"},{"location":"pixelblaze/#method-getpatternsourcecode","text":"getPatternSourceCode ( patternId : str ) \u2192 str Gets the sourceCode of a saved pattern from the Pixelblaze. Args: patternId (str): The patternId of the desired pattern. Returns: str : A string representation of a JSON dictionary containing the pattern source code.","title":"method getPatternSourceCode"},{"location":"pixelblaze/#method-getpeers","text":"getPeers () A new command, added to the API but not yet implemented as of v2.29/v3.24, that will return a list of all the Pixelblazes visible on the local network segment. Returns: TBD : To be defined once @wizard implements the function.","title":"method getPeers"},{"location":"pixelblaze/#method-getpixelcount","text":"getPixelCount ( configSettings : dict = None ) \u2192 int Returns the number of LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int : The number of LEDs connected to the Pixelblaze.","title":"method getPixelCount"},{"location":"pixelblaze/#method-getpreviewframe","text":"getPreviewFrame () \u2192 bytes Grab one of the preview frames that Pixelblaze sends after every render cycle. Returns: bytes : a collection of bytes representing pixelCount tuples containing the (R, G, B) values for each pixel in the pattern preview.","title":"method getPreviewFrame"},{"location":"pixelblaze/#method-getpreviewimage","text":"getPreviewImage ( patternId : str ) \u2192 bytes Gets the preview image (a JPEG with 150 iterations of the pattern) saved within a pattern. Args: patternId (str): The patternId of the desired pattern. Returns: bytes : A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern.","title":"method getPreviewImage"},{"location":"pixelblaze/#method-getsequencermode","text":"getSequencerMode ( configSequencer : dict = None ) \u2192 < enum 'sequencerModes' > Gets the current sequencer mode. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: sequencerModes : The sequencerMode.","title":"method getSequencerMode"},{"location":"pixelblaze/#method-getsequencerplaylist","text":"getSequencerPlaylist ( playlistId : str = '_defaultplaylist_' ) Fetches the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Args: playlistId (str, optional): The name of the playlist (for future enhancement; currently only ' defaultplaylist ' is supported). Defaults to \" defaultplaylist \". Returns: dict : The contents of the playlist.","title":"method getSequencerPlaylist"},{"location":"pixelblaze/#method-getsequencershuffletime","text":"getSequencerShuffleTime ( configSequencer : dict = None ) \u2192 int Gets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: int : The number of milliseconds to play each pattern.","title":"method getSequencerShuffleTime"},{"location":"pixelblaze/#method-getsequencerstate","text":"getSequencerState ( configSequencer : dict = None ) \u2192 bool Gets the current sequencer run state. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: bool : True if the sequencer is running; False otherwise.","title":"method getSequencerState"},{"location":"pixelblaze/#method-getsimpleuimode","text":"getSimpleUiMode ( configSettings : dict = None ) \u2192 bool Returns whether \"Simple UI Mode\" is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool : A boolean indicating whether \"Simple UI Mode\" is enabled.","title":"method getSimpleUiMode"},{"location":"pixelblaze/#method-getstatistics","text":"getStatistics () \u2192 dict Grab one of the statistical packets that Pixelblaze sends every second. Returns: dict : the JSON message received from the Pixelblaze.","title":"method getStatistics"},{"location":"pixelblaze/#method-getstoragesize","text":"getStorageSize ( savedStatistics : dict = None ) \u2192 int Return the available Flash storage on the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int : The available storage in bytes, as reported in a Pixelblaze statistics message.","title":"method getStorageSize"},{"location":"pixelblaze/#method-getstorageused","text":"getStorageUsed ( savedStatistics : dict = None ) \u2192 int Return the amount of Flash storage used on the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int : The used storage in bytes, as reported in a Pixelblaze statistics message.","title":"method getStorageUsed"},{"location":"pixelblaze/#method-gettimezone","text":"getTimezone ( configSettings : dict = None ) \u2192 str Returns the timezone, if any, for the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str : A standard Unix tzstring.","title":"method getTimezone"},{"location":"pixelblaze/#method-getupdatestate","text":"getUpdateState () \u2192 < enum 'updateStates' > Returns the updateState of the Pixelblaze. Returns: updateStates : An enumeration describing the updateState of the Pixelblaze.","title":"method getUpdateState"},{"location":"pixelblaze/#method-getuptime","text":"getUptime ( savedStatistics : dict = None ) \u2192 int Return the uptime (in seconds) of the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int : The uptime in seconds, as reported in a Pixelblaze statistics message.","title":"method getUptime"},{"location":"pixelblaze/#method-geturl","text":"getUrl ( endpoint : str = None ) \u2192 str Build the URL to communicate with the Pixelblaze using an HTTP endpoint. Args: endpoint (str, optional): The HTTP endpoint. Defaults to None, which returns the URL of the Pixelblaze webUI. Returns: str : The URL of the HTTP endpoint on the Pixelblaze.","title":"method getUrl"},{"location":"pixelblaze/#method-getversion","text":"getVersion () \u2192 float Returns the firmware version of the Pixelblaze. Returns: float : The firmware version, in major.minor format.","title":"method getVersion"},{"location":"pixelblaze/#method-getversionmajor","text":"getVersionMajor () \u2192 int Returns the major version number. Returns: int : A positive integer representing the integer portion of the version number (eg. for v3.24, returns 3).","title":"method getVersionMajor"},{"location":"pixelblaze/#method-getversionminor","text":"getVersionMinor () \u2192 int Returns the minor version number. Returns: int : A positive integer representing the fractional portion of the version number (eg. for v3.24, returns 24).","title":"method getVersionMinor"},{"location":"pixelblaze/#method-installupdate","text":"installUpdate () \u2192 < enum 'updateStates' > Installs new Pixelblaze firmware, if the current updateState indicates that an update is available. Returns: updateStates : An enumeration describing the new updateState of the Pixelblaze.","title":"method installUpdate"},{"location":"pixelblaze/#method-nextsequencer","text":"nextSequencer ( saveToFlash : bool = False ) Mimics the 'Next' button in the UI. If the sequencerMode is ShuffleAll or Playlist, advances the pattern sequencer to the next pattern. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method nextSequencer"},{"location":"pixelblaze/#method-pauserenderer","text":"pauseRenderer ( doPause : bool ) Pause rendering. Lasts until unpause() is called or the Pixelblaze is reset. CAUTION: For advanced users only. Only used to stop the render engine before sending new bytecode. If you don't know exactly why you want to do this, DON'T DO IT. Args: doPause (bool): If True, pause the render engine; if False, resume it.","title":"method pauseRenderer"},{"location":"pixelblaze/#method-pausesequencer","text":"pauseSequencer ( saveToFlash : bool = False ) Mimics the 'Pause' button in the UI. Pauses the pattern sequencer, without changing the current position in the shuffle or playlist. Has no effect if the sequencer is not currently running. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method pauseSequencer"},{"location":"pixelblaze/#method-playsequencer","text":"playSequencer ( saveToFlash : bool = False ) Mimics the 'Play' button in the UI. Starts the pattern sequencer, the consequences of which will vary depending upon the sequencerMode. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method playSequencer"},{"location":"pixelblaze/#method-putfile","text":"putFile ( fileName : str , fileContents : bytes ) \u2192 bool Uploads a file to the Pixelblaze using the HTTP API. Args: fileName (str): The pathname at which to store the file. fileContents (bytes): The data to store in the file. Returns: bool : True if the file was successfully stored; False otherwise.","title":"method putFile"},{"location":"pixelblaze/#method-reboot","text":"reboot () Reboots the Pixelblaze. This is occasionally necessary, eg. to force the Pixelblaze to recognize changes to configuration files.","title":"method reboot"},{"location":"pixelblaze/#method-restorefrombackup","text":"restoreFromBackup ( fileName : str ) Restores the contents of this Pixelblaze from a Pixelblaze Binary Backup file. Args: fileName (str): The desired filename for the Pixelblaze Binary Backup.","title":"method restoreFromBackup"},{"location":"pixelblaze/#method-savebackup","text":"saveBackup ( fileName : str ) Saves the contents of this Pixelblaze into a Pixelblaze Binary Backup file. Args: fileName (str): The desired filename for the Pixelblaze Binary Backup.","title":"method saveBackup"},{"location":"pixelblaze/#method-savepattern","text":"savePattern ( previewImage : bytes , sourceCode : str , byteCode : bytes ) Saves a new pattern to the Pixelblaze filesystem. Mimics the effects of the 'Save' button. If you don't know how to generate the previewImage and byteCode components, you don't want to do this. Args: previewImage (bytes): A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. sourceCode (str): A string representation of a JSON dictionary containing the pattern source code. byteCode (bytes): A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI.","title":"method savePattern"},{"location":"pixelblaze/#method-sendpatterntorenderer","text":"sendPatternToRenderer ( bytecode : bytes , controls : dict = {}) Sends a blob of bytecode and a JSON dictionary of UI controls to the Renderer. Mimics the actions of the webUI code editor. Args: bytecode (bytes): A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. controls (dict, optional): a dictionary of UI controls exported by the pattern, with controlName as the key and controlValue as the value. Defaults to {}.","title":"method sendPatternToRenderer"},{"location":"pixelblaze/#method-sendping","text":"sendPing () \u2192 Optional [ str ] Send a Ping message to the Pixelblaze and wait for the Acknowledgement response. Returns: Union[str, None] : The acknowledgement message received from the Pixelblaze, or None if a timeout occurred.","title":"method sendPing"},{"location":"pixelblaze/#method-setactivecontrols","text":"setActiveControls ( dictControls : dict , saveToFlash : bool = False ) Sets the value of one or more UI controls exported from the active pattern. Args: dictControls (dict): A dictionary containing the values to be set, with controlName as the key and controlValue as the value. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setActiveControls"},{"location":"pixelblaze/#method-setactivepattern","text":"setActivePattern ( patternId : str , saveToFlash : bool = False ) Sets the active pattern. Args: patternId (str): The patternId of the desired pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setActivePattern"},{"location":"pixelblaze/#method-setactivepatternbyname","text":"setActivePatternByName ( patternName : str , saveToFlash : bool = False ) Sets the currently running pattern using a text name. Args: patternName (str): The name of the pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setActivePatternByName"},{"location":"pixelblaze/#method-setactivevariables","text":"setActiveVariables ( dictVariables : dict ) Sets the values of one or more variables exported by the current pattern. Variables not present in the current pattern are ignored. Args: dict : A dictionary containing the variables to be set, with variableName as the key and variableValue as the value.","title":"method setActiveVariables"},{"location":"pixelblaze/#method-setautooffenable","text":"setAutoOffEnable ( boolValue : bool , saveToFlash : bool = False ) Enables or disables the Pixelblaze's auto-Off scheduler. Args: boolValue (bool): A boolean indicating whether the auto-Off scheduler should be used. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setAutoOffEnable"},{"location":"pixelblaze/#method-setautooffend","text":"setAutoOffEnd ( timeValue : str , saveToFlash : bool = False ) Sets the time at which the Pixelblaze will turn on the pattern. Args: timeValue (str): A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setAutoOffEnd"},{"location":"pixelblaze/#method-setautooffstart","text":"setAutoOffStart ( timeValue : str , saveToFlash : bool = False ) Sets the time at which the Pixelblaze will turn off the pattern. Args: timeValue (str): A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setAutoOffStart"},{"location":"pixelblaze/#method-setbrandname","text":"setBrandName ( brandName : str ) Sets the brand name of the Pixelblaze (used by VARs to change the brand name that appears on the webUI). Args: brandName (str): The new name.","title":"method setBrandName"},{"location":"pixelblaze/#method-setbrightnesslimit","text":"setBrightnessLimit ( maxBrightness : int , saveToFlash : bool = False ) Sets the Pixelblaze's global brightness limit. Args: maxBrightness (int): The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setBrightnessLimit"},{"location":"pixelblaze/#method-setbrightnessslider","text":"setBrightnessSlider ( brightness : float , saveToFlash : bool = False ) Set the value of the UI brightness slider. Args: brightness (float): A floating-point value between 0.0 and 1.0. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setBrightnessSlider"},{"location":"pixelblaze/#method-setcacherefreshtime","text":"setCacheRefreshTime ( seconds : int ) Set the interval, in seconds, after which calls to getPatternList() clear the pattern cache and fetch a new pattern list from the Pixelblaze. The Default is 600 seconds (10 minutes); the maximum allowable value is clamped to a million seconds (about 277 hours, or 11.5 days). Anything else would be excessive. Args: seconds (int): The maximum age of the pattern cache.","title":"method setCacheRefreshTime"},{"location":"pixelblaze/#method-setcolorcontrol","text":"setColorControl ( controlName : str , color : dict , saveToFlash : bool = False ) Sets the 3-element color of the specified HSV or RGB color picker. Args: controlName (str): The name of the color control to change. color (dict): A dictionary of RGB or HSV colors, with all values in the range 0-1. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setColorControl"},{"location":"pixelblaze/#method-setcolororder","text":"setColorOrder ( colorOrder : colorOrders , saveToFlash : bool = False ) Sets the color order for the LEDs connected to the Pixelblaze. Args: colorOrder (colorOrders): The ordering for the color data sent to the LEDs. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setColorOrder"},{"location":"pixelblaze/#method-setcpuspeed","text":"setCpuSpeed ( cpuSpeed : cpuSpeeds ) Sets the CPU speed of the Pixelblaze. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the reboot function). Args: cpuSpeed (cpuSpeeds): The desired CPU speed.","title":"method setCpuSpeed"},{"location":"pixelblaze/#method-setdataspeed","text":"setDataSpeed ( speed : int , saveToFlash : bool = False ) Sets custom data rate for communicating with the LEDs. CAUTION: For advanced users only. If you don't know exactly why you want to do this, DON'T DO IT. See discussion in this thread on the Pixelblaze forum: https://forum.electromage.com/t/timing-of-a-cheap-strand/739 Args: speed (int): The data rate for communicating with the LEDs. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setDataSpeed"},{"location":"pixelblaze/#method-setdevicename","text":"setDeviceName ( name : str ) Sets the device name of the Pixelblaze. Args: name (str): The human-readable name of the Pixelblaze.","title":"method setDeviceName"},{"location":"pixelblaze/#method-setdiscovery","text":"setDiscovery ( enableDiscovery : bool , timezoneName : str = None ) Sets whether this Pixelblaze announces its presence to (and gets a clocktime reference from) the Electromage Discovery Service. Args: enableDiscovery (bool): A boolean controlling whether or not this Pixelblaze announces itself to the Electromage Discovery Service. timezoneName (str, optional): If present, a Unix tzstring specifying how to adjust the clocktime reference received from the Electromage Discovery Service. Defaults to None.","title":"method setDiscovery"},{"location":"pixelblaze/#method-setlearninguimode","text":"setLearningUiMode ( doLearningMode : bool ) Enables or disables \"Learning UI Mode\" which has additional UI help for new users. Args: doSimpleMode (bool): Whether to enable \"Learning UI Mode\".","title":"method setLearningUiMode"},{"location":"pixelblaze/#method-setledtype","text":"setLedType ( ledType : ledTypes , dataSpeed : int = None , saveToFlash : bool = False ) Defines the type of LEDs connected to the Pixelblaze. Args: ledType (ledTypes): The type of LEDs connected to the Pixelblaze. dataSpeed (int, optional): If provided, sets a custom data speed for communication with the LEDs; otherwise the defaults from the webUI are used. Defaults to None. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setLedType"},{"location":"pixelblaze/#method-setmapdata","text":"setMapData ( mapData : bytes , saveToFlash : bool = True ) Sets the binary mapData used by the Pixelblaze. Args: mapData (bytes): a blob of binary mapData as generated by the Mapper tab of the Pixelblaze webUI. saveToFlash (bool, optional): A boolean indicating whether the mapData should be saved to Flash. Defaults to True.","title":"method setMapData"},{"location":"pixelblaze/#method-setmapfunction","text":"setMapFunction ( mapFunction : str ) \u2192 bool Sets the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Note that this is does not change the mapData used by the Pixelblaze; the Mapper tab in the Pixelblaze UI compiles this text to produce binary mapData which is saved separately (see the setMapData function). Args: mapFunction (str): The text of the mapFunction. Returns: bool : True if the function text was successfully saved; otherwise False.","title":"method setMapFunction"},{"location":"pixelblaze/#method-setnetworkpowersave","text":"setNetworkPowerSave ( disableWifi : bool ) Enables or disables the WiFi connection on the Pixelblaze, which can significantly reduce power requirements for battery-powered installations. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the reboot function). Args: disableWifi (bool): A boolean indicating whether to disable Wifi.","title":"method setNetworkPowerSave"},{"location":"pixelblaze/#method-setpixelcount","text":"setPixelCount ( nPixels : int , saveToFlash : bool = False ) Sets the number of LEDs attached to the Pixelblaze. Note that changing the number of pixels does not recalculate the pixelMap. Args: nPixels (int): The number of pixels. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setPixelCount"},{"location":"pixelblaze/#method-setsendpreviewframes","text":"setSendPreviewFrames ( doUpdates : bool ) Set whether or not the Pixelblaze sends pattern preview frames. Args: doUpdates (bool): True sends preview frames, False stops.","title":"method setSendPreviewFrames"},{"location":"pixelblaze/#method-setsequencermode","text":"setSequencerMode ( sequencerMode : sequencerModes , saveToFlash : bool = False ) Sets the sequencer mode to one of the available sequencerModes (Off, ShuffleAll, or Playlist). Args: sequencerMode (enum): The desired sequencer mode. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setSequencerMode"},{"location":"pixelblaze/#method-setsequencerplaylist","text":"setSequencerPlaylist ( playlistContents : dict , playlistId : str = '_defaultplaylist_' ) Replaces the entire contents of the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Args: playlistContents (dict): The new playlist contents. playlistId (str, optional): The name of the playlist (for future enhancement; currently only ' defaultplaylist ' is supported). Defaults to \" defaultplaylist \".","title":"method setSequencerPlaylist"},{"location":"pixelblaze/#method-setsequencershuffletime","text":"setSequencerShuffleTime ( nMillis : int , saveToFlash : bool = False ) Sets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Args: nMillis (int): The number of milliseconds to play each pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setSequencerShuffleTime"},{"location":"pixelblaze/#method-setsequencerstate","text":"setSequencerState ( sequencerState : bool , saveToFlash : bool = False ) Set the run state of the sequencer. Args: sequencerState (bool): A boolean value determining whether or not the sequencer should run. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False.","title":"method setSequencerState"},{"location":"pixelblaze/#method-setsimpleuimode","text":"setSimpleUiMode ( doSimpleMode : bool ) Enables or disables \"Simple UI Mode\" which makes the UI more suitable for non-technical audiences. Args: doSimpleMode (bool): Whether to enable \"Simple UI Mode\".","title":"method setSimpleUiMode"},{"location":"pixelblaze/#method-settimezone","text":"setTimezone ( timezoneName : str ) Sets the Pixelblaze's timezone, which specifies how to adjust the clocktime reference provided by the Electromage Discovery Service. To clear the timezone, pass an empty string. Args: timezoneName (str): A Unix tzstring specifying how to adjust the clocktime reference provided by the Electromage Discovery Service.","title":"method setTimezone"},{"location":"pixelblaze/#method-wsreceive","text":"wsReceive ( binaryMessageType : messageTypes = None ) \u2192 Union [ str , bytes , NoneType ] Wait for a message of a particular type from the Pixelblaze. Args: binaryMessageType (messageTypes, optional): The type of binary message to wait for (if None, waits for a text message). Defaults to None. Returns: Union[str, bytes, None] : The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred.","title":"method wsReceive"},{"location":"pixelblaze/#method-wssendbinary","text":"wsSendBinary ( binaryMessageType : messageTypes , blob : bytes , expectedResponse : str = None ) Send a binary command to the Pixelblaze, and optionally wait for a suitable response. Args: binaryMessageType (messageTypes, optional): The type of binary message to send. blob (bytes): The message body to be sent. expectedResponse (str, optional): If present, the initial key of the expected JSON response to the command. Defaults to None. Returns: response : The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred.","title":"method wsSendBinary"},{"location":"pixelblaze/#method-wssendjson","text":"wsSendJson ( command : dict , expectedResponse = None ) \u2192 Union [ str , bytes , NoneType ] Send a JSON-formatted command to the Pixelblaze, and optionally wait for a suitable response. Args: command (dict): A Python dictionary which will be sent to the Pixelblaze as a JSON command. expectedResponse (str, optional): If present, the initial key of the expected JSON response to the command. Defaults to None. Returns: Union[str, bytes, None] : The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred.","title":"method wsSendJson"},{"location":"pixelblaze/#class-pbb","text":"This class provides methods for importing, exporting, and manipulating the contents of a Pixelblaze Binary Backup, as created from the Settings menu on a Pixelblaze. CREATION - fromFile() - fromIpAddress() - fromPixelblaze() PROPERTIES - deviceName() - getFileList() MANIPULATION - getFile() / putFile() / deleteFile() PERSISTENCE - toFile() - toIpAddress() - toPixelblaze() Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above.","title":"class PBB"},{"location":"pixelblaze/#method-__init___1","text":"__init__ ( name : str , blob : bytes ) Initializes a new Pixelblaze Binary Backup (PBB) object. Args: id (str): The patternId of the pattern. blob (bytes): The binary contents of the pattern. Note: This method is not intended to be called directly; use the static methods fromFile() , fromIpAddress() or fromPixelblaze() methods to create and return a Pixelblaze Binary Backup (PBB) object.","title":"method __init__"},{"location":"pixelblaze/#property-devicename","text":"Gets the user-friendly name of the device from which this PixelBlazeBackup was made. Returns: str : The user-friendly name of the device from which this PixelBlazeBackup was made.","title":"property deviceName"},{"location":"pixelblaze/#method-deletefile_1","text":"deleteFile ( fileName : str ) Removes a particular file from this PixelBlazeBackup. Args: fileName (str): The name of the file to be deleted.","title":"method deleteFile"},{"location":"pixelblaze/#method-fromfile","text":"fromFile ( fileName : str ) \u2192 PBB Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a file on disk. Args: fileName (str): The filename of the Pixelblaze Binary Backup. Returns: PBB : A new Pixelblaze Binary Backup object.","title":"method fromFile"},{"location":"pixelblaze/#method-fromipaddress","text":"fromIpAddress ( ipAddress : str , proxyUrl : str = None , verbose : bool = False ) \u2192 PBB Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a Pixelblaze specified by IP address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. Returns: PBB : A new Pixelblaze Binary Backup object.","title":"method fromIpAddress"},{"location":"pixelblaze/#method-frompixelblaze","text":"fromPixelblaze ( pb : Pixelblaze , verbose : bool = False ) \u2192 PBB Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from an existing Pixelblaze object. Args: pb (Pixelblaze): A Pixelblaze object. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. Returns: PBB : A new Pixelblaze Binary Backup object.","title":"method fromPixelblaze"},{"location":"pixelblaze/#method-getfile_1","text":"getFile ( fileName : str ) \u2192 bytes Returns the contents of a particular file contained in this PixelBlazeBackup. Args: fileName (str): The name of the file to be returned. Returns: bytes : The contents of the requested file.","title":"method getFile"},{"location":"pixelblaze/#method-getfilelist_1","text":"getFileList ( fileTypes : fileTypes = < fileTypes . fileAll : 63 > ) \u2192 list [ str ] Returns a sorted list of the files contained in this PixelBlazeBackup. Args: fileTypes (fileTypes, optional): An bitwise enumeration indicating the types of files to list. Defaults to fileTypes.fileAll. Returns: list[str] : A list of filenames.","title":"method getFileList"},{"location":"pixelblaze/#method-putfile_1","text":"putFile ( fileName : str , fileContents : bytes ) Inserts or replaces the contents of a particular file into this PixelBlazeBackup. Args: fileName (str): The name of the file to be stored. fileContents (bytes): The contents of the file to be stored.","title":"method putFile"},{"location":"pixelblaze/#method-tofile","text":"toFile ( fileName : str = None , explode : bool = False ) Writes this Pixelblaze Binary Backup to a file on disk. Args: fileName (str, optional): If specified, the filename of the Pixelblaze Binary Backup to be created; otherwise the originating Pixelblaze name is used. Defaults to None. explode (bool, optional): If specified, also exports the files within the Pixelblaze Binary Backup to a subdirectory. Defaults to False.","title":"method toFile"},{"location":"pixelblaze/#method-toipaddress","text":"toIpAddress ( ipAddress : str , proxyUrl : str = None , verbose : bool = False ) Restores the contents of this PixelBlazeBackup to a Pixelblaze identified by IP Address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\").. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False.","title":"method toIpAddress"},{"location":"pixelblaze/#method-topixelblaze","text":"toPixelblaze ( pb : Pixelblaze , verbose : bool = False ) Uploads the contents of this PixelBlazeBackup to the destination Pixelblaze. Args: pb (Pixelblaze): A Pixelblaze object. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False.","title":"method toPixelblaze"},{"location":"pixelblaze/#class-pbp","text":"This class represents a Pixelblaze Binary Pattern, as stored on the Pixelblaze filesystem or contained in a Pixelblaze Binary Backup. CREATION - fromBytes() - fromFile() - fromIpAddress() - fromPixelblaze() PROPERTIES - id() - name() - jpeg() - byteCode() - sourceCode() PERSISTENCE - toFile() - toIpAddress() - toPixelblaze() - toEPE() - explode() Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above.","title":"class PBP"},{"location":"pixelblaze/#method-__init___2","text":"__init__ ( id : str , blob : bytes ) Initializes a new Pixelblaze Binary Pattern (PBP) object. Args: id (str): The patternId of the pattern. blob (bytes): The binary contents of the pattern. Note: This method is not intended to be called directly; use the static methods fromBytes() , fromFile() , fromIpAddress() or fromPixelblaze() methods to create and return a PBP object.","title":"method __init__"},{"location":"pixelblaze/#property-bytecode","text":"Returns (as a collection of bytes) the bytecode of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: bytes : The bytecode of the pattern contained in this Pixelblaze Binary Pattern (PBP).","title":"property byteCode"},{"location":"pixelblaze/#property-id","text":"Returns the patternId of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: str : The patternId of the pattern contained in this Pixelblaze Binary Pattern (PBP).","title":"property id"},{"location":"pixelblaze/#property-jpeg","text":"Returns (as a collection of bytes) the preview JPEG of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: bytes : The preview JPEG of the pattern contained in this Pixelblaze Binary Pattern (PBP).","title":"property jpeg"},{"location":"pixelblaze/#property-name","text":"Returns the (human-readable) name of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: str : The (human-readable) name of the pattern contained in this Pixelblaze Binary Pattern (PBP).","title":"property name"},{"location":"pixelblaze/#property-sourcecode","text":"Returns the source code of the pattern in this Pixelblaze Binary Pattern (PBP). Returns: str : The source code of the pattern as a JSON-encoded string.","title":"property sourceCode"},{"location":"pixelblaze/#method-explode","text":"explode ( path : str = None ) Exports all the components of this Pixelblaze Binary Pattern (PBP) as separate files. Args: path (str, optional): If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None.","title":"method explode"},{"location":"pixelblaze/#method-frombytes","text":"fromBytes ( patternId : str , blob : bytes ) \u2192 PBP Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are initialized from a bytes array. Args: patternId (str): A patternId for the Pixelblaze Binary Pattern to be created. blob (bytes): The binary contents of the Pixelblaze Binary Pattern to be created. Returns: PBP : A new Pixelblaze Binary Pattern object.","title":"method fromBytes"},{"location":"pixelblaze/#method-fromfile_1","text":"fromFile ( fileName : str ) \u2192 PBP Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are loaded from a file on disk. Args: fileName (str): The name of the file to be loaded into a Pixelblaze Binary Pattern. Returns: PBP : A new Pixelblaze Binary Pattern object.","title":"method fromFile"},{"location":"pixelblaze/#method-fromipaddress_1","text":"fromIpAddress ( ipAddress : str , patternId : str , proxyUrl : str = None ) \u2192 PBP Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from a URL. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). patternId (str): The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: PBP : A new Pixelblaze Binary Pattern object.","title":"method fromIpAddress"},{"location":"pixelblaze/#method-frompixelblaze_1","text":"fromPixelblaze ( pb : Pixelblaze , patternId : str ) \u2192 PBP Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from an active Pixelblaze object. Args: pb (Pixelblaze): An active Pixelblaze object. patternId (str): The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. Returns: PBP : A new Pixelblaze Binary Pattern object.","title":"method fromPixelblaze"},{"location":"pixelblaze/#method-toepe","text":"toEPE () \u2192 EPE Creates a new Electromage Pattern Export (EPE) and initializes it from the contents of this Pixelblaze Binary Pattern (PBP). Returns: EPE : A new Electromage Pattern Export object.","title":"method toEPE"},{"location":"pixelblaze/#method-tofile_1","text":"toFile ( fileName : str = None ) Saves this Pixelblaze Binary Pattern (PBP) to a file on disk. Args: fileName (str, optional): If provided, A name for the Pixelblaze Binary Pattern file to be created; otherwise, the name is derived from the patternId. Defaults to None.","title":"method toFile"},{"location":"pixelblaze/#method-toipaddress_1","text":"toIpAddress ( ipAddress : str , proxyUrl : str = None ) Uploads this Pixelblaze Binary Pattern (PBP) to a Pixelblaze identified by its IP address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None.","title":"method toIpAddress"},{"location":"pixelblaze/#method-topixelblaze_1","text":"toPixelblaze ( pb : Pixelblaze ) Uploads this Pixelblaze Binary Pattern (PBP) to an active Pixelblaze object. Args: pb (Pixelblaze): An active Pixelblaze object.","title":"method toPixelblaze"},{"location":"pixelblaze/#class-epe","text":"This class provides methods for importing, exporting, and manipulating the contents of an Electromage Pattern Export (EPE), as exported from the Patterns list on a Pixelblaze. CREATION - fromBytes() - fromFile() PROPERTIES - patternId() - patternName() - sourceCode() - previewImage() PERSISTENCE - toFile() - explode() Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above.","title":"class EPE"},{"location":"pixelblaze/#method-__init___3","text":"__init__ ( blob : bytes ) Initializes a new Electromage Pattern Export (EPE) object. Args: blob (bytes): The contents of the Electromage Pattern Export (EPE). Note: This method is not intended to be called directly; use the static methods fromBytes() or fromFile() to create and return an Electromage Pattern Export object.","title":"method __init__"},{"location":"pixelblaze/#property-patternid","text":"Returns the patternId of the pattern contained in this Electromage Pattern Export (EPE). Returns: str : The patternId of the pattern contained in this Electromage Pattern Export (EPE).","title":"property patternId"},{"location":"pixelblaze/#property-patternname","text":"Returns the human-readable name of the pattern in this Electromage Pattern Export (EPE). Returns: str : The human-readable name of the pattern contained in this Electromage Pattern Export (EPE).","title":"property patternName"},{"location":"pixelblaze/#property-previewimage","text":"Returns (as bytes) the preview JPEG of the pattern contained in this Electromage Pattern Export (EPE). Returns: bytes : The preview JPEG of the pattern contained in this Electromage Pattern Export (EPE).","title":"property previewImage"},{"location":"pixelblaze/#property-sourcecode_1","text":"Returns the source code of the pattern contained in this Electromage Pattern Export (EPE). Returns: str : The sourceCode of the pattern contained in this Electromage Pattern Export (EPE).","title":"property sourceCode"},{"location":"pixelblaze/#method-explode_1","text":"explode ( path : str ) Exports the components of this Electromage Pattern Export (EPE) to separate files. Args: path (str): If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None.","title":"method explode"},{"location":"pixelblaze/#method-frombytes_1","text":"fromBytes ( blob : bytes ) \u2192 EPE Creates and returns a new Electromage Pattern Export (EPE) whose contents are loaded from a bytes array. Args: blob (bytes): The data from which to create the Electromage Pattern Export (EPE). Returns: EPE : A new Electromage Pattern Export (EPE) object.","title":"method fromBytes"},{"location":"pixelblaze/#method-fromfile_2","text":"fromFile ( fileName : str ) \u2192 EPE Creates and returns a new portable pattern EPE whose contents are loaded from a file on disk. Args: fileName (str): The name of the file from which to create the Electromage Pattern Export (EPE). Returns: EPE : A new Electromage Pattern Export (EPE) object.","title":"method fromFile"},{"location":"pixelblaze/#method-tofile_2","text":"toFile ( fileName : str = None ) Saves this Electromage Pattern Export (EPE) to a file on disk. Args: fileName (str, optional): If provided, a name for the file to be created; otherwise derived from the patternId. Defaults to None.","title":"method toFile"},{"location":"pixelblaze/#class-pixelblazeenumerator","text":"Listens on a network to detect available Pixelblazes, which the user can then list or open as Pixelblaze objects. Also provides time synchronization services for running synchronized patterns on a network of Pixelblazes.","title":"class PixelblazeEnumerator"},{"location":"pixelblaze/#method-__init___4","text":"__init__ ( hostIP = '0.0.0.0' ) Create an object that listens continuously for Pixelblaze beacon packets, maintains a list of Pixelblazes and supports synchronizing time on multiple Pixelblazes to allows them to run patterns simultaneously. Takes the IPv4 address of the interface to use for listening on the calling computer. Listens on all available interfaces if hostIP is not specified.","title":"method __init__"},{"location":"pixelblaze/#method-disabletimesync","text":"disableTimesync () Turns off the time synchronization -- the PixelblazeEnumerator will not automatically synchronize Pixelblazes.","title":"method disableTimesync"},{"location":"pixelblaze/#method-enabletimesync","text":"enableTimesync () Instructs the PixelblazeEnumerator object to automatically synchronize time on all Pixelblazes. (Note that time synchronization is off by default when a new PixelblazeEnumerator is created.)","title":"method enableTimesync"},{"location":"pixelblaze/#method-getpixelblazelist","text":"getPixelblazeList ()","title":"method getPixelblazeList"},{"location":"pixelblaze/#method-setdevicetimeout","text":"setDeviceTimeout ( ms ) Sets the interval in milliseconds which the enumerator will wait without hearing from a device before removing it from the active devices list. The default timeout is 30000 (30 seconds).","title":"method setDeviceTimeout"},{"location":"pixelblaze/#method-start","text":"start ( hostIP ) Open socket for listening to Pixelblaze datagram traffic, set appropriate options and bind to specified interface and start listener thread.","title":"method start"},{"location":"pixelblaze/#method-stop","text":"stop () Stop listening for datagrams, terminate listener thread and close socket. This file was automatically generated via lazydocs .","title":"method stop"},{"location":"pixelblazeProtocol/","text":"The Pixelblaze protocol \u00b6 being an unofficial and apocryphal exegesis of the websocket and HTTP traffic between a Pixelblaze and its webUI Disclaimer \u00b6 This document was produced for informational purposes only; it is neither sanctioned nor recommended by @wizard. Used incorrectly, some of these commands could cause data loss, brick/shorten the lifespan of a Pixelblaze, or cause excessive power consumption which may damage any connected LEDs or in extreme cases create a fire hazard. However ...the insights described below were gained from observation of the conversation taking place between a correctly-configured Pixelblaze and its user interface webpage, and within that context the risk of repeating commands already known to be valid is minimal. There is no guarantee that this information has been, is, or will remain correct for your particular configuration. Any use is solely at the user's own risk. General observations \u00b6 Notes \u00b6 The Pixelblaze runs both a webserver (listening on :80) and a websocket server (listening on port 81). When a client webbrowser connects to the Pixelblaze webUI on port 80, the webserver returns the file index.html.gz which contains the webUI application. The webbrowser unpacks and executes the webUI application (written in javascript), and most of the subsequent interactions take place over the websocket (the exceptions are structured as REST-ish commands to GET , POST or DELETE information using HTTP). In general, the websocket protocol is client-server with the webUI making a request and, in most cases, the Pixelblaze sending a response. HOWEVER, the Pixelblaze also sends four packets out-of-band which can interrupt the request/response flow: After each render cycle, a preview frame representing the pixels of the currently executing pattern are sent as a binary packet of type 05 ( previewFrame ) whose format is described below; Whenever the current pattern is changed by the sequencer, the Pixelblaze sends the new state of the sequencer: {\"activeProgram\":{\"activeProgramId\":patternId,\"controls\":{}},\"sequencerMode\":sequencerMode,\"runSequencer\":true,\"playlist\":{\"position\":0,\"id\":\"\\_defaultplaylist\\_\",\"ms\":sequencerTime,\"remainingMs\":countdown}} ; Once every second, the Pixelblaze sends a message with diagnostics and statistics: {\"fps\":41.95804,\"vmerr\":0,\"vmerrpc\":-1,\"mem\":2111,\"exp\":0,\"renderType\":2,\"uptime\":48156306,\"storageUsed\":795419,\"storageSize\":2949250} ; and The response to the {\"getConfig\":true} request consists of three separate messages (detailed below) that can come out of sequence. Most websocket messages are JSON strings, but a few messages are sent as binary packets containing a messageType byte, a continuationFlags byte, and dataBlock s of varying lengths. messageTypes are: 01 = putSourceCode (from webUI to Pixeblaze) 03 = putByteCode (from webUI to Pixelblaze) 04 = previewImage (from webUI to Pixelblaze) 05 = previewFrame (from Pixelblaze to webUI) \u2013 this message type does not have continuation flags 06 = getSourceCode (from Pixelblaze to webUI) 07 = getProgramList (from webUI to Pixelblaze) 08 = putPixelMap (from webUI to Pixelblaze) 09 = expanderConfig (from webUI to Pixelblaze AND from Pixelblaze to webUI) continuationFlags are bitwise OR'ed together (a message that fits in a single websocket frame will have _continuationFlags* frameFirst | frameLast , otherwise the message is assembled by concatenating packets until frameLast is seen): 01 = frameFirst 02 = frameMiddle 04 = frameLast Upon loading, the webUI requests the current configuration of the Pixelblaze with: {\"sendUpdates\":false,\"getConfig\":true,\"listPrograms\":true,\"getUpgradeState\":true} . The response to getConfig is three packets containing: the settingsConfig : {\"name\":name,\"brandName\":brandName,\"pixelCount\":pixelCount,\"brightness\":uiBrightness,\"maxBrightness\":maxBrightness,\"colorOrder\":\"GRB\",\"dataSpeed\":3500000,\"ledType\":2,\"sequenceTimer\":15,\"sequencerMode\":0,\"runSequencer\":false,\"simpleUiMode\":false,\"learningUiMode\":false,\"discoveryEnable\":true,\"timezone\":tzString,\"autoOffEnable\":false,\"autoOffStart\":\"00:00\",\"autoOffEnd\":\"00:00\",\"cpuSpeed\":240,\"networkPowerSave\":false,\"mapperFit\":1,\"exp\":0,\"ver\":\"3.24\"} ; the sequencerConfig : {\"activeProgram\":{\"name\":\"Editor\",\"activeProgramId\":null,\"controls\":{}},\"sequencerMode\":0,\"runSequencer\":false} ; and the _ExpanderConfig: (a binary message with messageType expanderConfig (09) , whose contents are described below). The response to listPrograms is detailed under the Patterns tab. The response to getUpgradeState is {\"upgradeState\":{\"code\":upgradeState}} , where upgradeState can be: 0 ( unknown ), 1 ( checking ), 2 ( inProgress ), 3 ( updateError ), 4 ( upToDate ), 5 ( updateAvailable ), or 6 ( updateComplete ). If the upgradeState is 5 ( updateAvailable ), clicking the \"Update\" button sends {\"upgradeVersion\":\"update\"} and then polls with getUpgradeState until the returned upgradeState is 2, 3, or 4. Two sections are present at the top of the screen on all tabs: The \"Brightness\" slider, when changed, sends {\"brightness\":0..100} . UI controls (if any) for the active pattern, when changed, send the new values as: {\"setVar\":{varName:varValue}} . Patterns tab \u00b6 Notes \u00b6 The Patterns tab (which is the default page when the webUI is loaded) requests the pattern list with: {\"getProgramList\":true} ; the response is one or more binary packets of type 07 ( getProgramList ). For each pattern in the list, the webUI then requests its preview image with {\"getPreviewImg\":patternId} ; the response is a JPG embedded in one or more packets of type 04 ( previewImage ). Clicking on a pattern name sends: {\"setActivePattern\":patternId} . After about 30 seconds, the webUI resends the command with a further parameter to save the pattern selection to flash: {\"setActivePattern\":patternId, \"save\":true} . Sequencer mode can be: \"Off\": (shown above) where the \"Off\" button sends {\"sequencerMode\":0} with no response. \"Shuffle All\": \"Shuffle All\" button sends {\"sequencerMode\":1} which also starts the sequencer. Changing the \"seconds per pattern\" field sends {\"sequenceTimer\":30} \"Pause\" button sends {\"runSequencer\":false} . \"Play\" button sends {\"runSequencer\":true} . \"Next\" button sends {\"nextProgram\":true} which also starts the sequencer. The response to all shuffle commands is the current state of the sequencer (the same message that arrives out-of-band). \"Playlist\": \"Playlist\" button sends {\"sequencerMode\":2} which also starts the sequencer. \"Pause\", \"Play\" and \"Next\" buttons work the same as above. \"Restart\" button sends {\"playlist\":{\"position\":0}} . \"Previous\" button sends {\"playlist\":{\"position\":currentNumber - 1}} where currentNumber came from the most recently announced state of the sequencer. \"Add\" button on pattern sends {\"playlist\":{\"id\":\"\\_defaultplaylist\\_\",\"items\":[{\"id\":patternId,\"ms\":durationInMs=30000}]},\"save\":true} . Adding a pattern, changing the duration, changing the order, or deleting a playlist pattern resends the whole list: {\"playlist\":{\"id\":\"\\_defaultplaylist\\_\",\"items\":[{\"id\":patternId1,\"ms\":durationInMs=30000}, {\"id\":patternId2,\"ms\":durationInMs=30000}, \u2026]},\"save\":true} . The response to all playlist commands is the current state of the sequencer (the same message that arrives out-of-band). Edit tab \u00b6 Notes \u00b6 Any changes within the code pane cause the pattern code to be compiled, and if successful, the bytecode is sent to the Pixelblaze with messageType 03 ( putBytecode ) and it begins executing immediately. The pattern preview window at the top (which appears on all tabs) is updated every time the Pixelblaze sends a new binary packet of type 05 ( previewFrame ), which can arrive at any time. \"Save\" button sends three binary messages of type 04 ( PreviewImage ), 01 ( putSourceCode ), and 03 ( putByteCode ); if successful, the response is {\"ack\":1,\"saveProgramSourceFile\":true} . Brightness slider sends {\"brightness\":0..100} . \"Vars Watch\" button sends {\"getVars\":true|false} . Mapper tab \u00b6 Notes \u00b6 When the tab is loaded, the webUI fetches the mapFunction from the Pixelblaze with a HTTP GET to the /pixelmap.txt endpoint. Any changes to the mapFunction in the code pane are immediately compiled into mapData and, if successful, cause a binary message of type 08 ( putPixelMap ) to be sent to the Pixelblaze where it is immediately available to the render engine. The \"save\" button sends {\"saveMap\":true} which tells the Pixelblaze to save the most-recently-uploaded mapData to flash as /pixelmap.dat ; it also saves the mapFunction to flash as /pixelmap.txt by doing a a HTTP POST to the /edit endpoint with headers Content-Type: application/x-www-form-urlencoded; charset=UTF-8 and the text of the mapper function as the body. Settings tab (v2) \u00b6 Notes \u00b6 Setting the LED type to \"Output Expander\" reveals another panel: Whenever any field is changed (including the \"Add Board\" and \"Remove\" buttons), the webUI recompiles the table into a binary expanderData blob (details of which are below) and resends it to the Pixelblaze as a binary message of type 08 ( ExpanderSettings ). Settings tab (v3) \u00b6 Notes \u00b6 Essentially the same as v2, with the addition of the \"Cpu Speed\" field (which sends {\"cpuSpeed\":\"80|160|240\"} ) and the \"disableWifi\" field (which sends {\"networkPowerSave\":true|false} ). Wifi tab (v3 only) \u00b6 Notes: Page load does a HTTP GET to the /wifistatus endpoint to populate the status field. \"Scan\" button does a HTTP GET to the /wifiscan endpoint to populate the access point list. \"Submit\" button does a HTTP POST to the /wifisave endpoint to save the Wifi configuration. These endpoints are described in further detail below. Advanced Settings tab \u00b6 Notes \u00b6 The \"Advanced Settings\" tab is only visible when the webUI is loaded with the \"/?setup\" URL. The \"Brand Name\" field sends {\"brandName\":newName} . The \"Simple UI\" checkbox sends {\"simpleUiMode\":true|false} . The \"Learning UI mode\" checkbox sends {\"learningUiMode\":true|false} . Binary formats \u00b6 previewFrame message \u00b6 Taking into account the packet framing described above (of which the previewFrame is unique in that it does not have a continuationFlags byte), the body of the previewFrame message consists of groupings of three bytes (corresponding to the Red , Green and Blue values) for each of the pixelCount pixels configured; for example the previewFrame for a 64-pixel setup would contain 1 (header) + 3 (RGB) * 64 (pixels) = 193 bytes. 0 1 2 3 4 5 ... [ red_pixel0, green_pixel0, blue_pixel0 ] [ red_pixel1, green_pixel1, blue_pixel2 ] ... mapData message \u00b6 Taking into account the packet framing described above, the body of the mapData message consists of a header containing three 32-bit longwords in little-endian format, representing the formatVersion (1 or 2), the number of dimensions a/k/a numDimensions (1, 2 or 3), and the dataSize in bytes (which is calculated as formatVersion * numDimensions * numElements ). The remainder of the message body contains numElements tuples of numDimensions values, which are either 8-bit ( formatVersion =1) or 16-bit integers in little-endian format ( formatVersion =2), representing the location of each particular pixel on that particular axis (X, Y or Z). Each of these integers then needs to be divided by the respective maxInt for the formatVersion (255 for formatVersion =1, 65535 for formatVersion =2) to obtain a floating-point world coordinate between 0 and 1. For example, a 3-dimensional map with formatVersion =1 and 40 pixels would look like: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 ... [ 1 0 0 0 ] [ 3 0 0 0 ] [ 40 0 0 0 ] [ X_0, Y_0, Z_0 ] [ X_1, Y_1, Z_1 ] ... And a 2-dimensional map with formatVersion =2 and 24 pixels would look like: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 ... [ 2 0 0 0 ] [ 2 0 0 0 ] [ 24 0 0 0 ] [ lsbX_0 msbX_0, lsbY_0 msbY_0 ] ... expanderConfig message \u00b6 Taking into account the packet framing described above, the body of the expanderConfig message consists of a versionNumber byte of 05, followed by one or more 96-byte tables corresponding to each output expander (8 channels * 12 bytes/channel). For example, defining two expanders like this: produces a table like this, which (according to the data structures found in the outputExpander source code ) can be decoded as follows: Where: addx|chan is a packed byte ( addx:5|chan:3 ) combining the expander address and the channel index; ledType is an enumeration with: 0= \u2018notUsed\u2019 , 1= \u2018WS2812B\u2019 , 2= \u2018drawAll\u2019 , 3= \u2018APA102 Data\u2019 , 4= \u2018APA102 Clock\u2019 ; numColors is either 3 (for R/G/B) or 4 (for R/G/B/W); colorOrder is a packed byte ( R:2|G:2|B:2|W:2 ) containing four 2-bit numbers indicating the order in which the colors appear (0=first, 3=last). The possible permutations are: 0x24 = \u2018RGB\u2019 , 0x18 = \u2018RBG\u2019 , 0x09 = \u2018BRG\u2019 , 0x06 = \u2018BGR\u2019 , 0x21 = \u2018GRB\u2019 , 0x12 = \u2018GBR\u2019 , 0xE4 = \u2018RGBW\u2019 , and 0xE1 = \u2018GRBW\u2019 ; pixelCount is the number of pixels on this channel; startIndex is the first address in the range to be directed to this channel; and the four bytes marked as \u2018notUsed\u2019 represent the clockSpeed for the channel, which is not currently supported in either the UI or the outputExpander driver but may be used in a future version. Easy Pattern Export (EPE) files \u00b6 EPE files are a portable way of moving patterns between Pixelblazes, even if they have different versions and architectures. EPE files can be exported from the Pixelblaze to the local computer from the \"Patterns\" tab, and imported from the local computer to another Pixelblaze on the \"Edit\" tab (from which it needs to be saved onto the new Pixelblaze). Note: The Pixelblaze pattern language has evolved over time; patterns cannot be successfully imported onto a Pixelblaze whose firmware version does not support the language constructs (eg. array initializers, coordinate translations) they use. The file contents consist of a JSON dictionary containing: the user-assigned name of the pattern; an immutable id for the pattern generated on the Pixelblaze where it was first saved; a JSON dictionary of sources for the pattern, of which there is only one, named main , which contains the javascript-like source code of the pattern; and a base64-encoded JPEG preview image of the pattern, where each vertical row represents the state of the pixels for a single render cycle. When opened in a text editor, an EPE looks something like this: { \"name\": \"Default New Pattern\", \"id\": \"keSLmg6tCWGPMvb85\", \"sources\": { \"main\": \"export function render(index) {\\n hsv(time(.1) + index/pixelCount, 1, 1)\\n}\" }, \"preview\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQo...AAAAB//2Q==\" } EPE files do not contain the current values of the UI controls, which would have been nice. Those can be exported and imported from the Pixelblaze filesystem separately using the REST-ish HTTP API. Pixelblaze Binary Pattern (PBP) files \u00b6 Pixelblaze saves patterns to the flash filesystem as a binary blob with the filename /{patternId} . These blobs can be exported and imported from the Pixelblaze filesystem using the REST-ish HTTP API, which is the mechanism used by the Firestorm clone command and the Pixelblaze backup / restore buttons. A PBP blob begins with a header consisting of nine 32-bit longwords representing: The format versionNumber ; the offset to and length of the pattern's Name ; the offset to and length of the pattern's previewImage ; the offset to and length of the pattern's byteCode ; and the offset to and length of the pattern's sourceCode . These components occupy the remainder of the blob. Pixelblaze Binary Backup (PBB) files \u00b6 Pixelblaze can also, from firmware versions 2.29/3.24 onwards, import and export the entire contents of the flash filesystem -- patterns, playlists and configuration, but not the webUI file itself -- to a local computer as a Pixelblaze Binary Backup. This can be useful for archiving the state of a Pixelblaze, restoring its contents after an experiment gone wrong, or even provisioning multiple Pixelblazes with identical setups (though it would be a good idea afterwards to give them all different names). The file contents consist of a JSON dictionary containing a single element, files , which is another JSON dictionary containing a key/value tuple (where the key is the filename and the value is the file contents, encoded in base64) for each file stored in this Pixelblaze Binary Backup. For example, a Pixelblaze Binary Backup for a Pixelblaze containing 11 patterns might look like this: { \"files\": { \"/apple-touch-icon.png\": \"iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAADAFBMVEUA...\", \"/config.json\": \"eyJuYW1lIjoiUGl4ZWxibGF6ZV84eDhtYXRyaXgiLCJicmFuZE5hbWUiOiIiLCJwa...\", \"/favicon.ico\": \"AAABAAMAMDAAAAEAIACoJQAANgAAACAgAAABACAAqBAAAN4lAAAQEAAAAQAgAGgEA...\", \"/l/_defaultplaylist_\": \"eyJpdGVtcyI6W119\", \"/p/4ANH2jwPKj8nasXeD\": \"AgAAACQAAAASAAAANgAAAK8DAADlAwAARwkAACwNAABuCwAAMUQgQXVyb...\", \"/p/4ANH2jwPKj8nasXeD.c\": \"eyJzbGlkZXJTcGVlZCI6MC44NTg0LCJzbGlkZXJXaWR0aCI6MC43NzU...\", \"/p/4u26f8x7GRsBjQeBn\": \"AgAAACQAAAAMAAAAMAAAAJUTAADFEwAAKAIAAO0VAAA6BAAAZ2xpdGNoI...\", \"/p/5aWMwDm9ALfJniBXi\": \"AgAAACQAAAATAAAANwAAALEMAADoDAAAIAEAAAgOAADQAAAAMUQgbWFyY...\", \"/p/7eeGvKegHGmCD5QAd\": \"AgAAACQAAAAIAAAALAAAAGAJAACMCQAAnQEAACkLAACYBwAAcHVsc2UgM...\", \"/p/7rkpwJrEQBffHPsye\": \"AgAAACQAAAAQAAAANAAAAIAPAAC0DwAALAEAAOAQAAC8AgAAY29sb3IgZ...\", \"/p/8EX6T2cpfA8WxLEEF\": \"AgAAACQAAAAMAAAAMAAAAEoPAAB6DwAADAEAAIYQAADMAQAAcmFpbmJvd...\", \"/p/HuAhJN9zTJKZEinMH\": \"AgAAACQAAAAEAAAAKAAAAK8DAADXAwAAXwAAADYEAABmAQAAIU9mZv/Y/...\", \"/p/gvM2bmyhQFm6bXd93\": \"AgAAACQAAAAVAAAAOQAAABkIAABSCAAAxgYAABgPAAB0BwAAQW5pbWF0Z...\", \"/p/gvM2bmyhQFm6bXd93.c\": \"eyJzbGlkZXJOdW1MaW5lcyI6MC4wNTg0LCJzbGlkZXJMaW5lV2lkdGg...\", \"/p/mvkAmMHcyPsNbPxyt\": \"AgAAACQAAAAUAAAAOAAAAAcUAAA/FAAAKAEAAGcVAADkAwAAY29sb3Igd...\", \"/p/vSFkZsKmhKSGpmf6E\": \"AgAAACQAAAAKAAAALgAAAK0KAADbCgAA6AAAAMMLAACyAAAAZmFzdCBwd...\", \"/p/zemcitFWMB3y3f9o2\": \"AgAAACQAAAAJAAAALQAAAHEVAACeFQAANAEAANIWAADaAQAAbWlsbGlwZ...\" } } HTTP endpoints \u00b6 Notes \u00b6 The normal way of accessing the Pixelblaze webUI is by using a webbrowser to GET the root endpoint, eg. http://{pixelblazeIpAddress}/ . Adding a queryString of ?min to the above URL will reduce websocket traffic by stopping the webUI from requesting previewFrame images for the pattern list and by stopping the Pixelblaze from sending previewFrame messages for the currently executing pattern. However, because pattern files contain a previewImage it is necessary in this mode to re-enable previewFrame messages (by clicking on the pattern preview row at the top of the webUI) before attempting to edit and save a pattern. Adding a queryString of ?setup to the above URL will show an additional 'Advanced Settings' tab in the webUI which allows setting the brandName which appears in the top left corner of the webUI or enabling simpleUI and learningUI modes. WiFi configuration at initial setup is performed using the following endpoints: GET to the /wifistatus endpoint returns the current WiFi configuration; the response is {\"status\":wifiStatus,\"ip\":\"x.x.x.x\",\"ssid\":\"{ssid}\",\"mac\":\"m:a:c\"} where wifiStatus can be 255 ( modeSetup ), 6 ( modeAccessPoint ), or 3 ( modeClient ). GET to the /wifiscan endpoint starts scanning for access points; the response is: {\"scanning\":1} until the scan completes, at which point it returns a list of the Wifi access points found: [{\"rssi\":-42,\"ssid\":\"AccessPoint1\",\"bssid\":\"xx:xx:xx:xx:xx:xx\",\"channel\":1,\"secure\":false},{\"rssi\":-53,\"ssid\":\"AccessPoint2\",\"bssid\":\"xx:xx:xx:xx:xx:xx\",\"channel\":2,\"secure\":true},{\"rssi\":-71,\"ssid\":\"AccessPoint3\",\"bssid\":\"xx:xx:xx:xx:xx:xx\",\"channel\":6,\"secure\":true}] . POST to the /wifisave endpoint with headers Content-Type: application/x-www-form-urlencoded; charset=UTF-8 and body mode={CLIENT|AP|SETUP}&ssid={SSID}&passphrase={PASSWORD}&discover=true sets the WiFi mode and credentials; the response should be {\"ack\":1} . The Pixelblaze webserver has a REST-ish API which is used for manipulating files stored on the flash filesystem. This is used by the webUI to: GET files from the root endpoint eg. http://{pixelblazeIpAddress}/{fileName} ; POST new or changed files to the /edit endpoint with headers Content-Type: multipart/form-data and formFields filename={fileName} and data={fileData} ; and DELETE files by doing a GET to the /delete?path={fileName} where {filename} includes the folder prefix, eg. /p/ for patterns, /l/ for playlists, etc. Firmware updates delivered as .stfu archives can be uploaded and applied by doing a POST to the /update endpoint with headers Content-Type: multipart/form-data and formFields update={stfuBytes} . A POST to the /reboot endpoint will, unsurprisingly, cause the Pixelblaze to reboot. This can be useful because it is the only way to force Pixelblaze to take notice of changes made to the configuration files through the REST-ish API (configuration files are only read from flash on boot). Network Discovery \u00b6 Around once per second, the Pixelblaze announces its presence with a beacon packet broadcast over UDP on port 1889. This packet is used by the Firestorm utility to detect and synchronize Pixelblazes on the local network; Firestorm replies to each Pixelblaze broadcast with a timeSync packet and the receiving Pixelblaze adjusts its clock according to the time difference calculated from the packet. Beacon packet \u00b6 The beacon packet contains three longwords in little-endian format, representing a 32-bit packetType of 42, the 32-bit IPv4 ipAddress of the Pixelblaze and currentTime according to that Pixelblaze (the lowest 32 bits of the Unix timestamp format, with millisecond resolution). For example, a Pixelblaze at 192.168.4.1 would send the following packet on February 2, 2022 at 02:02:02.02 (timestamp \\x00018321D28F98 ): 0 1 2 3 4 5 6 7 8 9 10 11 [ 42 0 0 0 ] [ 192. 168. 4. 1 ] [ \\x98 \\x8F \\xD2 \\x21 ] TimeSync packet \u00b6 The timeSync packet contains five longwords in little-endian format, representing a 32-bit packetType of 43 ( timesync ), a 32-bit senderId (which seems to allow any value), the authoritative currentTime (the lowest 32 bits of the Unix timestamp format, with millisecond resolution), and a recap of the pixelblazeIpAddress and pixelblazeCurrentTime from the beacon packet to which it is responding. For example, a Firestorm with senderId 65535 running on January 1, 1970 at 00:00:00.00 (timestamp \\x0000000000000000 ) would reply to the Pixelblaze beacon above with: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [ 43 0 0 0] [\\xFF \\xFF 0 0] [0 0 0 0] [192. 168. 4. 1] [\\x98 \\x8F \\xD2 \\x21]","title":"The Pixelblaze protocol"},{"location":"pixelblazeProtocol/#the-pixelblaze-protocol","text":"being an unofficial and apocryphal exegesis of the websocket and HTTP traffic between a Pixelblaze and its webUI","title":"The Pixelblaze protocol"},{"location":"pixelblazeProtocol/#disclaimer","text":"This document was produced for informational purposes only; it is neither sanctioned nor recommended by @wizard. Used incorrectly, some of these commands could cause data loss, brick/shorten the lifespan of a Pixelblaze, or cause excessive power consumption which may damage any connected LEDs or in extreme cases create a fire hazard. However ...the insights described below were gained from observation of the conversation taking place between a correctly-configured Pixelblaze and its user interface webpage, and within that context the risk of repeating commands already known to be valid is minimal. There is no guarantee that this information has been, is, or will remain correct for your particular configuration. Any use is solely at the user's own risk.","title":"Disclaimer"},{"location":"pixelblazeProtocol/#general-observations","text":"","title":"General observations"},{"location":"pixelblazeProtocol/#notes","text":"The Pixelblaze runs both a webserver (listening on :80) and a websocket server (listening on port 81). When a client webbrowser connects to the Pixelblaze webUI on port 80, the webserver returns the file index.html.gz which contains the webUI application. The webbrowser unpacks and executes the webUI application (written in javascript), and most of the subsequent interactions take place over the websocket (the exceptions are structured as REST-ish commands to GET , POST or DELETE information using HTTP). In general, the websocket protocol is client-server with the webUI making a request and, in most cases, the Pixelblaze sending a response. HOWEVER, the Pixelblaze also sends four packets out-of-band which can interrupt the request/response flow: After each render cycle, a preview frame representing the pixels of the currently executing pattern are sent as a binary packet of type 05 ( previewFrame ) whose format is described below; Whenever the current pattern is changed by the sequencer, the Pixelblaze sends the new state of the sequencer: {\"activeProgram\":{\"activeProgramId\":patternId,\"controls\":{}},\"sequencerMode\":sequencerMode,\"runSequencer\":true,\"playlist\":{\"position\":0,\"id\":\"\\_defaultplaylist\\_\",\"ms\":sequencerTime,\"remainingMs\":countdown}} ; Once every second, the Pixelblaze sends a message with diagnostics and statistics: {\"fps\":41.95804,\"vmerr\":0,\"vmerrpc\":-1,\"mem\":2111,\"exp\":0,\"renderType\":2,\"uptime\":48156306,\"storageUsed\":795419,\"storageSize\":2949250} ; and The response to the {\"getConfig\":true} request consists of three separate messages (detailed below) that can come out of sequence. Most websocket messages are JSON strings, but a few messages are sent as binary packets containing a messageType byte, a continuationFlags byte, and dataBlock s of varying lengths. messageTypes are: 01 = putSourceCode (from webUI to Pixeblaze) 03 = putByteCode (from webUI to Pixelblaze) 04 = previewImage (from webUI to Pixelblaze) 05 = previewFrame (from Pixelblaze to webUI) \u2013 this message type does not have continuation flags 06 = getSourceCode (from Pixelblaze to webUI) 07 = getProgramList (from webUI to Pixelblaze) 08 = putPixelMap (from webUI to Pixelblaze) 09 = expanderConfig (from webUI to Pixelblaze AND from Pixelblaze to webUI) continuationFlags are bitwise OR'ed together (a message that fits in a single websocket frame will have _continuationFlags* frameFirst | frameLast , otherwise the message is assembled by concatenating packets until frameLast is seen): 01 = frameFirst 02 = frameMiddle 04 = frameLast Upon loading, the webUI requests the current configuration of the Pixelblaze with: {\"sendUpdates\":false,\"getConfig\":true,\"listPrograms\":true,\"getUpgradeState\":true} . The response to getConfig is three packets containing: the settingsConfig : {\"name\":name,\"brandName\":brandName,\"pixelCount\":pixelCount,\"brightness\":uiBrightness,\"maxBrightness\":maxBrightness,\"colorOrder\":\"GRB\",\"dataSpeed\":3500000,\"ledType\":2,\"sequenceTimer\":15,\"sequencerMode\":0,\"runSequencer\":false,\"simpleUiMode\":false,\"learningUiMode\":false,\"discoveryEnable\":true,\"timezone\":tzString,\"autoOffEnable\":false,\"autoOffStart\":\"00:00\",\"autoOffEnd\":\"00:00\",\"cpuSpeed\":240,\"networkPowerSave\":false,\"mapperFit\":1,\"exp\":0,\"ver\":\"3.24\"} ; the sequencerConfig : {\"activeProgram\":{\"name\":\"Editor\",\"activeProgramId\":null,\"controls\":{}},\"sequencerMode\":0,\"runSequencer\":false} ; and the _ExpanderConfig: (a binary message with messageType expanderConfig (09) , whose contents are described below). The response to listPrograms is detailed under the Patterns tab. The response to getUpgradeState is {\"upgradeState\":{\"code\":upgradeState}} , where upgradeState can be: 0 ( unknown ), 1 ( checking ), 2 ( inProgress ), 3 ( updateError ), 4 ( upToDate ), 5 ( updateAvailable ), or 6 ( updateComplete ). If the upgradeState is 5 ( updateAvailable ), clicking the \"Update\" button sends {\"upgradeVersion\":\"update\"} and then polls with getUpgradeState until the returned upgradeState is 2, 3, or 4. Two sections are present at the top of the screen on all tabs: The \"Brightness\" slider, when changed, sends {\"brightness\":0..100} . UI controls (if any) for the active pattern, when changed, send the new values as: {\"setVar\":{varName:varValue}} .","title":"Notes"},{"location":"pixelblazeProtocol/#patterns-tab","text":"","title":"Patterns tab"},{"location":"pixelblazeProtocol/#notes_1","text":"The Patterns tab (which is the default page when the webUI is loaded) requests the pattern list with: {\"getProgramList\":true} ; the response is one or more binary packets of type 07 ( getProgramList ). For each pattern in the list, the webUI then requests its preview image with {\"getPreviewImg\":patternId} ; the response is a JPG embedded in one or more packets of type 04 ( previewImage ). Clicking on a pattern name sends: {\"setActivePattern\":patternId} . After about 30 seconds, the webUI resends the command with a further parameter to save the pattern selection to flash: {\"setActivePattern\":patternId, \"save\":true} . Sequencer mode can be: \"Off\": (shown above) where the \"Off\" button sends {\"sequencerMode\":0} with no response. \"Shuffle All\": \"Shuffle All\" button sends {\"sequencerMode\":1} which also starts the sequencer. Changing the \"seconds per pattern\" field sends {\"sequenceTimer\":30} \"Pause\" button sends {\"runSequencer\":false} . \"Play\" button sends {\"runSequencer\":true} . \"Next\" button sends {\"nextProgram\":true} which also starts the sequencer. The response to all shuffle commands is the current state of the sequencer (the same message that arrives out-of-band). \"Playlist\": \"Playlist\" button sends {\"sequencerMode\":2} which also starts the sequencer. \"Pause\", \"Play\" and \"Next\" buttons work the same as above. \"Restart\" button sends {\"playlist\":{\"position\":0}} . \"Previous\" button sends {\"playlist\":{\"position\":currentNumber - 1}} where currentNumber came from the most recently announced state of the sequencer. \"Add\" button on pattern sends {\"playlist\":{\"id\":\"\\_defaultplaylist\\_\",\"items\":[{\"id\":patternId,\"ms\":durationInMs=30000}]},\"save\":true} . Adding a pattern, changing the duration, changing the order, or deleting a playlist pattern resends the whole list: {\"playlist\":{\"id\":\"\\_defaultplaylist\\_\",\"items\":[{\"id\":patternId1,\"ms\":durationInMs=30000}, {\"id\":patternId2,\"ms\":durationInMs=30000}, \u2026]},\"save\":true} . The response to all playlist commands is the current state of the sequencer (the same message that arrives out-of-band).","title":"Notes"},{"location":"pixelblazeProtocol/#edit-tab","text":"","title":"Edit tab"},{"location":"pixelblazeProtocol/#notes_2","text":"Any changes within the code pane cause the pattern code to be compiled, and if successful, the bytecode is sent to the Pixelblaze with messageType 03 ( putBytecode ) and it begins executing immediately. The pattern preview window at the top (which appears on all tabs) is updated every time the Pixelblaze sends a new binary packet of type 05 ( previewFrame ), which can arrive at any time. \"Save\" button sends three binary messages of type 04 ( PreviewImage ), 01 ( putSourceCode ), and 03 ( putByteCode ); if successful, the response is {\"ack\":1,\"saveProgramSourceFile\":true} . Brightness slider sends {\"brightness\":0..100} . \"Vars Watch\" button sends {\"getVars\":true|false} .","title":"Notes"},{"location":"pixelblazeProtocol/#mapper-tab","text":"","title":"Mapper tab"},{"location":"pixelblazeProtocol/#notes_3","text":"When the tab is loaded, the webUI fetches the mapFunction from the Pixelblaze with a HTTP GET to the /pixelmap.txt endpoint. Any changes to the mapFunction in the code pane are immediately compiled into mapData and, if successful, cause a binary message of type 08 ( putPixelMap ) to be sent to the Pixelblaze where it is immediately available to the render engine. The \"save\" button sends {\"saveMap\":true} which tells the Pixelblaze to save the most-recently-uploaded mapData to flash as /pixelmap.dat ; it also saves the mapFunction to flash as /pixelmap.txt by doing a a HTTP POST to the /edit endpoint with headers Content-Type: application/x-www-form-urlencoded; charset=UTF-8 and the text of the mapper function as the body.","title":"Notes"},{"location":"pixelblazeProtocol/#settings-tab-v2","text":"","title":"Settings tab (v2)"},{"location":"pixelblazeProtocol/#notes_4","text":"Setting the LED type to \"Output Expander\" reveals another panel: Whenever any field is changed (including the \"Add Board\" and \"Remove\" buttons), the webUI recompiles the table into a binary expanderData blob (details of which are below) and resends it to the Pixelblaze as a binary message of type 08 ( ExpanderSettings ).","title":"Notes"},{"location":"pixelblazeProtocol/#settings-tab-v3","text":"","title":"Settings tab (v3)"},{"location":"pixelblazeProtocol/#notes_5","text":"Essentially the same as v2, with the addition of the \"Cpu Speed\" field (which sends {\"cpuSpeed\":\"80|160|240\"} ) and the \"disableWifi\" field (which sends {\"networkPowerSave\":true|false} ).","title":"Notes"},{"location":"pixelblazeProtocol/#wifi-tab-v3-only","text":"Notes: Page load does a HTTP GET to the /wifistatus endpoint to populate the status field. \"Scan\" button does a HTTP GET to the /wifiscan endpoint to populate the access point list. \"Submit\" button does a HTTP POST to the /wifisave endpoint to save the Wifi configuration. These endpoints are described in further detail below.","title":"Wifi tab (v3 only)"},{"location":"pixelblazeProtocol/#advanced-settings-tab","text":"","title":"Advanced Settings tab"},{"location":"pixelblazeProtocol/#notes_6","text":"The \"Advanced Settings\" tab is only visible when the webUI is loaded with the \"/?setup\" URL. The \"Brand Name\" field sends {\"brandName\":newName} . The \"Simple UI\" checkbox sends {\"simpleUiMode\":true|false} . The \"Learning UI mode\" checkbox sends {\"learningUiMode\":true|false} .","title":"Notes"},{"location":"pixelblazeProtocol/#binary-formats","text":"","title":"Binary formats"},{"location":"pixelblazeProtocol/#previewframe-message","text":"Taking into account the packet framing described above (of which the previewFrame is unique in that it does not have a continuationFlags byte), the body of the previewFrame message consists of groupings of three bytes (corresponding to the Red , Green and Blue values) for each of the pixelCount pixels configured; for example the previewFrame for a 64-pixel setup would contain 1 (header) + 3 (RGB) * 64 (pixels) = 193 bytes. 0 1 2 3 4 5 ... [ red_pixel0, green_pixel0, blue_pixel0 ] [ red_pixel1, green_pixel1, blue_pixel2 ] ...","title":"previewFrame message"},{"location":"pixelblazeProtocol/#mapdata-message","text":"Taking into account the packet framing described above, the body of the mapData message consists of a header containing three 32-bit longwords in little-endian format, representing the formatVersion (1 or 2), the number of dimensions a/k/a numDimensions (1, 2 or 3), and the dataSize in bytes (which is calculated as formatVersion * numDimensions * numElements ). The remainder of the message body contains numElements tuples of numDimensions values, which are either 8-bit ( formatVersion =1) or 16-bit integers in little-endian format ( formatVersion =2), representing the location of each particular pixel on that particular axis (X, Y or Z). Each of these integers then needs to be divided by the respective maxInt for the formatVersion (255 for formatVersion =1, 65535 for formatVersion =2) to obtain a floating-point world coordinate between 0 and 1. For example, a 3-dimensional map with formatVersion =1 and 40 pixels would look like: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 ... [ 1 0 0 0 ] [ 3 0 0 0 ] [ 40 0 0 0 ] [ X_0, Y_0, Z_0 ] [ X_1, Y_1, Z_1 ] ... And a 2-dimensional map with formatVersion =2 and 24 pixels would look like: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 ... [ 2 0 0 0 ] [ 2 0 0 0 ] [ 24 0 0 0 ] [ lsbX_0 msbX_0, lsbY_0 msbY_0 ] ...","title":"mapData message"},{"location":"pixelblazeProtocol/#expanderconfig-message","text":"Taking into account the packet framing described above, the body of the expanderConfig message consists of a versionNumber byte of 05, followed by one or more 96-byte tables corresponding to each output expander (8 channels * 12 bytes/channel). For example, defining two expanders like this: produces a table like this, which (according to the data structures found in the outputExpander source code ) can be decoded as follows: Where: addx|chan is a packed byte ( addx:5|chan:3 ) combining the expander address and the channel index; ledType is an enumeration with: 0= \u2018notUsed\u2019 , 1= \u2018WS2812B\u2019 , 2= \u2018drawAll\u2019 , 3= \u2018APA102 Data\u2019 , 4= \u2018APA102 Clock\u2019 ; numColors is either 3 (for R/G/B) or 4 (for R/G/B/W); colorOrder is a packed byte ( R:2|G:2|B:2|W:2 ) containing four 2-bit numbers indicating the order in which the colors appear (0=first, 3=last). The possible permutations are: 0x24 = \u2018RGB\u2019 , 0x18 = \u2018RBG\u2019 , 0x09 = \u2018BRG\u2019 , 0x06 = \u2018BGR\u2019 , 0x21 = \u2018GRB\u2019 , 0x12 = \u2018GBR\u2019 , 0xE4 = \u2018RGBW\u2019 , and 0xE1 = \u2018GRBW\u2019 ; pixelCount is the number of pixels on this channel; startIndex is the first address in the range to be directed to this channel; and the four bytes marked as \u2018notUsed\u2019 represent the clockSpeed for the channel, which is not currently supported in either the UI or the outputExpander driver but may be used in a future version.","title":"expanderConfig message"},{"location":"pixelblazeProtocol/#easy-pattern-export-epe-files","text":"EPE files are a portable way of moving patterns between Pixelblazes, even if they have different versions and architectures. EPE files can be exported from the Pixelblaze to the local computer from the \"Patterns\" tab, and imported from the local computer to another Pixelblaze on the \"Edit\" tab (from which it needs to be saved onto the new Pixelblaze). Note: The Pixelblaze pattern language has evolved over time; patterns cannot be successfully imported onto a Pixelblaze whose firmware version does not support the language constructs (eg. array initializers, coordinate translations) they use. The file contents consist of a JSON dictionary containing: the user-assigned name of the pattern; an immutable id for the pattern generated on the Pixelblaze where it was first saved; a JSON dictionary of sources for the pattern, of which there is only one, named main , which contains the javascript-like source code of the pattern; and a base64-encoded JPEG preview image of the pattern, where each vertical row represents the state of the pixels for a single render cycle. When opened in a text editor, an EPE looks something like this: { \"name\": \"Default New Pattern\", \"id\": \"keSLmg6tCWGPMvb85\", \"sources\": { \"main\": \"export function render(index) {\\n hsv(time(.1) + index/pixelCount, 1, 1)\\n}\" }, \"preview\": \"/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQo...AAAAB//2Q==\" } EPE files do not contain the current values of the UI controls, which would have been nice. Those can be exported and imported from the Pixelblaze filesystem separately using the REST-ish HTTP API.","title":"Easy Pattern Export (EPE) files"},{"location":"pixelblazeProtocol/#pixelblaze-binary-pattern-pbp-files","text":"Pixelblaze saves patterns to the flash filesystem as a binary blob with the filename /{patternId} . These blobs can be exported and imported from the Pixelblaze filesystem using the REST-ish HTTP API, which is the mechanism used by the Firestorm clone command and the Pixelblaze backup / restore buttons. A PBP blob begins with a header consisting of nine 32-bit longwords representing: The format versionNumber ; the offset to and length of the pattern's Name ; the offset to and length of the pattern's previewImage ; the offset to and length of the pattern's byteCode ; and the offset to and length of the pattern's sourceCode . These components occupy the remainder of the blob.","title":"Pixelblaze Binary Pattern (PBP) files"},{"location":"pixelblazeProtocol/#pixelblaze-binary-backup-pbb-files","text":"Pixelblaze can also, from firmware versions 2.29/3.24 onwards, import and export the entire contents of the flash filesystem -- patterns, playlists and configuration, but not the webUI file itself -- to a local computer as a Pixelblaze Binary Backup. This can be useful for archiving the state of a Pixelblaze, restoring its contents after an experiment gone wrong, or even provisioning multiple Pixelblazes with identical setups (though it would be a good idea afterwards to give them all different names). The file contents consist of a JSON dictionary containing a single element, files , which is another JSON dictionary containing a key/value tuple (where the key is the filename and the value is the file contents, encoded in base64) for each file stored in this Pixelblaze Binary Backup. For example, a Pixelblaze Binary Backup for a Pixelblaze containing 11 patterns might look like this: { \"files\": { \"/apple-touch-icon.png\": \"iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAADAFBMVEUA...\", \"/config.json\": \"eyJuYW1lIjoiUGl4ZWxibGF6ZV84eDhtYXRyaXgiLCJicmFuZE5hbWUiOiIiLCJwa...\", \"/favicon.ico\": \"AAABAAMAMDAAAAEAIACoJQAANgAAACAgAAABACAAqBAAAN4lAAAQEAAAAQAgAGgEA...\", \"/l/_defaultplaylist_\": \"eyJpdGVtcyI6W119\", \"/p/4ANH2jwPKj8nasXeD\": \"AgAAACQAAAASAAAANgAAAK8DAADlAwAARwkAACwNAABuCwAAMUQgQXVyb...\", \"/p/4ANH2jwPKj8nasXeD.c\": \"eyJzbGlkZXJTcGVlZCI6MC44NTg0LCJzbGlkZXJXaWR0aCI6MC43NzU...\", \"/p/4u26f8x7GRsBjQeBn\": \"AgAAACQAAAAMAAAAMAAAAJUTAADFEwAAKAIAAO0VAAA6BAAAZ2xpdGNoI...\", \"/p/5aWMwDm9ALfJniBXi\": \"AgAAACQAAAATAAAANwAAALEMAADoDAAAIAEAAAgOAADQAAAAMUQgbWFyY...\", \"/p/7eeGvKegHGmCD5QAd\": \"AgAAACQAAAAIAAAALAAAAGAJAACMCQAAnQEAACkLAACYBwAAcHVsc2UgM...\", \"/p/7rkpwJrEQBffHPsye\": \"AgAAACQAAAAQAAAANAAAAIAPAAC0DwAALAEAAOAQAAC8AgAAY29sb3IgZ...\", \"/p/8EX6T2cpfA8WxLEEF\": \"AgAAACQAAAAMAAAAMAAAAEoPAAB6DwAADAEAAIYQAADMAQAAcmFpbmJvd...\", \"/p/HuAhJN9zTJKZEinMH\": \"AgAAACQAAAAEAAAAKAAAAK8DAADXAwAAXwAAADYEAABmAQAAIU9mZv/Y/...\", \"/p/gvM2bmyhQFm6bXd93\": \"AgAAACQAAAAVAAAAOQAAABkIAABSCAAAxgYAABgPAAB0BwAAQW5pbWF0Z...\", \"/p/gvM2bmyhQFm6bXd93.c\": \"eyJzbGlkZXJOdW1MaW5lcyI6MC4wNTg0LCJzbGlkZXJMaW5lV2lkdGg...\", \"/p/mvkAmMHcyPsNbPxyt\": \"AgAAACQAAAAUAAAAOAAAAAcUAAA/FAAAKAEAAGcVAADkAwAAY29sb3Igd...\", \"/p/vSFkZsKmhKSGpmf6E\": \"AgAAACQAAAAKAAAALgAAAK0KAADbCgAA6AAAAMMLAACyAAAAZmFzdCBwd...\", \"/p/zemcitFWMB3y3f9o2\": \"AgAAACQAAAAJAAAALQAAAHEVAACeFQAANAEAANIWAADaAQAAbWlsbGlwZ...\" } }","title":"Pixelblaze Binary Backup (PBB) files"},{"location":"pixelblazeProtocol/#http-endpoints","text":"","title":"HTTP endpoints"},{"location":"pixelblazeProtocol/#notes_7","text":"The normal way of accessing the Pixelblaze webUI is by using a webbrowser to GET the root endpoint, eg. http://{pixelblazeIpAddress}/ . Adding a queryString of ?min to the above URL will reduce websocket traffic by stopping the webUI from requesting previewFrame images for the pattern list and by stopping the Pixelblaze from sending previewFrame messages for the currently executing pattern. However, because pattern files contain a previewImage it is necessary in this mode to re-enable previewFrame messages (by clicking on the pattern preview row at the top of the webUI) before attempting to edit and save a pattern. Adding a queryString of ?setup to the above URL will show an additional 'Advanced Settings' tab in the webUI which allows setting the brandName which appears in the top left corner of the webUI or enabling simpleUI and learningUI modes. WiFi configuration at initial setup is performed using the following endpoints: GET to the /wifistatus endpoint returns the current WiFi configuration; the response is {\"status\":wifiStatus,\"ip\":\"x.x.x.x\",\"ssid\":\"{ssid}\",\"mac\":\"m:a:c\"} where wifiStatus can be 255 ( modeSetup ), 6 ( modeAccessPoint ), or 3 ( modeClient ). GET to the /wifiscan endpoint starts scanning for access points; the response is: {\"scanning\":1} until the scan completes, at which point it returns a list of the Wifi access points found: [{\"rssi\":-42,\"ssid\":\"AccessPoint1\",\"bssid\":\"xx:xx:xx:xx:xx:xx\",\"channel\":1,\"secure\":false},{\"rssi\":-53,\"ssid\":\"AccessPoint2\",\"bssid\":\"xx:xx:xx:xx:xx:xx\",\"channel\":2,\"secure\":true},{\"rssi\":-71,\"ssid\":\"AccessPoint3\",\"bssid\":\"xx:xx:xx:xx:xx:xx\",\"channel\":6,\"secure\":true}] . POST to the /wifisave endpoint with headers Content-Type: application/x-www-form-urlencoded; charset=UTF-8 and body mode={CLIENT|AP|SETUP}&ssid={SSID}&passphrase={PASSWORD}&discover=true sets the WiFi mode and credentials; the response should be {\"ack\":1} . The Pixelblaze webserver has a REST-ish API which is used for manipulating files stored on the flash filesystem. This is used by the webUI to: GET files from the root endpoint eg. http://{pixelblazeIpAddress}/{fileName} ; POST new or changed files to the /edit endpoint with headers Content-Type: multipart/form-data and formFields filename={fileName} and data={fileData} ; and DELETE files by doing a GET to the /delete?path={fileName} where {filename} includes the folder prefix, eg. /p/ for patterns, /l/ for playlists, etc. Firmware updates delivered as .stfu archives can be uploaded and applied by doing a POST to the /update endpoint with headers Content-Type: multipart/form-data and formFields update={stfuBytes} . A POST to the /reboot endpoint will, unsurprisingly, cause the Pixelblaze to reboot. This can be useful because it is the only way to force Pixelblaze to take notice of changes made to the configuration files through the REST-ish API (configuration files are only read from flash on boot).","title":"Notes"},{"location":"pixelblazeProtocol/#network-discovery","text":"Around once per second, the Pixelblaze announces its presence with a beacon packet broadcast over UDP on port 1889. This packet is used by the Firestorm utility to detect and synchronize Pixelblazes on the local network; Firestorm replies to each Pixelblaze broadcast with a timeSync packet and the receiving Pixelblaze adjusts its clock according to the time difference calculated from the packet.","title":"Network Discovery"},{"location":"pixelblazeProtocol/#beacon-packet","text":"The beacon packet contains three longwords in little-endian format, representing a 32-bit packetType of 42, the 32-bit IPv4 ipAddress of the Pixelblaze and currentTime according to that Pixelblaze (the lowest 32 bits of the Unix timestamp format, with millisecond resolution). For example, a Pixelblaze at 192.168.4.1 would send the following packet on February 2, 2022 at 02:02:02.02 (timestamp \\x00018321D28F98 ): 0 1 2 3 4 5 6 7 8 9 10 11 [ 42 0 0 0 ] [ 192. 168. 4. 1 ] [ \\x98 \\x8F \\xD2 \\x21 ]","title":"Beacon packet"},{"location":"pixelblazeProtocol/#timesync-packet","text":"The timeSync packet contains five longwords in little-endian format, representing a 32-bit packetType of 43 ( timesync ), a 32-bit senderId (which seems to allow any value), the authoritative currentTime (the lowest 32 bits of the Unix timestamp format, with millisecond resolution), and a recap of the pixelblazeIpAddress and pixelblazeCurrentTime from the beacon packet to which it is responding. For example, a Firestorm with senderId 65535 running on January 1, 1970 at 00:00:00.00 (timestamp \\x0000000000000000 ) would reply to the Pixelblaze beacon above with: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [ 43 0 0 0] [\\xFF \\xFF 0 0] [0 0 0 0] [192. 168. 4. 1] [\\x98 \\x8F \\xD2 \\x21]","title":"TimeSync packet"},{"location":"tutorials/","text":"Tutorials \u00b6 TBD \u00b6","title":"Tutorials"},{"location":"tutorials/#tutorials","text":"","title":"Tutorials"},{"location":"tutorials/#tbd","text":"","title":"TBD"},{"location":"api/pixelblaze/","text":"module pixelblaze </> A library that provides a simple, synchronous interface for communicating with and controlling Pixelblaze LED controllers. This module contains the following classes: Pixelblaze : an object for controlling Pixelblazes. PBB : an object for creating and manipulating Pixelblaze Binary Backups. PBP : an object for creating and manipulating Pixelblaze Binary Patterns. EPE : an object for creating and manipulating Electromage Pattern Exports. Classes Pixelblaze \u2014 The Pixelblaze class presents a simple synchronous interface to a single Pixelblaze's websocket API. </> PBB \u2014 This class provides methods for importing, exporting, and manipulating the contents of a Pixelblaze Binary Backup, as created from the Settings menu on a Pixelblaze. </> PBP \u2014 This class represents a Pixelblaze Binary Pattern, as stored on the Pixelblaze filesystem or contained in a Pixelblaze Binary Backup. </> EPE \u2014 This class provides methods for importing, exporting, and manipulating the contents of an Electromage Pattern Export (EPE), as exported from the Patterns list on a Pixelblaze. </> PixelblazeEnumerator \u2014 Listens on a network to detect available Pixelblazes, which the user can then list or open as Pixelblaze objects. Also provides time synchronization services for running synchronized patterns on a network of Pixelblazes. </> class pixelblaze. Pixelblaze ( ipAddress , proxyUrl=None ) </> The Pixelblaze class presents a simple synchronous interface to a single Pixelblaze's websocket API. The constructor takes the Pixelblaze's IPv4 address in the usual 12 digit numeric form (for example, \"192.168.4.1\"). To control multiple Pixelblazes, create multiple objects. The objective is to provide 99% coverage of the functionality of the Pixelblaze webUI, and so the supported methods are named and grouped according to the tabs of the webUI: CREATION __init__() EnumerateAddresses() EnumerateDevices() PATTERNS tab SEQUENCER section getSequencerMode / setSequencerMode getSequencerState / setSequencerState getSequencerShuffleTime / setSequencerShuffleTime getSequencerPlaylist / addToSequencerPlaylist / setSequencerPlaylist SAVED PATTERNS section getPatternList getActivePattern / setActivePattern getActiveVariables / setActiveVariables getActiveControls / setActiveControls deletePattern getPatternAsEpe EDIT tab getPatternControls getPatternSourceCode sendPatternToRenderer savePattern MAPPER tab getMapFunction / setMapFunction getMapData / setMapData SETTINGS tab getConfigSettings getConfigSequencer getConfigExpander NAME section getDeviceName / setDeviceName getDiscovery / setDiscovery getTimezone / setTimezone getAutoOffEnable / setAutoOffEnable getAutoOffStart / setAutoOffStart getAutoOffEnd / setAutoOffEnd LED section getBrightnessLimit / setBrightnessLimit getLedType / setLedType getPixelCount / setPixelCount getDataSpeed / setDataSpeed getColorOrder / setColorOrder getCpuSpeed / setCpuSpeed getNetworkPowerSave / setNetworkPowerSave UPDATES section getUpdateState / installUpdate getVersion / getVersionMajor / getVersionMinor / BACKUPS section saveBackup / restoreFromBackup reboot ADVANCED tab getBrandName / setBrandName getSimpleUiMode / setSimpleUiMode getLearningUiMode / setLearningUiMode GLOBAL CONTROLS getBrightnessSlider / setBrightnessSlider LOW-LEVEL SEND/RECEIVE wsReceive wsSendJson wsSendBinary FILESYSTEM getFileList getFile / putFile / deleteFile STATISTICS getStatistics getFPS getUptime getStorageSize getStorageUsed Classes LightweightEnumerator \u2014 Internal implementation class for the EnumerateAddresses and EnumerateDevices methods. </> messageTypes \u2014 Types of binary messages sent and received by a Pixelblaze. The first byte of a binary frame contains the message type. </> frameTypes \u2014 Continuation flags for messages sent and received by a Pixelblaze. The second byte of a binary frame tells whether this packet is part of a set. </> fileTypes \u2014 A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files. </> sequencerModes \u2014 An enumeration. </> ledTypes \u2014 An enumeration. </> colorOrders \u2014 An enumeration. </> cpuSpeeds \u2014 An enumeration. </> updateStates \u2014 An enumeration. </> deprecationReasons \u2014 An enumeration. </> Methods EnumerateAddresses ( timeout , proxyUrl , hostIP ) (LightweightEnumerator) \u2014 Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. </> EnumerateDevices ( timeout , proxyUrl , hostIP ) (LightweightEnumerator) \u2014 Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. </> __enter__ ( ) (Pixelblaze) \u2014 Internal class method for resource management. </> __exit__ ( exc_type , exc_value , traceback ) \u2014 Internal class method for resource management. </> addToSequencerPlaylist ( playlistContents , patternId , duration ) (dict) \u2014 Appends a new entry to the specified playlist. </> controlExists ( controlName , patternId ) (bool) \u2014 Tests whether the named control exists in the specified pattern. If no pattern is specified, the currently active pattern is assumed. </> deleteFile ( fileName ) (bool) \u2014 Deletes a file from this Pixelblaze using the HTTP API. </> deletePattern ( patternId ) \u2014 Delete a pattern saved on the Pixelblaze. </> getActiveControls ( configSequencer ) (dict) \u2014 Returns the collection of controls for the pattern currently running on the Pixelblaze. </> getActivePattern ( configSequencer ) (str) \u2014 Returns the ID of the pattern currently running on the Pixelblaze. </> getActiveVariables ( ) (dict) \u2014 Gets the names and values of all variables exported by the current pattern. </> getAutoOffEnable ( configSettings ) (bool) \u2014 Returns whether the auto-Off timer is enabled. </> getAutoOffEnd ( configSettings ) (str) \u2014 Returns the time, if any, at which the Pixelblaze will turn on the pattern when the auto-Off timer is enabled. </> getAutoOffStart ( configSettings ) (str) \u2014 Returns the time, if any, at which the Pixelblaze will turn off the pattern when the auto-Off timer is enabled. </> getBrandName ( configSettings ) (str) \u2014 Returns the brand name, if any, of this Pixelblaze (blank unless rebadged by a reseller). </> getBrightnessLimit ( configSettings ) (int) \u2014 Returns the maximum brightness for the Pixelblaze. </> getBrightnessSlider ( configSettings ) (float) \u2014 Get the value of the UI brightness slider. </> getColorControlName ( patternId ) (str) \u2014 Returns the name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. </> getColorControlNames ( patternId ) (list) \u2014 Returns a list of names of the specified pattern's rgbPicker or hsvPicker controls if any exist, None otherwise. If the pattern argument is not specified, check the currently running pattern </> getColorOrder ( configSettings ) (colorOrders) \u2014 Returns the color order of the LEDs connected to the Pixelblaze. </> getConfigExpander ( ) (dict) \u2014 Retrieves the OutputExpander configuration. </> getConfigSequencer ( ) (dict) \u2014 Retrieves the Sequencer state. </> getConfigSettings ( ) (dict) \u2014 Returns the configuration as defined on the Settings tab of the Pixelblaze. </> getCpuSpeed ( configSettings ) (cpuSpeeds) \u2014 Returns the CPU speed of the Pixelblaze. </> getDataSpeed ( configSettings ) (int) \u2014 Returns the data speed of the LEDs connected to the Pixelblaze. </> getDeviceName ( configSettings ) (str) \u2014 Returns the user-friendly name of the Pixelblaze. </> getDiscovery ( configSettings ) (bool) \u2014 Returns a boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. </> getFPS ( savedStatistics ) (int) \u2014 Return the speed (in Frames per Second) of the pattern rendering. </> getFile ( fileName ) (bytes) \u2014 Downloads a file from the Pixelblaze using the HTTP API. </> getFileList ( fileTypes ) (list[str]) \u2014 Returns a list of all the files of a particular type stored on the Pixelblaze's filesystem. </> getLearningUiMode ( configSettings ) (bool) \u2014 Returns whether \"Learning UI Mode\" is enabled. </> getLedType ( configSettings ) ( Pixelblaze.ledTypes ) \u2014 Returns the type of LEDs connected to the Pixelblaze. </> getMapData ( ) (bytes) \u2014 Gets the binary representation of the pixelMap entered on the 'Mapper' tab. </> getMapFunction ( ) (str) \u2014 Returns the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. </> getNetworkPowerSave ( configSettings ) (bool) \u2014 Returns whether the \"Network Power Saving\" mode is enabled (and WiFi is disabled). </> getPatternAsEpe ( patternId ) (str) \u2014 Convert a stored pattern into an exportable, portable JSON format (which then needs to be saved by the caller). </> getPatternControls ( patternId ) (dict) \u2014 Returns the name and value of any UI controls exported by the specified pattern. </> getPatternList ( forceRefresh ) (dict) \u2014 Returns a list of all the patterns saved on the Pixelblaze. </> getPatternSourceCode ( patternId ) (str) \u2014 Gets the sourceCode of a saved pattern from the Pixelblaze. </> getPeers ( ) (TBD) \u2014 A new command, added to the API but not yet implemented as of v2.29/v3.24, that will return a list of all the Pixelblazes visible on the local network segment. </> getPixelCount ( configSettings ) (int) \u2014 Returns the number of LEDs connected to the Pixelblaze. </> getPreviewFrame ( ) (bytes) \u2014 Grab one of the preview frames that Pixelblaze sends after every render cycle. </> getPreviewImage ( patternId ) (bytes) \u2014 Gets the preview image (a JPEG with 150 iterations of the pattern) saved within a pattern. </> getSequencerMode ( configSequencer ) (sequencerModes) \u2014 Gets the current sequencer mode. </> getSequencerPlaylist ( playlistId ) (dict) \u2014 Fetches the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. </> getSequencerShuffleTime ( configSequencer ) (int) \u2014 Gets the time the Pixelblaze's sequencer will run each pattern before switching to the next. </> getSequencerState ( configSequencer ) (bool) \u2014 Gets the current sequencer run state. </> getSimpleUiMode ( configSettings ) (bool) \u2014 Returns whether \"Simple UI Mode\" is enabled. </> getStatistics ( ) (dict) \u2014 Grab one of the statistical packets that Pixelblaze sends every second. </> getStorageSize ( savedStatistics ) (int) \u2014 Return the available Flash storage on the Pixelblaze. </> getStorageUsed ( savedStatistics ) (int) \u2014 Return the amount of Flash storage used on the Pixelblaze. </> getTimezone ( configSettings ) (str) \u2014 Returns the timezone, if any, for the Pixelblaze. </> getUpdateState ( ) (updateStates) \u2014 Returns the updateState of the Pixelblaze. </> getUptime ( savedStatistics ) (int) \u2014 Return the uptime (in seconds) of the Pixelblaze. </> getUrl ( endpoint ) (str) \u2014 Build the URL to communicate with the Pixelblaze using an HTTP endpoint. </> getVersion ( ) (float) \u2014 Returns the firmware version of the Pixelblaze. </> getVersionMajor ( ) (int) \u2014 Returns the major version number. </> getVersionMinor ( ) (int) \u2014 Returns the minor version number. </> installUpdate ( ) (updateStates) \u2014 Installs new Pixelblaze firmware, if the current updateState indicates that an update is available. </> nextSequencer ( saveToFlash ) \u2014 Mimics the 'Next' button in the UI. If the sequencerMode is ShuffleAll or Playlist, advances the pattern sequencer to the next pattern. </> pauseRenderer ( doPause ) \u2014 Pause rendering. Lasts until unpause() is called or the Pixelblaze is reset. </> pauseSequencer ( saveToFlash ) \u2014 Mimics the 'Pause' button in the UI. Pauses the pattern sequencer, without changing the current position in the shuffle or playlist. Has no effect if the sequencer is not currently running. </> playSequencer ( saveToFlash ) \u2014 Mimics the 'Play' button in the UI. Starts the pattern sequencer, the consequences of which will vary depending upon the sequencerMode. </> putFile ( fileName , fileContents ) (bool) \u2014 Uploads a file to the Pixelblaze using the HTTP API. </> reboot ( ) \u2014 Reboots the Pixelblaze. </> restoreFromBackup ( fileName ) \u2014 Restores the contents of this Pixelblaze from a Pixelblaze Binary Backup file. </> saveBackup ( fileName ) \u2014 Saves the contents of this Pixelblaze into a Pixelblaze Binary Backup file. </> savePattern ( previewImage , sourceCode , byteCode ) \u2014 Saves a new pattern to the Pixelblaze filesystem. Mimics the effects of the 'Save' button. </> sendPatternToRenderer ( bytecode , controls ) \u2014 Sends a blob of bytecode and a JSON dictionary of UI controls to the Renderer. Mimics the actions of the webUI code editor. </> sendPing ( ) (Union[str, None]) \u2014 Send a Ping message to the Pixelblaze and wait for the Acknowledgement response. </> setActiveControls ( dictControls , saveToFlash ) \u2014 Sets the value of one or more UI controls exported from the active pattern. </> setActivePattern ( patternId , saveToFlash ) \u2014 Sets the active pattern. </> setActivePatternByName ( patternName , saveToFlash ) \u2014 Sets the currently running pattern using a text name. </> setActiveVariables ( dictVariables ) \u2014 Sets the values of one or more variables exported by the current pattern. </> setAutoOffEnable ( boolValue , saveToFlash ) \u2014 Enables or disables the Pixelblaze's auto-Off scheduler. </> setAutoOffEnd ( timeValue , saveToFlash ) \u2014 Sets the time at which the Pixelblaze will turn on the pattern. </> setAutoOffStart ( timeValue , saveToFlash ) \u2014 Sets the time at which the Pixelblaze will turn off the pattern. </> setBrandName ( brandName ) \u2014 Sets the brand name of the Pixelblaze (used by VARs to change the brand name that appears on the webUI). </> setBrightnessLimit ( maxBrightness , saveToFlash ) \u2014 Sets the Pixelblaze's global brightness limit. </> setBrightnessSlider ( brightness , saveToFlash ) \u2014 Set the value of the UI brightness slider. </> setCacheRefreshTime ( seconds ) \u2014 Set the interval, in seconds, after which calls to getPatternList() clear the pattern cache and fetch a new pattern list from the Pixelblaze. </> setColorControl ( controlName , color , saveToFlash ) \u2014 Sets the 3-element color of the specified HSV or RGB color picker. </> setColorOrder ( colorOrder , saveToFlash ) \u2014 Sets the color order for the LEDs connected to the Pixelblaze. </> setCpuSpeed ( cpuSpeed ) \u2014 Sets the CPU speed of the Pixelblaze. </> setDataSpeed ( speed , saveToFlash ) \u2014 Sets custom data rate for communicating with the LEDs. </> setDeviceName ( name ) \u2014 Sets the device name of the Pixelblaze. </> setDiscovery ( enableDiscovery , timezoneName ) \u2014 Sets whether this Pixelblaze announces its presence to (and gets a clocktime reference from) the Electromage Discovery Service. </> setLearningUiMode ( doLearningMode ) \u2014 Enables or disables \"Learning UI Mode\" which has additional UI help for new users. </> setLedType ( ledType , dataSpeed , saveToFlash ) \u2014 Defines the type of LEDs connected to the Pixelblaze. </> setMapData ( mapData , saveToFlash ) \u2014 Sets the binary mapData used by the Pixelblaze. </> setMapFunction ( mapFunction ) (bool) \u2014 Sets the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. </> setNetworkPowerSave ( disableWifi ) \u2014 Enables or disables the WiFi connection on the Pixelblaze, which can significantly reduce power requirements for battery-powered installations. </> setPixelCount ( nPixels , saveToFlash ) \u2014 Sets the number of LEDs attached to the Pixelblaze. </> setSendPreviewFrames ( doUpdates ) \u2014 Set whether or not the Pixelblaze sends pattern preview frames. </> setSequencerMode ( sequencerMode , saveToFlash ) \u2014 Sets the sequencer mode to one of the available sequencerModes (Off, ShuffleAll, or Playlist). </> setSequencerPlaylist ( playlistContents , playlistId ) \u2014 Replaces the entire contents of the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. </> setSequencerShuffleTime ( nMillis , saveToFlash ) \u2014 Sets the time the Pixelblaze's sequencer will run each pattern before switching to the next. </> setSequencerState ( sequencerState , saveToFlash ) \u2014 Set the run state of the sequencer. </> setSimpleUiMode ( doSimpleMode ) \u2014 Enables or disables \"Simple UI Mode\" which makes the UI more suitable for non-technical audiences. </> setTimezone ( timezoneName ) \u2014 Sets the Pixelblaze's timezone, which specifies how to adjust the clocktime reference provided by the Electromage Discovery Service. </> wsReceive ( binaryMessageType ) (Union[str, bytes, None]) \u2014 Wait for a message of a particular type from the Pixelblaze. </> wsSendBinary ( binaryMessageType , blob , expectedResponse ) (response) \u2014 Send a binary command to the Pixelblaze, and optionally wait for a suitable response. </> wsSendJson ( command , expectedResponse ) (Union[str, bytes, None]) \u2014 Send a JSON-formatted command to the Pixelblaze, and optionally wait for a suitable response. </> method __enter__ ( ) </> Internal class method for resource management. Returns (Pixelblaze) This object. method __exit__ ( exc_type , exc_value , traceback ) </> Internal class method for resource management. Parameters exc_type (_type_) \u2014 As per Python standard. exc_value (_type_) \u2014 As per Python standard. traceback (_type_) \u2014 As per Python standard. class LightweightEnumerator ( enumeratorType , timeout=1500 , proxyUrl=None , hostIP='0.0.0.0' ) </> Internal implementation class for the EnumerateAddresses and EnumerateDevices methods. Classes EnumeratorTypes \u2014 Enumerator to specify the desired LightweightEnumerator type. </> Methods __del__ ( ) \u2014 Stop listening for datagrams, terminate listener thread and close socket. </> __next__ ( ) \u2014 Return the next Pixelblaze found, until the timeout expires. </> class EnumeratorTypes ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntEnum int enum.Enum Enumerator to specify the desired LightweightEnumerator type. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method __del__ ( ) </> Stop listening for datagrams, terminate listener thread and close socket. method __next__ ( ) </> Return the next Pixelblaze found, until the timeout expires. staticmethod EnumerateAddresses ( timeout=1500 , proxyUrl=None , hostIP='0.0.0.0' ) </> Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Parameters timeout (int, optional) \u2014 The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. hostIP (str, optional) \u2014 The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. Returns (LightweightEnumerator) A subclassed Python enumerator object that returns (as a string) the IPv4 address of a Pixelblaze, in the usual dotted-quads numeric format. staticmethod EnumerateDevices ( timeout=1500 , proxyUrl=None , hostIP='0.0.0.0' ) </> Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Parameters timeout (int, optional) \u2014 The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. hostIP (str, optional) \u2014 The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. Returns (LightweightEnumerator) A subclassed Python enumerator object that returns a Pixelblaze object for controlling a discovered Pixelblaze. class messageTypes ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntEnum int enum.Enum Types of binary messages sent and received by a Pixelblaze. The first byte of a binary frame contains the message type. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. class frameTypes ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.Flag enum.Enum Continuation flags for messages sent and received by a Pixelblaze. The second byte of a binary frame tells whether this packet is part of a set. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method wsReceive ( binaryMessageType=None ) </> Wait for a message of a particular type from the Pixelblaze. Parameters binaryMessageType (messageTypes, optional) \u2014 The type of binary message to wait for (if None, waits for a text message). Defaults to None. Returns (Union[str, bytes, None]) The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. method sendPing ( ) </> Send a Ping message to the Pixelblaze and wait for the Acknowledgement response. Returns (Union[str, None]) The acknowledgement message received from the Pixelblaze, or None if a timeout occurred. method wsSendJson ( command , expectedResponse=None ) </> Send a JSON-formatted command to the Pixelblaze, and optionally wait for a suitable response. Parameters command (dict) \u2014 A Python dictionary which will be sent to the Pixelblaze as a JSON command. expectedResponse (str, optional) \u2014 If present, the initial key of the expected JSON response to the command. Defaults to None. Returns (Union[str, bytes, None]) The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. method wsSendBinary ( binaryMessageType , blob , expectedResponse=None ) </> Send a binary command to the Pixelblaze, and optionally wait for a suitable response. Parameters binaryMessageType (messageTypes, optional) \u2014 The type of binary message to send. blob (bytes) \u2014 The message body to be sent. expectedResponse (str, optional) \u2014 If present, the initial key of the expected JSON response to the command. Defaults to None. Returns (response) The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. method getPeers ( ) </> A new command, added to the API but not yet implemented as of v2.29/v3.24, that will return a list of all the Pixelblazes visible on the local network segment. Returns (TBD) To be defined once @wizard implements the function. method getUrl ( endpoint=None ) </> Build the URL to communicate with the Pixelblaze using an HTTP endpoint. Parameters endpoint (str, optional) \u2014 The HTTP endpoint. Defaults to None, which returns the URL of the Pixelblaze webUI. Returns (str) The URL of the HTTP endpoint on the Pixelblaze. class fileTypes ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntFlag int enum.Flag enum.Enum A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method getFileList ( fileTypes=<fileTypes.fileAll: 63> ) </> Returns a list of all the files of a particular type stored on the Pixelblaze's filesystem. For Pixelblazes running firmware versions lower than 2.29/3.24 (the point at which the necessary API was introduced), the list includes the names of optional configuration files that may or may not exist on a particular Pixelblaze, depending on its setup. Parameters fileTypes (fileTypes, optional) \u2014 A bitmasked enumeration of the fileTypes to be listed. Defaults to fileTypes.fileAll. Returns (list[str]) A list of filenames of the requested fileType. method getFile ( fileName ) </> Downloads a file from the Pixelblaze using the HTTP API. Parameters fileName (str) \u2014 The pathname (as returned from getFileList ) of the file to be downloaded. Returns (bytes) The contents of the file. method putFile ( fileName , fileContents ) </> Uploads a file to the Pixelblaze using the HTTP API. Parameters fileName (str) \u2014 The pathname at which to store the file. fileContents (bytes) \u2014 The data to store in the file. Returns (bool) True if the file was successfully stored; False otherwise. method deleteFile ( fileName ) </> Deletes a file from this Pixelblaze using the HTTP API. Parameters fileName (str) \u2014 The pathname (as returned from getFileList ) of the file to be deleted. Returns (bool) True if the file was successfully stored; False otherwise. method getStatistics ( ) </> Grab one of the statistical packets that Pixelblaze sends every second. Returns (dict) the JSON message received from the Pixelblaze. method setSendPreviewFrames ( doUpdates ) </> Set whether or not the Pixelblaze sends pattern preview frames. Parameters doUpdates (bool) \u2014 True sends preview frames, False stops. method getPreviewFrame ( ) </> Grab one of the preview frames that Pixelblaze sends after every render cycle. Returns (bytes) a collection of bytes representing pixelCount tuples containing the (R, G, B) values for each pixel in the pattern preview. method getFPS ( savedStatistics=None ) </> Return the speed (in Frames per Second) of the pattern rendering. Parameters savedStatistics (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns (int) The pattern speed in FPS, as reported in a Pixelblaze statistics message. method getUptime ( savedStatistics=None ) </> Return the uptime (in seconds) of the Pixelblaze. Parameters savedStatistics (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns (int) The uptime in seconds, as reported in a Pixelblaze statistics message. method getStorageUsed ( savedStatistics=None ) </> Return the amount of Flash storage used on the Pixelblaze. Parameters savedStatistics (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns (int) The used storage in bytes, as reported in a Pixelblaze statistics message. method getStorageSize ( savedStatistics=None ) </> Return the available Flash storage on the Pixelblaze. Parameters savedStatistics (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns (int) The available storage in bytes, as reported in a Pixelblaze statistics message. method setBrightnessSlider ( brightness , saveToFlash=False ) </> Set the value of the UI brightness slider. Parameters brightness (float) \u2014 A floating-point value between 0.0 and 1.0. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method getBrightnessSlider ( configSettings=None ) </> Get the value of the UI brightness slider. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (float) A floating-point value between 0.0 and 1.0. class sequencerModes ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntEnum int enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method setSequencerMode ( sequencerMode , saveToFlash=False ) </> Sets the sequencer mode to one of the available sequencerModes (Off, ShuffleAll, or Playlist). Parameters sequencerMode (enum) \u2014 The desired sequencer mode. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setSequencerState ( sequencerState , saveToFlash=False ) </> Set the run state of the sequencer. Parameters sequencerState (bool) \u2014 A boolean value determining whether or not the sequencer should run. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method getSequencerMode ( configSequencer=None ) </> Gets the current sequencer mode. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (sequencerModes) The sequencerMode. method getSequencerState ( configSequencer=None ) </> Gets the current sequencer run state. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (bool) True if the sequencer is running; False otherwise. method playSequencer ( saveToFlash=False ) </> Mimics the 'Play' button in the UI. Starts the pattern sequencer, the consequences of which will vary depending upon the sequencerMode. Parameters saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method pauseSequencer ( saveToFlash=False ) </> Mimics the 'Pause' button in the UI. Pauses the pattern sequencer, without changing the current position in the shuffle or playlist. Has no effect if the sequencer is not currently running. Parameters saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method nextSequencer ( saveToFlash=False ) </> Mimics the 'Next' button in the UI. If the sequencerMode is ShuffleAll or Playlist, advances the pattern sequencer to the next pattern. Parameters saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setSequencerShuffleTime ( nMillis , saveToFlash=False ) </> Sets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Parameters nMillis (int) \u2014 The number of milliseconds to play each pattern. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method getSequencerShuffleTime ( configSequencer=None ) </> Gets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (int) The number of milliseconds to play each pattern. method getSequencerPlaylist ( playlistId='_defaultplaylist_' ) </> Fetches the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Parameters playlistId (str, optional) \u2014 The name of the playlist (for future enhancement; currently only ' defaultplaylist ' is supported). Defaults to \" defaultplaylist \". Returns (dict) The contents of the playlist. method setSequencerPlaylist ( playlistContents , playlistId='_defaultplaylist_' ) </> Replaces the entire contents of the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Parameters playlistContents (dict) \u2014 The new playlist contents. playlistId (str, optional) \u2014 The name of the playlist (for future enhancement; currently only ' defaultplaylist ' is supported). Defaults to \" defaultplaylist \". method addToSequencerPlaylist ( playlistContents , patternId , duration ) </> Appends a new entry to the specified playlist. Parameters playlistContents (dict) \u2014 The results of a previous call to getSequencerPlaylist . patternId (str) \u2014 The patternId of the pattern to be played. duration (int) \u2014 The number of milliseconds to play the pattern. Returns (dict) The updated playlist, which can then be sent back to the Pixelblaze with setSequencerPlaylist . method getPatternList ( forceRefresh=False ) </> Returns a list of all the patterns saved on the Pixelblaze. Normally reads from the cached pattern list, which is refreshed every 10 minutes by default. To change the cache refresh interval, call setCacheRefreshTime(seconds). Parameters forceRefresh (bool, optional) \u2014 Forces a refresh of the cached patternList. Defaults to False. Returns (dict) A dictionary of the patterns stored on the Pixelblaze, where the patternId is the key and the patternName is the value. method setActivePattern ( patternId , saveToFlash=False ) </> Sets the active pattern. Parameters patternId (str) \u2014 The patternId of the desired pattern. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method getPatternAsEpe ( patternId ) </> Convert a stored pattern into an exportable, portable JSON format (which then needs to be saved by the caller). Parameters patternId (str) \u2014 The patternId of the desired pattern. Returns (str) The exported pattern as a JSON dictionary. method deletePattern ( patternId ) </> Delete a pattern saved on the Pixelblaze. Parameters patternId (str) \u2014 The patternId of the desired pattern. method getPreviewImage ( patternId ) </> Gets the preview image (a JPEG with 150 iterations of the pattern) saved within a pattern. Parameters patternId (str) \u2014 The patternId of the desired pattern. Returns (bytes) A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. method getActiveVariables ( ) </> Gets the names and values of all variables exported by the current pattern. Returns (dict) A dictionary containing all the variables exported by the active pattern, with variableName as the key and variableValue as the value. method setActiveVariables ( dictVariables ) </> Sets the values of one or more variables exported by the current pattern. Variables not present in the current pattern are ignored. Parameters dict \u2014 A dictionary containing the variables to be set, with variableName as the key and variableValue as the value. method setActiveControls ( dictControls , saveToFlash=False ) </> Sets the value of one or more UI controls exported from the active pattern. Parameters dictControls (dict) \u2014 A dictionary containing the values to be set, with controlName as the key and controlValue as the value. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method getActivePattern ( configSequencer=None ) </> Returns the ID of the pattern currently running on the Pixelblaze. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (str) The patternId of the current pattern, if any; otherwise an empty string. method getActiveControls ( configSequencer=None ) </> Returns the collection of controls for the pattern currently running on the Pixelblaze. If there are no controls or no pattern has been set, returns an empty dictionary. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (dict) A dictionary containing the control names and values, with controlName as the key and controlValue as the value. method getPatternControls ( patternId ) </> Returns the name and value of any UI controls exported by the specified pattern. Parameters patternId (str) \u2014 The patternId of the pattern. Returns (dict) A dictionary containing the control names and values, with controlName as the key and controlValue as the value. method getPatternSourceCode ( patternId ) </> Gets the sourceCode of a saved pattern from the Pixelblaze. Parameters patternId (str) \u2014 The patternId of the desired pattern. Returns (str) A string representation of a JSON dictionary containing the pattern source code. method sendPatternToRenderer ( bytecode , controls={} ) </> Sends a blob of bytecode and a JSON dictionary of UI controls to the Renderer. Mimics the actions of the webUI code editor. Parameters bytecode (bytes) \u2014 A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. controls (dict, optional) \u2014 a dictionary of UI controls exported by the pattern, with controlName as the key and controlValue as the value. Defaults to {}. method savePattern ( previewImage , sourceCode , byteCode ) </> Saves a new pattern to the Pixelblaze filesystem. Mimics the effects of the 'Save' button. If you don't know how to generate the previewImage and byteCode components, you don't want to do this. Parameters previewImage (bytes) \u2014 A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. sourceCode (str) \u2014 A string representation of a JSON dictionary containing the pattern source code. byteCode (bytes) \u2014 A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. method getMapFunction ( ) </> Returns the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Returns (str) The text of the mapFunction. method setMapFunction ( mapFunction ) </> Sets the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Note that this is does not change the mapData used by the Pixelblaze; the Mapper tab in the Pixelblaze UI compiles this text to produce binary mapData which is saved separately (see the setMapData function). Parameters mapFunction (str) \u2014 The text of the mapFunction. Returns (bool) True if the function text was successfully saved; otherwise False. method getMapData ( ) </> Gets the binary representation of the pixelMap entered on the 'Mapper' tab. Returns (bytes) The binary mapData as generated by the Mapper tab of the Pixelblaze webUI. method setMapData ( mapData , saveToFlash=True ) </> Sets the binary mapData used by the Pixelblaze. Parameters mapData (bytes) \u2014 a blob of binary mapData as generated by the Mapper tab of the Pixelblaze webUI. saveToFlash (bool, optional) \u2014 A boolean indicating whether the mapData should be saved to Flash. Defaults to True. method getConfigSettings ( ) </> Returns the configuration as defined on the Settings tab of the Pixelblaze. Returns (dict) A dictionary containing the configuration settings, with settingName as the key and settingValue as the value. method getConfigSequencer ( ) </> Retrieves the Sequencer state. Returns (dict) The sequencer configuration as a dictionary, with settingName as the key and settingValue as the value. method getConfigExpander ( ) </> Retrieves the OutputExpander configuration. Returns (dict) The OutputExpander configuration as a dictionary, with settingName as the key and settingValue as the value. method setDeviceName ( name ) </> Sets the device name of the Pixelblaze. Parameters name (str) \u2014 The human-readable name of the Pixelblaze. method setDiscovery ( enableDiscovery , timezoneName=None ) </> Sets whether this Pixelblaze announces its presence to (and gets a clocktime reference from) the Electromage Discovery Service. Parameters enableDiscovery (bool) \u2014 A boolean controlling whether or not this Pixelblaze announces itself to the Electromage Discovery Service. timezoneName (str, optional) \u2014 If present, a Unix tzstring specifying how to adjust the clocktime reference received from the Electromage Discovery Service. Defaults to None. method setTimezone ( timezoneName ) </> Sets the Pixelblaze's timezone, which specifies how to adjust the clocktime reference provided by the Electromage Discovery Service. To clear the timezone, pass an empty string. Parameters timezoneName (str) \u2014 A Unix tzstring specifying how to adjust the clocktime reference provided by the Electromage Discovery Service. method setAutoOffEnable ( boolValue , saveToFlash=False ) </> Enables or disables the Pixelblaze's auto-Off scheduler. Parameters boolValue (bool) \u2014 A boolean indicating whether the auto-Off scheduler should be used. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setAutoOffStart ( timeValue , saveToFlash=False ) </> Sets the time at which the Pixelblaze will turn off the pattern. Parameters timeValue (str) \u2014 A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setAutoOffEnd ( timeValue , saveToFlash=False ) </> Sets the time at which the Pixelblaze will turn on the pattern. Parameters timeValue (str) \u2014 A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method getDeviceName ( configSettings=None ) </> Returns the user-friendly name of the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) The user-friendly name of the Pixelblaze. method getDiscovery ( configSettings=None ) </> Returns a boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) A boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. method getTimezone ( configSettings=None ) </> Returns the timezone, if any, for the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) A standard Unix tzstring. method getAutoOffEnable ( configSettings=None ) </> Returns whether the auto-Off timer is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) A boolean indicating whether the auto-Off timer is enabled. method getAutoOffStart ( configSettings=None ) </> Returns the time, if any, at which the Pixelblaze will turn off the pattern when the auto-Off timer is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) A Unix time string in \"HH:MM\" format. method getAutoOffEnd ( configSettings=None ) </> Returns the time, if any, at which the Pixelblaze will turn on the pattern when the auto-Off timer is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) A Unix time string in \"HH:MM\" format. method setBrightnessLimit ( maxBrightness , saveToFlash=False ) </> Sets the Pixelblaze's global brightness limit. Parameters maxBrightness (int) \u2014 The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. class ledTypes ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntEnum int enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method setLedType ( ledType , dataSpeed=None , saveToFlash=False ) </> Defines the type of LEDs connected to the Pixelblaze. Parameters ledType (ledTypes) \u2014 The type of LEDs connected to the Pixelblaze. dataSpeed (int, optional) \u2014 If provided, sets a custom data speed for communication with the LEDs; otherwise the defaults from the webUI are used. Defaults to None. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setPixelCount ( nPixels , saveToFlash=False ) </> Sets the number of LEDs attached to the Pixelblaze. Note that changing the number of pixels does not recalculate the pixelMap. Parameters nPixels (int) \u2014 The number of pixels. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setDataSpeed ( speed , saveToFlash=False ) </> Sets custom data rate for communicating with the LEDs. CAUTION: For advanced users only. If you don't know exactly why you want to do this, DON'T DO IT. See discussion in this thread on the Pixelblaze forum: https://forum.electromage.com/t/timing-of-a-cheap-strand/739 Parameters speed (int) \u2014 The data rate for communicating with the LEDs. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. class colorOrders ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method setColorOrder ( colorOrder , saveToFlash=False ) </> Sets the color order for the LEDs connected to the Pixelblaze. Parameters colorOrder (colorOrders) \u2014 The ordering for the color data sent to the LEDs. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method getBrightnessLimit ( configSettings=None ) </> Returns the maximum brightness for the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (int) The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). method getLedType ( configSettings=None ) \u2192 Pixelblaze.ledTypes </> Returns the type of LEDs connected to the Pixelblaze. method getPixelCount ( configSettings=None ) </> Returns the number of LEDs connected to the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (int) The number of LEDs connected to the Pixelblaze. method getDataSpeed ( configSettings=None ) </> Returns the data speed of the LEDs connected to the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (int) The data speed for communicating with the LEDs. method getColorOrder ( configSettings=None ) </> Returns the color order of the LEDs connected to the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (colorOrders) The ordering for the color data sent to the LEDs. class cpuSpeeds ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method setCpuSpeed ( cpuSpeed ) </> Sets the CPU speed of the Pixelblaze. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the reboot function). Parameters cpuSpeed (cpuSpeeds) \u2014 The desired CPU speed. method setNetworkPowerSave ( disableWifi ) </> Enables or disables the WiFi connection on the Pixelblaze, which can significantly reduce power requirements for battery-powered installations. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the reboot function). Parameters disableWifi (bool) \u2014 A boolean indicating whether to disable Wifi. method getCpuSpeed ( configSettings=None ) </> Returns the CPU speed of the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (cpuSpeeds) An enumeration representing the CPU speed. method getNetworkPowerSave ( configSettings=None ) </> Returns whether the \"Network Power Saving\" mode is enabled (and WiFi is disabled). Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) Whether the \"Network Power Saving\" mode is enabled. class updateStates ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntEnum int enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method getUpdateState ( ) </> Returns the updateState of the Pixelblaze. Returns (updateStates) An enumeration describing the updateState of the Pixelblaze. method installUpdate ( ) </> Installs new Pixelblaze firmware, if the current updateState indicates that an update is available. Returns (updateStates) An enumeration describing the new updateState of the Pixelblaze. method getVersion ( ) </> Returns the firmware version of the Pixelblaze. Returns (float) The firmware version, in major.minor format. method getVersionMajor ( ) </> Returns the major version number. Returns (int) A positive integer representing the integer portion of the version number (eg. for v3.24, returns 3). method getVersionMinor ( ) </> Returns the minor version number. Returns (int) A positive integer representing the fractional portion of the version number (eg. for v3.24, returns 24). method saveBackup ( fileName ) </> Saves the contents of this Pixelblaze into a Pixelblaze Binary Backup file. Parameters fileName (str) \u2014 The desired filename for the Pixelblaze Binary Backup. method restoreFromBackup ( fileName ) </> Restores the contents of this Pixelblaze from a Pixelblaze Binary Backup file. Parameters fileName (str) \u2014 The desired filename for the Pixelblaze Binary Backup. method reboot ( ) </> Reboots the Pixelblaze. This is occasionally necessary, eg. to force the Pixelblaze to recognize changes to configuration files. method setBrandName ( brandName ) </> Sets the brand name of the Pixelblaze (used by VARs to change the brand name that appears on the webUI). Parameters brandName (str) \u2014 The new name. method setSimpleUiMode ( doSimpleMode ) </> Enables or disables \"Simple UI Mode\" which makes the UI more suitable for non-technical audiences. Parameters doSimpleMode (bool) \u2014 Whether to enable \"Simple UI Mode\". method setLearningUiMode ( doLearningMode ) </> Enables or disables \"Learning UI Mode\" which has additional UI help for new users. Parameters doSimpleMode (bool) \u2014 Whether to enable \"Learning UI Mode\". method getBrandName ( configSettings=None ) </> Returns the brand name, if any, of this Pixelblaze (blank unless rebadged by a reseller). Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) The brand name. method getSimpleUiMode ( configSettings=None ) </> Returns whether \"Simple UI Mode\" is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) A boolean indicating whether \"Simple UI Mode\" is enabled. method getLearningUiMode ( configSettings=None ) </> Returns whether \"Learning UI Mode\" is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) A boolean indicating whether \"Learning UI Mode\" is enabled. class deprecationReasons ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntEnum int enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method pauseRenderer ( doPause ) </> Pause rendering. Lasts until unpause() is called or the Pixelblaze is reset. CAUTION: For advanced users only. Only used to stop the render engine before sending new bytecode. If you don't know exactly why you want to do this, DON'T DO IT. Parameters doPause (bool) \u2014 If True, pause the render engine; if False, resume it. method setActivePatternByName ( patternName , saveToFlash=False ) </> Sets the currently running pattern using a text name. Parameters patternName (str) \u2014 The name of the pattern. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method controlExists ( controlName , patternId=None ) </> Tests whether the named control exists in the specified pattern. If no pattern is specified, the currently active pattern is assumed. Note that the active pattern can be undefined on a freshly started Pixelblaze until the pattern has been explicitly set. This function also will return False if the active pattern is not available. Parameters controlName (str) \u2014 The name of the control. patternId (str, optional) \u2014 The pattern in which to test for the presence of the control. Defaults to None. Returns (bool) True if the specified control exists, False otherwise. method getColorControlNames ( patternId=None ) \u2192 list </> Returns a list of names of the specified pattern's rgbPicker or hsvPicker controls if any exist, None otherwise. If the pattern argument is not specified, check the currently running pattern method getColorControlName ( patternId=None ) </> Returns the name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. Parameters patternId (str, optional) \u2014 The pattern to search for color controls; or the currently active pattern if not specified. Defaults to None. Returns (str) The name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. method setColorControl ( controlName , color , saveToFlash=False ) </> Sets the 3-element color of the specified HSV or RGB color picker. Parameters controlName (str) \u2014 The name of the color control to change. color (dict) \u2014 A dictionary of RGB or HSV colors, with all values in the range 0-1. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method setCacheRefreshTime ( seconds ) </> Set the interval, in seconds, after which calls to getPatternList() clear the pattern cache and fetch a new pattern list from the Pixelblaze. The Default is 600 seconds (10 minutes); the maximum allowable value is clamped to a million seconds (about 277 hours, or 11.5 days). Anything else would be excessive. Parameters seconds (int) \u2014 The maximum age of the pattern cache. class pixelblaze. PBB ( name , blob ) </> This class provides methods for importing, exporting, and manipulating the contents of a Pixelblaze Binary Backup, as created from the Settings menu on a Pixelblaze. CREATION - fromFile() - fromIpAddress() - fromPixelblaze() PROPERTIES - deviceName() - getFileList() MANIPULATION - getFile() / putFile() / deleteFile() PERSISTENCE - toFile() - toIpAddress() - toPixelblaze() Attributes deviceName \u2014 Gets the user-friendly name of the device from which this PixelBlazeBackup was made. </> Note The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. Classes fileTypes \u2014 A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files. </> Methods deleteFile ( fileName ) \u2014 Removes a particular file from this PixelBlazeBackup. </> fromFile ( fileName ) (PBB) \u2014 Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a file on disk. </> fromIpAddress ( ipAddress , proxyUrl , verbose ) (PBB) \u2014 Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a Pixelblaze specified by IP address. </> fromPixelblaze ( pb , verbose ) (PBB) \u2014 Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from an existing Pixelblaze object. </> getFile ( fileName ) (bytes) \u2014 Returns the contents of a particular file contained in this PixelBlazeBackup. </> getFileList ( fileTypes ) (list[str]) \u2014 Returns a sorted list of the files contained in this PixelBlazeBackup. </> putFile ( fileName , fileContents ) \u2014 Inserts or replaces the contents of a particular file into this PixelBlazeBackup. </> toFile ( fileName , explode ) \u2014 Writes this Pixelblaze Binary Backup to a file on disk. </> toIpAddress ( ipAddress , proxyUrl , verbose ) \u2014 Restores the contents of this PixelBlazeBackup to a Pixelblaze identified by IP Address. </> toPixelblaze ( pb , verbose ) \u2014 Uploads the contents of this PixelBlazeBackup to the destination Pixelblaze. </> staticmethod fromFile ( fileName ) </> Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a file on disk. Parameters fileName (str) \u2014 The filename of the Pixelblaze Binary Backup. Returns (PBB) A new Pixelblaze Binary Backup object. staticmethod fromIpAddress ( ipAddress , proxyUrl=None , verbose=False ) </> Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a Pixelblaze specified by IP address. Parameters ipAddress (str) \u2014 The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional) \u2014 A boolean specifying whether to print detailed progress statements. Defaults to False. Returns (PBB) A new Pixelblaze Binary Backup object. staticmethod fromPixelblaze ( pb , verbose=False ) </> Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from an existing Pixelblaze object. Parameters pb (Pixelblaze) \u2014 A Pixelblaze object. verbose (bool, optional) \u2014 A boolean specifying whether to print detailed progress statements. Defaults to False. Returns (PBB) A new Pixelblaze Binary Backup object. class fileTypes ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntFlag int enum.Flag enum.Enum A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method getFileList ( fileTypes=<fileTypes.fileAll: 63> ) </> Returns a sorted list of the files contained in this PixelBlazeBackup. Parameters fileTypes (fileTypes, optional) \u2014 An bitwise enumeration indicating the types of files to list. Defaults to fileTypes.fileAll. Returns (list[str]) A list of filenames. method getFile ( fileName ) </> Returns the contents of a particular file contained in this PixelBlazeBackup. Parameters fileName (str) \u2014 The name of the file to be returned. Returns (bytes) The contents of the requested file. method putFile ( fileName , fileContents ) </> Inserts or replaces the contents of a particular file into this PixelBlazeBackup. Parameters fileName (str) \u2014 The name of the file to be stored. fileContents (bytes) \u2014 The contents of the file to be stored. method deleteFile ( fileName ) </> Removes a particular file from this PixelBlazeBackup. Parameters fileName (str) \u2014 The name of the file to be deleted. method toFile ( fileName=None , explode=False ) </> Writes this Pixelblaze Binary Backup to a file on disk. Parameters fileName (str, optional) \u2014 If specified, the filename of the Pixelblaze Binary Backup to be created; otherwise the originating Pixelblaze name is used. Defaults to None. explode (bool, optional) \u2014 If specified, also exports the files within the Pixelblaze Binary Backup to a subdirectory. Defaults to False. method toIpAddress ( ipAddress , proxyUrl=None , verbose=False ) </> Restores the contents of this PixelBlazeBackup to a Pixelblaze identified by IP Address. Parameters ipAddress (str) \u2014 The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\").. proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional) \u2014 A boolean specifying whether to print detailed progress statements. Defaults to False. method toPixelblaze ( pb , verbose=False ) </> Uploads the contents of this PixelBlazeBackup to the destination Pixelblaze. Parameters pb (Pixelblaze) \u2014 A Pixelblaze object. verbose (bool, optional) \u2014 A boolean specifying whether to print detailed progress statements. Defaults to False. class pixelblaze. PBP ( id , blob ) </> This class represents a Pixelblaze Binary Pattern, as stored on the Pixelblaze filesystem or contained in a Pixelblaze Binary Backup. CREATION - fromBytes() - fromFile() - fromIpAddress() - fromPixelblaze() PROPERTIES - id() - name() - jpeg() - byteCode() - sourceCode() PERSISTENCE - toFile() - toIpAddress() - toPixelblaze() - toEPE() - explode() Attributes byteCode \u2014 Returns (as a collection of bytes) the bytecode of the pattern contained in this Pixelblaze Binary Pattern (PBP). </> id \u2014 Returns the patternId of the pattern contained in this Pixelblaze Binary Pattern (PBP). </> jpeg \u2014 Returns (as a collection of bytes) the preview JPEG of the pattern contained in this Pixelblaze Binary Pattern (PBP). </> name \u2014 Returns the (human-readable) name of the pattern contained in this Pixelblaze Binary Pattern (PBP). </> sourceCode \u2014 Returns the source code of the pattern in this Pixelblaze Binary Pattern (PBP). </> Note The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. Methods explode ( path ) \u2014 Exports all the components of this Pixelblaze Binary Pattern (PBP) as separate files. </> fromBytes ( patternId , blob ) (PBP) \u2014 Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are initialized from a bytes array. </> fromFile ( fileName ) (PBP) \u2014 Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are loaded from a file on disk. </> fromIpAddress ( ipAddress , patternId , proxyUrl ) (PBP) \u2014 Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from a URL. </> fromPixelblaze ( pb , patternId ) (PBP) \u2014 Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from an active Pixelblaze object. </> toEPE ( ) (EPE) \u2014 Creates a new Electromage Pattern Export (EPE) and initializes it from the contents of this Pixelblaze Binary Pattern (PBP). </> toFile ( fileName ) \u2014 Saves this Pixelblaze Binary Pattern (PBP) to a file on disk. </> toIpAddress ( ipAddress , proxyUrl ) \u2014 Uploads this Pixelblaze Binary Pattern (PBP) to a Pixelblaze identified by its IP address. </> toPixelblaze ( pb ) \u2014 Uploads this Pixelblaze Binary Pattern (PBP) to an active Pixelblaze object. </> staticmethod fromBytes ( patternId , blob ) </> Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are initialized from a bytes array. Parameters patternId (str) \u2014 A patternId for the Pixelblaze Binary Pattern to be created. blob (bytes) \u2014 The binary contents of the Pixelblaze Binary Pattern to be created. Returns (PBP) A new Pixelblaze Binary Pattern object. staticmethod fromFile ( fileName ) </> Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are loaded from a file on disk. Parameters fileName (str) \u2014 The name of the file to be loaded into a Pixelblaze Binary Pattern. Returns (PBP) A new Pixelblaze Binary Pattern object. staticmethod fromIpAddress ( ipAddress , patternId , proxyUrl=None ) </> Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from a URL. Parameters ipAddress (str) \u2014 The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). patternId (str) \u2014 The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns (PBP) A new Pixelblaze Binary Pattern object. staticmethod fromPixelblaze ( pb , patternId ) </> Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from an active Pixelblaze object. Parameters pb (Pixelblaze) \u2014 An active Pixelblaze object. patternId (str) \u2014 The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. Returns (PBP) A new Pixelblaze Binary Pattern object. method toFile ( fileName=None ) </> Saves this Pixelblaze Binary Pattern (PBP) to a file on disk. Parameters fileName (str, optional) \u2014 If provided, A name for the Pixelblaze Binary Pattern file to be created; otherwise, the name is derived from the patternId. Defaults to None. method toIpAddress ( ipAddress , proxyUrl=None ) </> Uploads this Pixelblaze Binary Pattern (PBP) to a Pixelblaze identified by its IP address. Parameters ipAddress (str) \u2014 The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. method toPixelblaze ( pb ) </> Uploads this Pixelblaze Binary Pattern (PBP) to an active Pixelblaze object. Parameters pb (Pixelblaze) \u2014 An active Pixelblaze object. method toEPE ( ) </> Creates a new Electromage Pattern Export (EPE) and initializes it from the contents of this Pixelblaze Binary Pattern (PBP). Returns (EPE) A new Electromage Pattern Export object. method explode ( path=None ) </> Exports all the components of this Pixelblaze Binary Pattern (PBP) as separate files. Parameters path (str, optional) \u2014 If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None. class pixelblaze. EPE ( blob ) </> This class provides methods for importing, exporting, and manipulating the contents of an Electromage Pattern Export (EPE), as exported from the Patterns list on a Pixelblaze. CREATION - fromBytes() - fromFile() PROPERTIES - patternId() - patternName() - sourceCode() - previewImage() PERSISTENCE - toFile() - explode() Attributes patternId \u2014 Returns the patternId of the pattern contained in this Electromage Pattern Export (EPE). </> patternName \u2014 Returns the human-readable name of the pattern in this Electromage Pattern Export (EPE). </> previewImage \u2014 Returns (as bytes) the preview JPEG of the pattern contained in this Electromage Pattern Export (EPE). </> sourceCode \u2014 Returns the source code of the pattern contained in this Electromage Pattern Export (EPE). </> Note The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. Methods explode ( path ) \u2014 Exports the components of this Electromage Pattern Export (EPE) to separate files. </> fromBytes ( blob ) (EPE) \u2014 Creates and returns a new Electromage Pattern Export (EPE) whose contents are loaded from a bytes array. </> fromFile ( fileName ) (EPE) \u2014 Creates and returns a new portable pattern EPE whose contents are loaded from a file on disk. </> toFile ( fileName ) \u2014 Saves this Electromage Pattern Export (EPE) to a file on disk. </> staticmethod fromBytes ( blob ) </> Creates and returns a new Electromage Pattern Export (EPE) whose contents are loaded from a bytes array. Parameters blob (bytes) \u2014 The data from which to create the Electromage Pattern Export (EPE). Returns (EPE) A new Electromage Pattern Export (EPE) object. staticmethod fromFile ( fileName ) </> Creates and returns a new portable pattern EPE whose contents are loaded from a file on disk. Parameters fileName (str) \u2014 The name of the file from which to create the Electromage Pattern Export (EPE). Returns (EPE) A new Electromage Pattern Export (EPE) object. method toFile ( fileName=None ) </> Saves this Electromage Pattern Export (EPE) to a file on disk. Parameters fileName (str, optional) \u2014 If provided, a name for the file to be created; otherwise derived from the patternId. Defaults to None. method explode ( path ) </> Exports the components of this Electromage Pattern Export (EPE) to separate files. Parameters path (str) \u2014 If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None. class pixelblaze. PixelblazeEnumerator ( hostIP='0.0.0.0' ) </> Listens on a network to detect available Pixelblazes, which the user can then list or open as Pixelblaze objects. Also provides time synchronization services for running synchronized patterns on a network of Pixelblazes. Methods disableTimesync ( ) \u2014 Turns off the time synchronization -- the PixelblazeEnumerator will not automatically synchronize Pixelblazes. </> enableTimesync ( ) \u2014 Instructs the PixelblazeEnumerator object to automatically synchronize time on all Pixelblazes. (Note that time synchronization is off by default when a new PixelblazeEnumerator is created.) </> setDeviceTimeout ( ms ) \u2014 Sets the interval in milliseconds which the enumerator will wait without hearing from a device before removing it from the active devices list. </> start ( hostIP ) \u2014 Open socket for listening to Pixelblaze datagram traffic, set appropriate options and bind to specified interface and start listener thread. </> stop ( ) \u2014 Stop listening for datagrams, terminate listener thread and close socket. </> method setDeviceTimeout ( ms ) </> Sets the interval in milliseconds which the enumerator will wait without hearing from a device before removing it from the active devices list. The default timeout is 30000 (30 seconds). method enableTimesync ( ) </> Instructs the PixelblazeEnumerator object to automatically synchronize time on all Pixelblazes. (Note that time synchronization is off by default when a new PixelblazeEnumerator is created.) method disableTimesync ( ) </> Turns off the time synchronization -- the PixelblazeEnumerator will not automatically synchronize Pixelblazes. method start ( hostIP ) </> Open socket for listening to Pixelblaze datagram traffic, set appropriate options and bind to specified interface and start listener thread. method stop ( ) </> Stop listening for datagrams, terminate listener thread and close socket.","title":"pixelblaze"},{"location":"api/pixelblaze/#pixelblaze","text":"</> A library that provides a simple, synchronous interface for communicating with and controlling Pixelblaze LED controllers. This module contains the following classes: Pixelblaze : an object for controlling Pixelblazes. PBB : an object for creating and manipulating Pixelblaze Binary Backups. PBP : an object for creating and manipulating Pixelblaze Binary Patterns. EPE : an object for creating and manipulating Electromage Pattern Exports. Classes Pixelblaze \u2014 The Pixelblaze class presents a simple synchronous interface to a single Pixelblaze's websocket API. </> PBB \u2014 This class provides methods for importing, exporting, and manipulating the contents of a Pixelblaze Binary Backup, as created from the Settings menu on a Pixelblaze. </> PBP \u2014 This class represents a Pixelblaze Binary Pattern, as stored on the Pixelblaze filesystem or contained in a Pixelblaze Binary Backup. </> EPE \u2014 This class provides methods for importing, exporting, and manipulating the contents of an Electromage Pattern Export (EPE), as exported from the Patterns list on a Pixelblaze. </> PixelblazeEnumerator \u2014 Listens on a network to detect available Pixelblazes, which the user can then list or open as Pixelblaze objects. Also provides time synchronization services for running synchronized patterns on a network of Pixelblazes. </> class","title":"pixelblaze"},{"location":"api/pixelblaze/#pixelblazepixelblaze","text":"</> The Pixelblaze class presents a simple synchronous interface to a single Pixelblaze's websocket API. The constructor takes the Pixelblaze's IPv4 address in the usual 12 digit numeric form (for example, \"192.168.4.1\"). To control multiple Pixelblazes, create multiple objects. The objective is to provide 99% coverage of the functionality of the Pixelblaze webUI, and so the supported methods are named and grouped according to the tabs of the webUI: CREATION __init__() EnumerateAddresses() EnumerateDevices() PATTERNS tab SEQUENCER section getSequencerMode / setSequencerMode getSequencerState / setSequencerState getSequencerShuffleTime / setSequencerShuffleTime getSequencerPlaylist / addToSequencerPlaylist / setSequencerPlaylist SAVED PATTERNS section getPatternList getActivePattern / setActivePattern getActiveVariables / setActiveVariables getActiveControls / setActiveControls deletePattern getPatternAsEpe EDIT tab getPatternControls getPatternSourceCode sendPatternToRenderer savePattern MAPPER tab getMapFunction / setMapFunction getMapData / setMapData SETTINGS tab getConfigSettings getConfigSequencer getConfigExpander NAME section getDeviceName / setDeviceName getDiscovery / setDiscovery getTimezone / setTimezone getAutoOffEnable / setAutoOffEnable getAutoOffStart / setAutoOffStart getAutoOffEnd / setAutoOffEnd LED section getBrightnessLimit / setBrightnessLimit getLedType / setLedType getPixelCount / setPixelCount getDataSpeed / setDataSpeed getColorOrder / setColorOrder getCpuSpeed / setCpuSpeed getNetworkPowerSave / setNetworkPowerSave UPDATES section getUpdateState / installUpdate getVersion / getVersionMajor / getVersionMinor / BACKUPS section saveBackup / restoreFromBackup reboot ADVANCED tab getBrandName / setBrandName getSimpleUiMode / setSimpleUiMode getLearningUiMode / setLearningUiMode GLOBAL CONTROLS getBrightnessSlider / setBrightnessSlider LOW-LEVEL SEND/RECEIVE wsReceive wsSendJson wsSendBinary FILESYSTEM getFileList getFile / putFile / deleteFile STATISTICS getStatistics getFPS getUptime getStorageSize getStorageUsed Classes LightweightEnumerator \u2014 Internal implementation class for the EnumerateAddresses and EnumerateDevices methods. </> messageTypes \u2014 Types of binary messages sent and received by a Pixelblaze. The first byte of a binary frame contains the message type. </> frameTypes \u2014 Continuation flags for messages sent and received by a Pixelblaze. The second byte of a binary frame tells whether this packet is part of a set. </> fileTypes \u2014 A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files. </> sequencerModes \u2014 An enumeration. </> ledTypes \u2014 An enumeration. </> colorOrders \u2014 An enumeration. </> cpuSpeeds \u2014 An enumeration. </> updateStates \u2014 An enumeration. </> deprecationReasons \u2014 An enumeration. </> Methods EnumerateAddresses ( timeout , proxyUrl , hostIP ) (LightweightEnumerator) \u2014 Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. </> EnumerateDevices ( timeout , proxyUrl , hostIP ) (LightweightEnumerator) \u2014 Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. </> __enter__ ( ) (Pixelblaze) \u2014 Internal class method for resource management. </> __exit__ ( exc_type , exc_value , traceback ) \u2014 Internal class method for resource management. </> addToSequencerPlaylist ( playlistContents , patternId , duration ) (dict) \u2014 Appends a new entry to the specified playlist. </> controlExists ( controlName , patternId ) (bool) \u2014 Tests whether the named control exists in the specified pattern. If no pattern is specified, the currently active pattern is assumed. </> deleteFile ( fileName ) (bool) \u2014 Deletes a file from this Pixelblaze using the HTTP API. </> deletePattern ( patternId ) \u2014 Delete a pattern saved on the Pixelblaze. </> getActiveControls ( configSequencer ) (dict) \u2014 Returns the collection of controls for the pattern currently running on the Pixelblaze. </> getActivePattern ( configSequencer ) (str) \u2014 Returns the ID of the pattern currently running on the Pixelblaze. </> getActiveVariables ( ) (dict) \u2014 Gets the names and values of all variables exported by the current pattern. </> getAutoOffEnable ( configSettings ) (bool) \u2014 Returns whether the auto-Off timer is enabled. </> getAutoOffEnd ( configSettings ) (str) \u2014 Returns the time, if any, at which the Pixelblaze will turn on the pattern when the auto-Off timer is enabled. </> getAutoOffStart ( configSettings ) (str) \u2014 Returns the time, if any, at which the Pixelblaze will turn off the pattern when the auto-Off timer is enabled. </> getBrandName ( configSettings ) (str) \u2014 Returns the brand name, if any, of this Pixelblaze (blank unless rebadged by a reseller). </> getBrightnessLimit ( configSettings ) (int) \u2014 Returns the maximum brightness for the Pixelblaze. </> getBrightnessSlider ( configSettings ) (float) \u2014 Get the value of the UI brightness slider. </> getColorControlName ( patternId ) (str) \u2014 Returns the name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. </> getColorControlNames ( patternId ) (list) \u2014 Returns a list of names of the specified pattern's rgbPicker or hsvPicker controls if any exist, None otherwise. If the pattern argument is not specified, check the currently running pattern </> getColorOrder ( configSettings ) (colorOrders) \u2014 Returns the color order of the LEDs connected to the Pixelblaze. </> getConfigExpander ( ) (dict) \u2014 Retrieves the OutputExpander configuration. </> getConfigSequencer ( ) (dict) \u2014 Retrieves the Sequencer state. </> getConfigSettings ( ) (dict) \u2014 Returns the configuration as defined on the Settings tab of the Pixelblaze. </> getCpuSpeed ( configSettings ) (cpuSpeeds) \u2014 Returns the CPU speed of the Pixelblaze. </> getDataSpeed ( configSettings ) (int) \u2014 Returns the data speed of the LEDs connected to the Pixelblaze. </> getDeviceName ( configSettings ) (str) \u2014 Returns the user-friendly name of the Pixelblaze. </> getDiscovery ( configSettings ) (bool) \u2014 Returns a boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. </> getFPS ( savedStatistics ) (int) \u2014 Return the speed (in Frames per Second) of the pattern rendering. </> getFile ( fileName ) (bytes) \u2014 Downloads a file from the Pixelblaze using the HTTP API. </> getFileList ( fileTypes ) (list[str]) \u2014 Returns a list of all the files of a particular type stored on the Pixelblaze's filesystem. </> getLearningUiMode ( configSettings ) (bool) \u2014 Returns whether \"Learning UI Mode\" is enabled. </> getLedType ( configSettings ) ( Pixelblaze.ledTypes ) \u2014 Returns the type of LEDs connected to the Pixelblaze. </> getMapData ( ) (bytes) \u2014 Gets the binary representation of the pixelMap entered on the 'Mapper' tab. </> getMapFunction ( ) (str) \u2014 Returns the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. </> getNetworkPowerSave ( configSettings ) (bool) \u2014 Returns whether the \"Network Power Saving\" mode is enabled (and WiFi is disabled). </> getPatternAsEpe ( patternId ) (str) \u2014 Convert a stored pattern into an exportable, portable JSON format (which then needs to be saved by the caller). </> getPatternControls ( patternId ) (dict) \u2014 Returns the name and value of any UI controls exported by the specified pattern. </> getPatternList ( forceRefresh ) (dict) \u2014 Returns a list of all the patterns saved on the Pixelblaze. </> getPatternSourceCode ( patternId ) (str) \u2014 Gets the sourceCode of a saved pattern from the Pixelblaze. </> getPeers ( ) (TBD) \u2014 A new command, added to the API but not yet implemented as of v2.29/v3.24, that will return a list of all the Pixelblazes visible on the local network segment. </> getPixelCount ( configSettings ) (int) \u2014 Returns the number of LEDs connected to the Pixelblaze. </> getPreviewFrame ( ) (bytes) \u2014 Grab one of the preview frames that Pixelblaze sends after every render cycle. </> getPreviewImage ( patternId ) (bytes) \u2014 Gets the preview image (a JPEG with 150 iterations of the pattern) saved within a pattern. </> getSequencerMode ( configSequencer ) (sequencerModes) \u2014 Gets the current sequencer mode. </> getSequencerPlaylist ( playlistId ) (dict) \u2014 Fetches the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. </> getSequencerShuffleTime ( configSequencer ) (int) \u2014 Gets the time the Pixelblaze's sequencer will run each pattern before switching to the next. </> getSequencerState ( configSequencer ) (bool) \u2014 Gets the current sequencer run state. </> getSimpleUiMode ( configSettings ) (bool) \u2014 Returns whether \"Simple UI Mode\" is enabled. </> getStatistics ( ) (dict) \u2014 Grab one of the statistical packets that Pixelblaze sends every second. </> getStorageSize ( savedStatistics ) (int) \u2014 Return the available Flash storage on the Pixelblaze. </> getStorageUsed ( savedStatistics ) (int) \u2014 Return the amount of Flash storage used on the Pixelblaze. </> getTimezone ( configSettings ) (str) \u2014 Returns the timezone, if any, for the Pixelblaze. </> getUpdateState ( ) (updateStates) \u2014 Returns the updateState of the Pixelblaze. </> getUptime ( savedStatistics ) (int) \u2014 Return the uptime (in seconds) of the Pixelblaze. </> getUrl ( endpoint ) (str) \u2014 Build the URL to communicate with the Pixelblaze using an HTTP endpoint. </> getVersion ( ) (float) \u2014 Returns the firmware version of the Pixelblaze. </> getVersionMajor ( ) (int) \u2014 Returns the major version number. </> getVersionMinor ( ) (int) \u2014 Returns the minor version number. </> installUpdate ( ) (updateStates) \u2014 Installs new Pixelblaze firmware, if the current updateState indicates that an update is available. </> nextSequencer ( saveToFlash ) \u2014 Mimics the 'Next' button in the UI. If the sequencerMode is ShuffleAll or Playlist, advances the pattern sequencer to the next pattern. </> pauseRenderer ( doPause ) \u2014 Pause rendering. Lasts until unpause() is called or the Pixelblaze is reset. </> pauseSequencer ( saveToFlash ) \u2014 Mimics the 'Pause' button in the UI. Pauses the pattern sequencer, without changing the current position in the shuffle or playlist. Has no effect if the sequencer is not currently running. </> playSequencer ( saveToFlash ) \u2014 Mimics the 'Play' button in the UI. Starts the pattern sequencer, the consequences of which will vary depending upon the sequencerMode. </> putFile ( fileName , fileContents ) (bool) \u2014 Uploads a file to the Pixelblaze using the HTTP API. </> reboot ( ) \u2014 Reboots the Pixelblaze. </> restoreFromBackup ( fileName ) \u2014 Restores the contents of this Pixelblaze from a Pixelblaze Binary Backup file. </> saveBackup ( fileName ) \u2014 Saves the contents of this Pixelblaze into a Pixelblaze Binary Backup file. </> savePattern ( previewImage , sourceCode , byteCode ) \u2014 Saves a new pattern to the Pixelblaze filesystem. Mimics the effects of the 'Save' button. </> sendPatternToRenderer ( bytecode , controls ) \u2014 Sends a blob of bytecode and a JSON dictionary of UI controls to the Renderer. Mimics the actions of the webUI code editor. </> sendPing ( ) (Union[str, None]) \u2014 Send a Ping message to the Pixelblaze and wait for the Acknowledgement response. </> setActiveControls ( dictControls , saveToFlash ) \u2014 Sets the value of one or more UI controls exported from the active pattern. </> setActivePattern ( patternId , saveToFlash ) \u2014 Sets the active pattern. </> setActivePatternByName ( patternName , saveToFlash ) \u2014 Sets the currently running pattern using a text name. </> setActiveVariables ( dictVariables ) \u2014 Sets the values of one or more variables exported by the current pattern. </> setAutoOffEnable ( boolValue , saveToFlash ) \u2014 Enables or disables the Pixelblaze's auto-Off scheduler. </> setAutoOffEnd ( timeValue , saveToFlash ) \u2014 Sets the time at which the Pixelblaze will turn on the pattern. </> setAutoOffStart ( timeValue , saveToFlash ) \u2014 Sets the time at which the Pixelblaze will turn off the pattern. </> setBrandName ( brandName ) \u2014 Sets the brand name of the Pixelblaze (used by VARs to change the brand name that appears on the webUI). </> setBrightnessLimit ( maxBrightness , saveToFlash ) \u2014 Sets the Pixelblaze's global brightness limit. </> setBrightnessSlider ( brightness , saveToFlash ) \u2014 Set the value of the UI brightness slider. </> setCacheRefreshTime ( seconds ) \u2014 Set the interval, in seconds, after which calls to getPatternList() clear the pattern cache and fetch a new pattern list from the Pixelblaze. </> setColorControl ( controlName , color , saveToFlash ) \u2014 Sets the 3-element color of the specified HSV or RGB color picker. </> setColorOrder ( colorOrder , saveToFlash ) \u2014 Sets the color order for the LEDs connected to the Pixelblaze. </> setCpuSpeed ( cpuSpeed ) \u2014 Sets the CPU speed of the Pixelblaze. </> setDataSpeed ( speed , saveToFlash ) \u2014 Sets custom data rate for communicating with the LEDs. </> setDeviceName ( name ) \u2014 Sets the device name of the Pixelblaze. </> setDiscovery ( enableDiscovery , timezoneName ) \u2014 Sets whether this Pixelblaze announces its presence to (and gets a clocktime reference from) the Electromage Discovery Service. </> setLearningUiMode ( doLearningMode ) \u2014 Enables or disables \"Learning UI Mode\" which has additional UI help for new users. </> setLedType ( ledType , dataSpeed , saveToFlash ) \u2014 Defines the type of LEDs connected to the Pixelblaze. </> setMapData ( mapData , saveToFlash ) \u2014 Sets the binary mapData used by the Pixelblaze. </> setMapFunction ( mapFunction ) (bool) \u2014 Sets the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. </> setNetworkPowerSave ( disableWifi ) \u2014 Enables or disables the WiFi connection on the Pixelblaze, which can significantly reduce power requirements for battery-powered installations. </> setPixelCount ( nPixels , saveToFlash ) \u2014 Sets the number of LEDs attached to the Pixelblaze. </> setSendPreviewFrames ( doUpdates ) \u2014 Set whether or not the Pixelblaze sends pattern preview frames. </> setSequencerMode ( sequencerMode , saveToFlash ) \u2014 Sets the sequencer mode to one of the available sequencerModes (Off, ShuffleAll, or Playlist). </> setSequencerPlaylist ( playlistContents , playlistId ) \u2014 Replaces the entire contents of the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. </> setSequencerShuffleTime ( nMillis , saveToFlash ) \u2014 Sets the time the Pixelblaze's sequencer will run each pattern before switching to the next. </> setSequencerState ( sequencerState , saveToFlash ) \u2014 Set the run state of the sequencer. </> setSimpleUiMode ( doSimpleMode ) \u2014 Enables or disables \"Simple UI Mode\" which makes the UI more suitable for non-technical audiences. </> setTimezone ( timezoneName ) \u2014 Sets the Pixelblaze's timezone, which specifies how to adjust the clocktime reference provided by the Electromage Discovery Service. </> wsReceive ( binaryMessageType ) (Union[str, bytes, None]) \u2014 Wait for a message of a particular type from the Pixelblaze. </> wsSendBinary ( binaryMessageType , blob , expectedResponse ) (response) \u2014 Send a binary command to the Pixelblaze, and optionally wait for a suitable response. </> wsSendJson ( command , expectedResponse ) (Union[str, bytes, None]) \u2014 Send a JSON-formatted command to the Pixelblaze, and optionally wait for a suitable response. </> method","title":"pixelblaze.Pixelblaze"},{"location":"api/pixelblaze/#pixelblazepixelblazeenter","text":"</> Internal class method for resource management. Returns (Pixelblaze) This object. method","title":"pixelblaze.Pixelblaze.enter"},{"location":"api/pixelblaze/#pixelblazepixelblazeexit","text":"</> Internal class method for resource management. Parameters exc_type (_type_) \u2014 As per Python standard. exc_value (_type_) \u2014 As per Python standard. traceback (_type_) \u2014 As per Python standard. class","title":"pixelblaze.Pixelblaze.exit"},{"location":"api/pixelblaze/#pixelblazepixelblazelightweightenumerator","text":"</> Internal implementation class for the EnumerateAddresses and EnumerateDevices methods. Classes EnumeratorTypes \u2014 Enumerator to specify the desired LightweightEnumerator type. </> Methods __del__ ( ) \u2014 Stop listening for datagrams, terminate listener thread and close socket. </> __next__ ( ) \u2014 Return the next Pixelblaze found, until the timeout expires. </> class EnumeratorTypes ( value , names=None , module=None , qualname=None , type=None , start=1 ) </> Bases enum.IntEnum int enum.Enum Enumerator to specify the desired LightweightEnumerator type. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method __del__ ( ) </> Stop listening for datagrams, terminate listener thread and close socket. method __next__ ( ) </> Return the next Pixelblaze found, until the timeout expires. staticmethod","title":"pixelblaze.Pixelblaze.LightweightEnumerator"},{"location":"api/pixelblaze/#pixelblazepixelblazeenumerateaddresses","text":"</> Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Parameters timeout (int, optional) \u2014 The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. hostIP (str, optional) \u2014 The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. Returns (LightweightEnumerator) A subclassed Python enumerator object that returns (as a string) the IPv4 address of a Pixelblaze, in the usual dotted-quads numeric format. staticmethod","title":"pixelblaze.Pixelblaze.EnumerateAddresses"},{"location":"api/pixelblaze/#pixelblazepixelblazeenumeratedevices","text":"</> Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Parameters timeout (int, optional) \u2014 The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. hostIP (str, optional) \u2014 The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. Returns (LightweightEnumerator) A subclassed Python enumerator object that returns a Pixelblaze object for controlling a discovered Pixelblaze. class","title":"pixelblaze.Pixelblaze.EnumerateDevices"},{"location":"api/pixelblaze/#pixelblazepixelblazemessagetypes","text":"</> Bases enum.IntEnum int enum.Enum Types of binary messages sent and received by a Pixelblaze. The first byte of a binary frame contains the message type. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. class","title":"pixelblaze.Pixelblaze.messageTypes"},{"location":"api/pixelblaze/#pixelblazepixelblazeframetypes","text":"</> Bases enum.Flag enum.Enum Continuation flags for messages sent and received by a Pixelblaze. The second byte of a binary frame tells whether this packet is part of a set. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.Pixelblaze.frameTypes"},{"location":"api/pixelblaze/#pixelblazepixelblazewsreceive","text":"</> Wait for a message of a particular type from the Pixelblaze. Parameters binaryMessageType (messageTypes, optional) \u2014 The type of binary message to wait for (if None, waits for a text message). Defaults to None. Returns (Union[str, bytes, None]) The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. method","title":"pixelblaze.Pixelblaze.wsReceive"},{"location":"api/pixelblaze/#pixelblazepixelblazesendping","text":"</> Send a Ping message to the Pixelblaze and wait for the Acknowledgement response. Returns (Union[str, None]) The acknowledgement message received from the Pixelblaze, or None if a timeout occurred. method","title":"pixelblaze.Pixelblaze.sendPing"},{"location":"api/pixelblaze/#pixelblazepixelblazewssendjson","text":"</> Send a JSON-formatted command to the Pixelblaze, and optionally wait for a suitable response. Parameters command (dict) \u2014 A Python dictionary which will be sent to the Pixelblaze as a JSON command. expectedResponse (str, optional) \u2014 If present, the initial key of the expected JSON response to the command. Defaults to None. Returns (Union[str, bytes, None]) The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. method","title":"pixelblaze.Pixelblaze.wsSendJson"},{"location":"api/pixelblaze/#pixelblazepixelblazewssendbinary","text":"</> Send a binary command to the Pixelblaze, and optionally wait for a suitable response. Parameters binaryMessageType (messageTypes, optional) \u2014 The type of binary message to send. blob (bytes) \u2014 The message body to be sent. expectedResponse (str, optional) \u2014 If present, the initial key of the expected JSON response to the command. Defaults to None. Returns (response) The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. method","title":"pixelblaze.Pixelblaze.wsSendBinary"},{"location":"api/pixelblaze/#pixelblazepixelblazegetpeers","text":"</> A new command, added to the API but not yet implemented as of v2.29/v3.24, that will return a list of all the Pixelblazes visible on the local network segment. Returns (TBD) To be defined once @wizard implements the function. method","title":"pixelblaze.Pixelblaze.getPeers"},{"location":"api/pixelblaze/#pixelblazepixelblazegeturl","text":"</> Build the URL to communicate with the Pixelblaze using an HTTP endpoint. Parameters endpoint (str, optional) \u2014 The HTTP endpoint. Defaults to None, which returns the URL of the Pixelblaze webUI. Returns (str) The URL of the HTTP endpoint on the Pixelblaze. class","title":"pixelblaze.Pixelblaze.getUrl"},{"location":"api/pixelblaze/#pixelblazepixelblazefiletypes","text":"</> Bases enum.IntFlag int enum.Flag enum.Enum A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.Pixelblaze.fileTypes"},{"location":"api/pixelblaze/#pixelblazepixelblazegetfilelist","text":"</> Returns a list of all the files of a particular type stored on the Pixelblaze's filesystem. For Pixelblazes running firmware versions lower than 2.29/3.24 (the point at which the necessary API was introduced), the list includes the names of optional configuration files that may or may not exist on a particular Pixelblaze, depending on its setup. Parameters fileTypes (fileTypes, optional) \u2014 A bitmasked enumeration of the fileTypes to be listed. Defaults to fileTypes.fileAll. Returns (list[str]) A list of filenames of the requested fileType. method","title":"pixelblaze.Pixelblaze.getFileList"},{"location":"api/pixelblaze/#pixelblazepixelblazegetfile","text":"</> Downloads a file from the Pixelblaze using the HTTP API. Parameters fileName (str) \u2014 The pathname (as returned from getFileList ) of the file to be downloaded. Returns (bytes) The contents of the file. method","title":"pixelblaze.Pixelblaze.getFile"},{"location":"api/pixelblaze/#pixelblazepixelblazeputfile","text":"</> Uploads a file to the Pixelblaze using the HTTP API. Parameters fileName (str) \u2014 The pathname at which to store the file. fileContents (bytes) \u2014 The data to store in the file. Returns (bool) True if the file was successfully stored; False otherwise. method","title":"pixelblaze.Pixelblaze.putFile"},{"location":"api/pixelblaze/#pixelblazepixelblazedeletefile","text":"</> Deletes a file from this Pixelblaze using the HTTP API. Parameters fileName (str) \u2014 The pathname (as returned from getFileList ) of the file to be deleted. Returns (bool) True if the file was successfully stored; False otherwise. method","title":"pixelblaze.Pixelblaze.deleteFile"},{"location":"api/pixelblaze/#pixelblazepixelblazegetstatistics","text":"</> Grab one of the statistical packets that Pixelblaze sends every second. Returns (dict) the JSON message received from the Pixelblaze. method","title":"pixelblaze.Pixelblaze.getStatistics"},{"location":"api/pixelblaze/#pixelblazepixelblazesetsendpreviewframes","text":"</> Set whether or not the Pixelblaze sends pattern preview frames. Parameters doUpdates (bool) \u2014 True sends preview frames, False stops. method","title":"pixelblaze.Pixelblaze.setSendPreviewFrames"},{"location":"api/pixelblaze/#pixelblazepixelblazegetpreviewframe","text":"</> Grab one of the preview frames that Pixelblaze sends after every render cycle. Returns (bytes) a collection of bytes representing pixelCount tuples containing the (R, G, B) values for each pixel in the pattern preview. method","title":"pixelblaze.Pixelblaze.getPreviewFrame"},{"location":"api/pixelblaze/#pixelblazepixelblazegetfps","text":"</> Return the speed (in Frames per Second) of the pattern rendering. Parameters savedStatistics (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns (int) The pattern speed in FPS, as reported in a Pixelblaze statistics message. method","title":"pixelblaze.Pixelblaze.getFPS"},{"location":"api/pixelblaze/#pixelblazepixelblazegetuptime","text":"</> Return the uptime (in seconds) of the Pixelblaze. Parameters savedStatistics (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns (int) The uptime in seconds, as reported in a Pixelblaze statistics message. method","title":"pixelblaze.Pixelblaze.getUptime"},{"location":"api/pixelblaze/#pixelblazepixelblazegetstorageused","text":"</> Return the amount of Flash storage used on the Pixelblaze. Parameters savedStatistics (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns (int) The used storage in bytes, as reported in a Pixelblaze statistics message. method","title":"pixelblaze.Pixelblaze.getStorageUsed"},{"location":"api/pixelblaze/#pixelblazepixelblazegetstoragesize","text":"</> Return the available Flash storage on the Pixelblaze. Parameters savedStatistics (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns (int) The available storage in bytes, as reported in a Pixelblaze statistics message. method","title":"pixelblaze.Pixelblaze.getStorageSize"},{"location":"api/pixelblaze/#pixelblazepixelblazesetbrightnessslider","text":"</> Set the value of the UI brightness slider. Parameters brightness (float) \u2014 A floating-point value between 0.0 and 1.0. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setBrightnessSlider"},{"location":"api/pixelblaze/#pixelblazepixelblazegetbrightnessslider","text":"</> Get the value of the UI brightness slider. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (float) A floating-point value between 0.0 and 1.0. class","title":"pixelblaze.Pixelblaze.getBrightnessSlider"},{"location":"api/pixelblaze/#pixelblazepixelblazesequencermodes","text":"</> Bases enum.IntEnum int enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.Pixelblaze.sequencerModes"},{"location":"api/pixelblaze/#pixelblazepixelblazesetsequencermode","text":"</> Sets the sequencer mode to one of the available sequencerModes (Off, ShuffleAll, or Playlist). Parameters sequencerMode (enum) \u2014 The desired sequencer mode. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setSequencerMode"},{"location":"api/pixelblaze/#pixelblazepixelblazesetsequencerstate","text":"</> Set the run state of the sequencer. Parameters sequencerState (bool) \u2014 A boolean value determining whether or not the sequencer should run. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setSequencerState"},{"location":"api/pixelblaze/#pixelblazepixelblazegetsequencermode","text":"</> Gets the current sequencer mode. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (sequencerModes) The sequencerMode. method","title":"pixelblaze.Pixelblaze.getSequencerMode"},{"location":"api/pixelblaze/#pixelblazepixelblazegetsequencerstate","text":"</> Gets the current sequencer run state. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (bool) True if the sequencer is running; False otherwise. method","title":"pixelblaze.Pixelblaze.getSequencerState"},{"location":"api/pixelblaze/#pixelblazepixelblazeplaysequencer","text":"</> Mimics the 'Play' button in the UI. Starts the pattern sequencer, the consequences of which will vary depending upon the sequencerMode. Parameters saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.playSequencer"},{"location":"api/pixelblaze/#pixelblazepixelblazepausesequencer","text":"</> Mimics the 'Pause' button in the UI. Pauses the pattern sequencer, without changing the current position in the shuffle or playlist. Has no effect if the sequencer is not currently running. Parameters saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.pauseSequencer"},{"location":"api/pixelblaze/#pixelblazepixelblazenextsequencer","text":"</> Mimics the 'Next' button in the UI. If the sequencerMode is ShuffleAll or Playlist, advances the pattern sequencer to the next pattern. Parameters saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.nextSequencer"},{"location":"api/pixelblaze/#pixelblazepixelblazesetsequencershuffletime","text":"</> Sets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Parameters nMillis (int) \u2014 The number of milliseconds to play each pattern. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setSequencerShuffleTime"},{"location":"api/pixelblaze/#pixelblazepixelblazegetsequencershuffletime","text":"</> Gets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (int) The number of milliseconds to play each pattern. method","title":"pixelblaze.Pixelblaze.getSequencerShuffleTime"},{"location":"api/pixelblaze/#pixelblazepixelblazegetsequencerplaylist","text":"</> Fetches the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Parameters playlistId (str, optional) \u2014 The name of the playlist (for future enhancement; currently only ' defaultplaylist ' is supported). Defaults to \" defaultplaylist \". Returns (dict) The contents of the playlist. method","title":"pixelblaze.Pixelblaze.getSequencerPlaylist"},{"location":"api/pixelblaze/#pixelblazepixelblazesetsequencerplaylist","text":"</> Replaces the entire contents of the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Parameters playlistContents (dict) \u2014 The new playlist contents. playlistId (str, optional) \u2014 The name of the playlist (for future enhancement; currently only ' defaultplaylist ' is supported). Defaults to \" defaultplaylist \". method","title":"pixelblaze.Pixelblaze.setSequencerPlaylist"},{"location":"api/pixelblaze/#pixelblazepixelblazeaddtosequencerplaylist","text":"</> Appends a new entry to the specified playlist. Parameters playlistContents (dict) \u2014 The results of a previous call to getSequencerPlaylist . patternId (str) \u2014 The patternId of the pattern to be played. duration (int) \u2014 The number of milliseconds to play the pattern. Returns (dict) The updated playlist, which can then be sent back to the Pixelblaze with setSequencerPlaylist . method","title":"pixelblaze.Pixelblaze.addToSequencerPlaylist"},{"location":"api/pixelblaze/#pixelblazepixelblazegetpatternlist","text":"</> Returns a list of all the patterns saved on the Pixelblaze. Normally reads from the cached pattern list, which is refreshed every 10 minutes by default. To change the cache refresh interval, call setCacheRefreshTime(seconds). Parameters forceRefresh (bool, optional) \u2014 Forces a refresh of the cached patternList. Defaults to False. Returns (dict) A dictionary of the patterns stored on the Pixelblaze, where the patternId is the key and the patternName is the value. method","title":"pixelblaze.Pixelblaze.getPatternList"},{"location":"api/pixelblaze/#pixelblazepixelblazesetactivepattern","text":"</> Sets the active pattern. Parameters patternId (str) \u2014 The patternId of the desired pattern. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setActivePattern"},{"location":"api/pixelblaze/#pixelblazepixelblazegetpatternasepe","text":"</> Convert a stored pattern into an exportable, portable JSON format (which then needs to be saved by the caller). Parameters patternId (str) \u2014 The patternId of the desired pattern. Returns (str) The exported pattern as a JSON dictionary. method","title":"pixelblaze.Pixelblaze.getPatternAsEpe"},{"location":"api/pixelblaze/#pixelblazepixelblazedeletepattern","text":"</> Delete a pattern saved on the Pixelblaze. Parameters patternId (str) \u2014 The patternId of the desired pattern. method","title":"pixelblaze.Pixelblaze.deletePattern"},{"location":"api/pixelblaze/#pixelblazepixelblazegetpreviewimage","text":"</> Gets the preview image (a JPEG with 150 iterations of the pattern) saved within a pattern. Parameters patternId (str) \u2014 The patternId of the desired pattern. Returns (bytes) A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. method","title":"pixelblaze.Pixelblaze.getPreviewImage"},{"location":"api/pixelblaze/#pixelblazepixelblazegetactivevariables","text":"</> Gets the names and values of all variables exported by the current pattern. Returns (dict) A dictionary containing all the variables exported by the active pattern, with variableName as the key and variableValue as the value. method","title":"pixelblaze.Pixelblaze.getActiveVariables"},{"location":"api/pixelblaze/#pixelblazepixelblazesetactivevariables","text":"</> Sets the values of one or more variables exported by the current pattern. Variables not present in the current pattern are ignored. Parameters dict \u2014 A dictionary containing the variables to be set, with variableName as the key and variableValue as the value. method","title":"pixelblaze.Pixelblaze.setActiveVariables"},{"location":"api/pixelblaze/#pixelblazepixelblazesetactivecontrols","text":"</> Sets the value of one or more UI controls exported from the active pattern. Parameters dictControls (dict) \u2014 A dictionary containing the values to be set, with controlName as the key and controlValue as the value. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setActiveControls"},{"location":"api/pixelblaze/#pixelblazepixelblazegetactivepattern","text":"</> Returns the ID of the pattern currently running on the Pixelblaze. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (str) The patternId of the current pattern, if any; otherwise an empty string. method","title":"pixelblaze.Pixelblaze.getActivePattern"},{"location":"api/pixelblaze/#pixelblazepixelblazegetactivecontrols","text":"</> Returns the collection of controls for the pattern currently running on the Pixelblaze. If there are no controls or no pattern has been set, returns an empty dictionary. Parameters configSequencer (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSequencer ; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns (dict) A dictionary containing the control names and values, with controlName as the key and controlValue as the value. method","title":"pixelblaze.Pixelblaze.getActiveControls"},{"location":"api/pixelblaze/#pixelblazepixelblazegetpatterncontrols","text":"</> Returns the name and value of any UI controls exported by the specified pattern. Parameters patternId (str) \u2014 The patternId of the pattern. Returns (dict) A dictionary containing the control names and values, with controlName as the key and controlValue as the value. method","title":"pixelblaze.Pixelblaze.getPatternControls"},{"location":"api/pixelblaze/#pixelblazepixelblazegetpatternsourcecode","text":"</> Gets the sourceCode of a saved pattern from the Pixelblaze. Parameters patternId (str) \u2014 The patternId of the desired pattern. Returns (str) A string representation of a JSON dictionary containing the pattern source code. method","title":"pixelblaze.Pixelblaze.getPatternSourceCode"},{"location":"api/pixelblaze/#pixelblazepixelblazesendpatterntorenderer","text":"</> Sends a blob of bytecode and a JSON dictionary of UI controls to the Renderer. Mimics the actions of the webUI code editor. Parameters bytecode (bytes) \u2014 A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. controls (dict, optional) \u2014 a dictionary of UI controls exported by the pattern, with controlName as the key and controlValue as the value. Defaults to {}. method","title":"pixelblaze.Pixelblaze.sendPatternToRenderer"},{"location":"api/pixelblaze/#pixelblazepixelblazesavepattern","text":"</> Saves a new pattern to the Pixelblaze filesystem. Mimics the effects of the 'Save' button. If you don't know how to generate the previewImage and byteCode components, you don't want to do this. Parameters previewImage (bytes) \u2014 A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. sourceCode (str) \u2014 A string representation of a JSON dictionary containing the pattern source code. byteCode (bytes) \u2014 A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. method","title":"pixelblaze.Pixelblaze.savePattern"},{"location":"api/pixelblaze/#pixelblazepixelblazegetmapfunction","text":"</> Returns the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Returns (str) The text of the mapFunction. method","title":"pixelblaze.Pixelblaze.getMapFunction"},{"location":"api/pixelblaze/#pixelblazepixelblazesetmapfunction","text":"</> Sets the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Note that this is does not change the mapData used by the Pixelblaze; the Mapper tab in the Pixelblaze UI compiles this text to produce binary mapData which is saved separately (see the setMapData function). Parameters mapFunction (str) \u2014 The text of the mapFunction. Returns (bool) True if the function text was successfully saved; otherwise False. method","title":"pixelblaze.Pixelblaze.setMapFunction"},{"location":"api/pixelblaze/#pixelblazepixelblazegetmapdata","text":"</> Gets the binary representation of the pixelMap entered on the 'Mapper' tab. Returns (bytes) The binary mapData as generated by the Mapper tab of the Pixelblaze webUI. method","title":"pixelblaze.Pixelblaze.getMapData"},{"location":"api/pixelblaze/#pixelblazepixelblazesetmapdata","text":"</> Sets the binary mapData used by the Pixelblaze. Parameters mapData (bytes) \u2014 a blob of binary mapData as generated by the Mapper tab of the Pixelblaze webUI. saveToFlash (bool, optional) \u2014 A boolean indicating whether the mapData should be saved to Flash. Defaults to True. method","title":"pixelblaze.Pixelblaze.setMapData"},{"location":"api/pixelblaze/#pixelblazepixelblazegetconfigsettings","text":"</> Returns the configuration as defined on the Settings tab of the Pixelblaze. Returns (dict) A dictionary containing the configuration settings, with settingName as the key and settingValue as the value. method","title":"pixelblaze.Pixelblaze.getConfigSettings"},{"location":"api/pixelblaze/#pixelblazepixelblazegetconfigsequencer","text":"</> Retrieves the Sequencer state. Returns (dict) The sequencer configuration as a dictionary, with settingName as the key and settingValue as the value. method","title":"pixelblaze.Pixelblaze.getConfigSequencer"},{"location":"api/pixelblaze/#pixelblazepixelblazegetconfigexpander","text":"</> Retrieves the OutputExpander configuration. Returns (dict) The OutputExpander configuration as a dictionary, with settingName as the key and settingValue as the value. method","title":"pixelblaze.Pixelblaze.getConfigExpander"},{"location":"api/pixelblaze/#pixelblazepixelblazesetdevicename","text":"</> Sets the device name of the Pixelblaze. Parameters name (str) \u2014 The human-readable name of the Pixelblaze. method","title":"pixelblaze.Pixelblaze.setDeviceName"},{"location":"api/pixelblaze/#pixelblazepixelblazesetdiscovery","text":"</> Sets whether this Pixelblaze announces its presence to (and gets a clocktime reference from) the Electromage Discovery Service. Parameters enableDiscovery (bool) \u2014 A boolean controlling whether or not this Pixelblaze announces itself to the Electromage Discovery Service. timezoneName (str, optional) \u2014 If present, a Unix tzstring specifying how to adjust the clocktime reference received from the Electromage Discovery Service. Defaults to None. method","title":"pixelblaze.Pixelblaze.setDiscovery"},{"location":"api/pixelblaze/#pixelblazepixelblazesettimezone","text":"</> Sets the Pixelblaze's timezone, which specifies how to adjust the clocktime reference provided by the Electromage Discovery Service. To clear the timezone, pass an empty string. Parameters timezoneName (str) \u2014 A Unix tzstring specifying how to adjust the clocktime reference provided by the Electromage Discovery Service. method","title":"pixelblaze.Pixelblaze.setTimezone"},{"location":"api/pixelblaze/#pixelblazepixelblazesetautooffenable","text":"</> Enables or disables the Pixelblaze's auto-Off scheduler. Parameters boolValue (bool) \u2014 A boolean indicating whether the auto-Off scheduler should be used. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setAutoOffEnable"},{"location":"api/pixelblaze/#pixelblazepixelblazesetautooffstart","text":"</> Sets the time at which the Pixelblaze will turn off the pattern. Parameters timeValue (str) \u2014 A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setAutoOffStart"},{"location":"api/pixelblaze/#pixelblazepixelblazesetautooffend","text":"</> Sets the time at which the Pixelblaze will turn on the pattern. Parameters timeValue (str) \u2014 A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setAutoOffEnd"},{"location":"api/pixelblaze/#pixelblazepixelblazegetdevicename","text":"</> Returns the user-friendly name of the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) The user-friendly name of the Pixelblaze. method","title":"pixelblaze.Pixelblaze.getDeviceName"},{"location":"api/pixelblaze/#pixelblazepixelblazegetdiscovery","text":"</> Returns a boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) A boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. method","title":"pixelblaze.Pixelblaze.getDiscovery"},{"location":"api/pixelblaze/#pixelblazepixelblazegettimezone","text":"</> Returns the timezone, if any, for the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) A standard Unix tzstring. method","title":"pixelblaze.Pixelblaze.getTimezone"},{"location":"api/pixelblaze/#pixelblazepixelblazegetautooffenable","text":"</> Returns whether the auto-Off timer is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) A boolean indicating whether the auto-Off timer is enabled. method","title":"pixelblaze.Pixelblaze.getAutoOffEnable"},{"location":"api/pixelblaze/#pixelblazepixelblazegetautooffstart","text":"</> Returns the time, if any, at which the Pixelblaze will turn off the pattern when the auto-Off timer is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) A Unix time string in \"HH:MM\" format. method","title":"pixelblaze.Pixelblaze.getAutoOffStart"},{"location":"api/pixelblaze/#pixelblazepixelblazegetautooffend","text":"</> Returns the time, if any, at which the Pixelblaze will turn on the pattern when the auto-Off timer is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) A Unix time string in \"HH:MM\" format. method","title":"pixelblaze.Pixelblaze.getAutoOffEnd"},{"location":"api/pixelblaze/#pixelblazepixelblazesetbrightnesslimit","text":"</> Sets the Pixelblaze's global brightness limit. Parameters maxBrightness (int) \u2014 The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. class","title":"pixelblaze.Pixelblaze.setBrightnessLimit"},{"location":"api/pixelblaze/#pixelblazepixelblazeledtypes","text":"</> Bases enum.IntEnum int enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.Pixelblaze.ledTypes"},{"location":"api/pixelblaze/#pixelblazepixelblazesetledtype","text":"</> Defines the type of LEDs connected to the Pixelblaze. Parameters ledType (ledTypes) \u2014 The type of LEDs connected to the Pixelblaze. dataSpeed (int, optional) \u2014 If provided, sets a custom data speed for communication with the LEDs; otherwise the defaults from the webUI are used. Defaults to None. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setLedType"},{"location":"api/pixelblaze/#pixelblazepixelblazesetpixelcount","text":"</> Sets the number of LEDs attached to the Pixelblaze. Note that changing the number of pixels does not recalculate the pixelMap. Parameters nPixels (int) \u2014 The number of pixels. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setPixelCount"},{"location":"api/pixelblaze/#pixelblazepixelblazesetdataspeed","text":"</> Sets custom data rate for communicating with the LEDs. CAUTION: For advanced users only. If you don't know exactly why you want to do this, DON'T DO IT. See discussion in this thread on the Pixelblaze forum: https://forum.electromage.com/t/timing-of-a-cheap-strand/739 Parameters speed (int) \u2014 The data rate for communicating with the LEDs. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. class","title":"pixelblaze.Pixelblaze.setDataSpeed"},{"location":"api/pixelblaze/#pixelblazepixelblazecolororders","text":"</> Bases enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.Pixelblaze.colorOrders"},{"location":"api/pixelblaze/#pixelblazepixelblazesetcolororder","text":"</> Sets the color order for the LEDs connected to the Pixelblaze. Parameters colorOrder (colorOrders) \u2014 The ordering for the color data sent to the LEDs. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setColorOrder"},{"location":"api/pixelblaze/#pixelblazepixelblazegetbrightnesslimit","text":"</> Returns the maximum brightness for the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (int) The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). method","title":"pixelblaze.Pixelblaze.getBrightnessLimit"},{"location":"api/pixelblaze/#pixelblazepixelblazegetledtype","text":"</> Returns the type of LEDs connected to the Pixelblaze. method","title":"pixelblaze.Pixelblaze.getLedType"},{"location":"api/pixelblaze/#pixelblazepixelblazegetpixelcount","text":"</> Returns the number of LEDs connected to the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (int) The number of LEDs connected to the Pixelblaze. method","title":"pixelblaze.Pixelblaze.getPixelCount"},{"location":"api/pixelblaze/#pixelblazepixelblazegetdataspeed","text":"</> Returns the data speed of the LEDs connected to the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (int) The data speed for communicating with the LEDs. method","title":"pixelblaze.Pixelblaze.getDataSpeed"},{"location":"api/pixelblaze/#pixelblazepixelblazegetcolororder","text":"</> Returns the color order of the LEDs connected to the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (colorOrders) The ordering for the color data sent to the LEDs. class","title":"pixelblaze.Pixelblaze.getColorOrder"},{"location":"api/pixelblaze/#pixelblazepixelblazecpuspeeds","text":"</> Bases enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.Pixelblaze.cpuSpeeds"},{"location":"api/pixelblaze/#pixelblazepixelblazesetcpuspeed","text":"</> Sets the CPU speed of the Pixelblaze. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the reboot function). Parameters cpuSpeed (cpuSpeeds) \u2014 The desired CPU speed. method","title":"pixelblaze.Pixelblaze.setCpuSpeed"},{"location":"api/pixelblaze/#pixelblazepixelblazesetnetworkpowersave","text":"</> Enables or disables the WiFi connection on the Pixelblaze, which can significantly reduce power requirements for battery-powered installations. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the reboot function). Parameters disableWifi (bool) \u2014 A boolean indicating whether to disable Wifi. method","title":"pixelblaze.Pixelblaze.setNetworkPowerSave"},{"location":"api/pixelblaze/#pixelblazepixelblazegetcpuspeed","text":"</> Returns the CPU speed of the Pixelblaze. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (cpuSpeeds) An enumeration representing the CPU speed. method","title":"pixelblaze.Pixelblaze.getCpuSpeed"},{"location":"api/pixelblaze/#pixelblazepixelblazegetnetworkpowersave","text":"</> Returns whether the \"Network Power Saving\" mode is enabled (and WiFi is disabled). Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) Whether the \"Network Power Saving\" mode is enabled. class","title":"pixelblaze.Pixelblaze.getNetworkPowerSave"},{"location":"api/pixelblaze/#pixelblazepixelblazeupdatestates","text":"</> Bases enum.IntEnum int enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.Pixelblaze.updateStates"},{"location":"api/pixelblaze/#pixelblazepixelblazegetupdatestate","text":"</> Returns the updateState of the Pixelblaze. Returns (updateStates) An enumeration describing the updateState of the Pixelblaze. method","title":"pixelblaze.Pixelblaze.getUpdateState"},{"location":"api/pixelblaze/#pixelblazepixelblazeinstallupdate","text":"</> Installs new Pixelblaze firmware, if the current updateState indicates that an update is available. Returns (updateStates) An enumeration describing the new updateState of the Pixelblaze. method","title":"pixelblaze.Pixelblaze.installUpdate"},{"location":"api/pixelblaze/#pixelblazepixelblazegetversion","text":"</> Returns the firmware version of the Pixelblaze. Returns (float) The firmware version, in major.minor format. method","title":"pixelblaze.Pixelblaze.getVersion"},{"location":"api/pixelblaze/#pixelblazepixelblazegetversionmajor","text":"</> Returns the major version number. Returns (int) A positive integer representing the integer portion of the version number (eg. for v3.24, returns 3). method","title":"pixelblaze.Pixelblaze.getVersionMajor"},{"location":"api/pixelblaze/#pixelblazepixelblazegetversionminor","text":"</> Returns the minor version number. Returns (int) A positive integer representing the fractional portion of the version number (eg. for v3.24, returns 24). method","title":"pixelblaze.Pixelblaze.getVersionMinor"},{"location":"api/pixelblaze/#pixelblazepixelblazesavebackup","text":"</> Saves the contents of this Pixelblaze into a Pixelblaze Binary Backup file. Parameters fileName (str) \u2014 The desired filename for the Pixelblaze Binary Backup. method","title":"pixelblaze.Pixelblaze.saveBackup"},{"location":"api/pixelblaze/#pixelblazepixelblazerestorefrombackup","text":"</> Restores the contents of this Pixelblaze from a Pixelblaze Binary Backup file. Parameters fileName (str) \u2014 The desired filename for the Pixelblaze Binary Backup. method","title":"pixelblaze.Pixelblaze.restoreFromBackup"},{"location":"api/pixelblaze/#pixelblazepixelblazereboot","text":"</> Reboots the Pixelblaze. This is occasionally necessary, eg. to force the Pixelblaze to recognize changes to configuration files. method","title":"pixelblaze.Pixelblaze.reboot"},{"location":"api/pixelblaze/#pixelblazepixelblazesetbrandname","text":"</> Sets the brand name of the Pixelblaze (used by VARs to change the brand name that appears on the webUI). Parameters brandName (str) \u2014 The new name. method","title":"pixelblaze.Pixelblaze.setBrandName"},{"location":"api/pixelblaze/#pixelblazepixelblazesetsimpleuimode","text":"</> Enables or disables \"Simple UI Mode\" which makes the UI more suitable for non-technical audiences. Parameters doSimpleMode (bool) \u2014 Whether to enable \"Simple UI Mode\". method","title":"pixelblaze.Pixelblaze.setSimpleUiMode"},{"location":"api/pixelblaze/#pixelblazepixelblazesetlearninguimode","text":"</> Enables or disables \"Learning UI Mode\" which has additional UI help for new users. Parameters doSimpleMode (bool) \u2014 Whether to enable \"Learning UI Mode\". method","title":"pixelblaze.Pixelblaze.setLearningUiMode"},{"location":"api/pixelblaze/#pixelblazepixelblazegetbrandname","text":"</> Returns the brand name, if any, of this Pixelblaze (blank unless rebadged by a reseller). Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (str) The brand name. method","title":"pixelblaze.Pixelblaze.getBrandName"},{"location":"api/pixelblaze/#pixelblazepixelblazegetsimpleuimode","text":"</> Returns whether \"Simple UI Mode\" is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) A boolean indicating whether \"Simple UI Mode\" is enabled. method","title":"pixelblaze.Pixelblaze.getSimpleUiMode"},{"location":"api/pixelblaze/#pixelblazepixelblazegetlearninguimode","text":"</> Returns whether \"Learning UI Mode\" is enabled. Parameters configSettings (dict, optional) \u2014 If provided, extracts the value from the results of a previous call to getConfigSettings ; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns (bool) A boolean indicating whether \"Learning UI Mode\" is enabled. class","title":"pixelblaze.Pixelblaze.getLearningUiMode"},{"location":"api/pixelblaze/#pixelblazepixelblazedeprecationreasons","text":"</> Bases enum.IntEnum int enum.Enum An enumeration. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.Pixelblaze.deprecationReasons"},{"location":"api/pixelblaze/#pixelblazepixelblazepauserenderer","text":"</> Pause rendering. Lasts until unpause() is called or the Pixelblaze is reset. CAUTION: For advanced users only. Only used to stop the render engine before sending new bytecode. If you don't know exactly why you want to do this, DON'T DO IT. Parameters doPause (bool) \u2014 If True, pause the render engine; if False, resume it. method","title":"pixelblaze.Pixelblaze.pauseRenderer"},{"location":"api/pixelblaze/#pixelblazepixelblazesetactivepatternbyname","text":"</> Sets the currently running pattern using a text name. Parameters patternName (str) \u2014 The name of the pattern. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setActivePatternByName"},{"location":"api/pixelblaze/#pixelblazepixelblazecontrolexists","text":"</> Tests whether the named control exists in the specified pattern. If no pattern is specified, the currently active pattern is assumed. Note that the active pattern can be undefined on a freshly started Pixelblaze until the pattern has been explicitly set. This function also will return False if the active pattern is not available. Parameters controlName (str) \u2014 The name of the control. patternId (str, optional) \u2014 The pattern in which to test for the presence of the control. Defaults to None. Returns (bool) True if the specified control exists, False otherwise. method","title":"pixelblaze.Pixelblaze.controlExists"},{"location":"api/pixelblaze/#pixelblazepixelblazegetcolorcontrolnames","text":"</> Returns a list of names of the specified pattern's rgbPicker or hsvPicker controls if any exist, None otherwise. If the pattern argument is not specified, check the currently running pattern method","title":"pixelblaze.Pixelblaze.getColorControlNames"},{"location":"api/pixelblaze/#pixelblazepixelblazegetcolorcontrolname","text":"</> Returns the name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. Parameters patternId (str, optional) \u2014 The pattern to search for color controls; or the currently active pattern if not specified. Defaults to None. Returns (str) The name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. method","title":"pixelblaze.Pixelblaze.getColorControlName"},{"location":"api/pixelblaze/#pixelblazepixelblazesetcolorcontrol","text":"</> Sets the 3-element color of the specified HSV or RGB color picker. Parameters controlName (str) \u2014 The name of the color control to change. color (dict) \u2014 A dictionary of RGB or HSV colors, with all values in the range 0-1. saveToFlash (bool, optional) \u2014 If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. method","title":"pixelblaze.Pixelblaze.setColorControl"},{"location":"api/pixelblaze/#pixelblazepixelblazesetcacherefreshtime","text":"</> Set the interval, in seconds, after which calls to getPatternList() clear the pattern cache and fetch a new pattern list from the Pixelblaze. The Default is 600 seconds (10 minutes); the maximum allowable value is clamped to a million seconds (about 277 hours, or 11.5 days). Anything else would be excessive. Parameters seconds (int) \u2014 The maximum age of the pattern cache. class","title":"pixelblaze.Pixelblaze.setCacheRefreshTime"},{"location":"api/pixelblaze/#pixelblazepbb","text":"</> This class provides methods for importing, exporting, and manipulating the contents of a Pixelblaze Binary Backup, as created from the Settings menu on a Pixelblaze. CREATION - fromFile() - fromIpAddress() - fromPixelblaze() PROPERTIES - deviceName() - getFileList() MANIPULATION - getFile() / putFile() / deleteFile() PERSISTENCE - toFile() - toIpAddress() - toPixelblaze() Attributes deviceName \u2014 Gets the user-friendly name of the device from which this PixelBlazeBackup was made. </> Note The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. Classes fileTypes \u2014 A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files. </> Methods deleteFile ( fileName ) \u2014 Removes a particular file from this PixelBlazeBackup. </> fromFile ( fileName ) (PBB) \u2014 Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a file on disk. </> fromIpAddress ( ipAddress , proxyUrl , verbose ) (PBB) \u2014 Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a Pixelblaze specified by IP address. </> fromPixelblaze ( pb , verbose ) (PBB) \u2014 Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from an existing Pixelblaze object. </> getFile ( fileName ) (bytes) \u2014 Returns the contents of a particular file contained in this PixelBlazeBackup. </> getFileList ( fileTypes ) (list[str]) \u2014 Returns a sorted list of the files contained in this PixelBlazeBackup. </> putFile ( fileName , fileContents ) \u2014 Inserts or replaces the contents of a particular file into this PixelBlazeBackup. </> toFile ( fileName , explode ) \u2014 Writes this Pixelblaze Binary Backup to a file on disk. </> toIpAddress ( ipAddress , proxyUrl , verbose ) \u2014 Restores the contents of this PixelBlazeBackup to a Pixelblaze identified by IP Address. </> toPixelblaze ( pb , verbose ) \u2014 Uploads the contents of this PixelBlazeBackup to the destination Pixelblaze. </> staticmethod","title":"pixelblaze.PBB"},{"location":"api/pixelblaze/#pixelblazepbbfromfile","text":"</> Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a file on disk. Parameters fileName (str) \u2014 The filename of the Pixelblaze Binary Backup. Returns (PBB) A new Pixelblaze Binary Backup object. staticmethod","title":"pixelblaze.PBB.fromFile"},{"location":"api/pixelblaze/#pixelblazepbbfromipaddress","text":"</> Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a Pixelblaze specified by IP address. Parameters ipAddress (str) \u2014 The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional) \u2014 A boolean specifying whether to print detailed progress statements. Defaults to False. Returns (PBB) A new Pixelblaze Binary Backup object. staticmethod","title":"pixelblaze.PBB.fromIpAddress"},{"location":"api/pixelblaze/#pixelblazepbbfrompixelblaze","text":"</> Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from an existing Pixelblaze object. Parameters pb (Pixelblaze) \u2014 A Pixelblaze object. verbose (bool, optional) \u2014 A boolean specifying whether to print detailed progress statements. Defaults to False. Returns (PBB) A new Pixelblaze Binary Backup object. class","title":"pixelblaze.PBB.fromPixelblaze"},{"location":"api/pixelblaze/#pixelblazepbbfiletypes","text":"</> Bases enum.IntFlag int enum.Flag enum.Enum A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files. Classes EnumMeta \u2014 Metaclass for Enum </> class enum. EnumMeta ( cls , bases , classdict , **kwds ) </> Metaclass for Enum Attributes __members__ \u2014 Returns a mapping of member name->value. This mapping lists all enum members, including aliases. Note that this is a read-only view of the internal mapping. </> Methods __bool__ ( ) \u2014 classes/types should always be True. </> __call__ ( cls , value , names , module , qualname , type , start ) \u2014 Either returns an existing member, or creates a new enum class. </> __dir__ ( ) \u2014 Specialized dir implementation for types. </> __getattr__ ( cls , name ) \u2014 Return the enum member matching name </> __iter__ ( cls ) \u2014 Returns members in definition order. </> __reversed__ ( cls ) \u2014 Returns members in reverse definition order. </> __setattr__ ( cls , name , value ) \u2014 Block attempts to reassign Enum members. </> method __bool__ ( ) </> classes/types should always be True. staticmethod __call__ ( cls , value , names=None , module=None , qualname=None , type=None , start=1 ) </> Either returns an existing member, or creates a new enum class. This method is used both when an enum class is given a value to match to an enumeration member (i.e. Color(3)) and for the functional API (i.e. Color = Enum('Color', names='RED GREEN BLUE')). When used for the functional API: value will be the name of the new class. names should be either a string of white-space/comma delimited names (values will start at start ), or an iterator/mapping of name, value pairs. module should be set to the module this class is being created in; if it is not set, an attempt to find that module will be made, but if it fails the class will not be picklable. qualname should be set to the actual location this class can be found at in its module; by default it is set to the global scope. If this is not correct, unpickling will fail in some circumstances. type , if set, will be mixed in as the first base class. method __dir__ ( ) </> Specialized dir implementation for types. staticmethod __getattr__ ( cls , name ) </> Return the enum member matching name We use getattr instead of descriptors or inserting into the enum class' dict in order to support name and value being both properties for enum members (which live in the class' dict ) and enum members themselves. staticmethod __iter__ ( cls ) </> Returns members in definition order. staticmethod __reversed__ ( cls ) </> Returns members in reverse definition order. staticmethod __setattr__ ( cls , name , value ) </> Block attempts to reassign Enum members. A simple assignment to the class namespace only changes one of the several possible ways to get an Enum member from the Enum class, resulting in an inconsistent Enumeration. method","title":"pixelblaze.PBB.fileTypes"},{"location":"api/pixelblaze/#pixelblazepbbgetfilelist","text":"</> Returns a sorted list of the files contained in this PixelBlazeBackup. Parameters fileTypes (fileTypes, optional) \u2014 An bitwise enumeration indicating the types of files to list. Defaults to fileTypes.fileAll. Returns (list[str]) A list of filenames. method","title":"pixelblaze.PBB.getFileList"},{"location":"api/pixelblaze/#pixelblazepbbgetfile","text":"</> Returns the contents of a particular file contained in this PixelBlazeBackup. Parameters fileName (str) \u2014 The name of the file to be returned. Returns (bytes) The contents of the requested file. method","title":"pixelblaze.PBB.getFile"},{"location":"api/pixelblaze/#pixelblazepbbputfile","text":"</> Inserts or replaces the contents of a particular file into this PixelBlazeBackup. Parameters fileName (str) \u2014 The name of the file to be stored. fileContents (bytes) \u2014 The contents of the file to be stored. method","title":"pixelblaze.PBB.putFile"},{"location":"api/pixelblaze/#pixelblazepbbdeletefile","text":"</> Removes a particular file from this PixelBlazeBackup. Parameters fileName (str) \u2014 The name of the file to be deleted. method","title":"pixelblaze.PBB.deleteFile"},{"location":"api/pixelblaze/#pixelblazepbbtofile","text":"</> Writes this Pixelblaze Binary Backup to a file on disk. Parameters fileName (str, optional) \u2014 If specified, the filename of the Pixelblaze Binary Backup to be created; otherwise the originating Pixelblaze name is used. Defaults to None. explode (bool, optional) \u2014 If specified, also exports the files within the Pixelblaze Binary Backup to a subdirectory. Defaults to False. method","title":"pixelblaze.PBB.toFile"},{"location":"api/pixelblaze/#pixelblazepbbtoipaddress","text":"</> Restores the contents of this PixelBlazeBackup to a Pixelblaze identified by IP Address. Parameters ipAddress (str) \u2014 The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\").. proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional) \u2014 A boolean specifying whether to print detailed progress statements. Defaults to False. method","title":"pixelblaze.PBB.toIpAddress"},{"location":"api/pixelblaze/#pixelblazepbbtopixelblaze","text":"</> Uploads the contents of this PixelBlazeBackup to the destination Pixelblaze. Parameters pb (Pixelblaze) \u2014 A Pixelblaze object. verbose (bool, optional) \u2014 A boolean specifying whether to print detailed progress statements. Defaults to False. class","title":"pixelblaze.PBB.toPixelblaze"},{"location":"api/pixelblaze/#pixelblazepbp","text":"</> This class represents a Pixelblaze Binary Pattern, as stored on the Pixelblaze filesystem or contained in a Pixelblaze Binary Backup. CREATION - fromBytes() - fromFile() - fromIpAddress() - fromPixelblaze() PROPERTIES - id() - name() - jpeg() - byteCode() - sourceCode() PERSISTENCE - toFile() - toIpAddress() - toPixelblaze() - toEPE() - explode() Attributes byteCode \u2014 Returns (as a collection of bytes) the bytecode of the pattern contained in this Pixelblaze Binary Pattern (PBP). </> id \u2014 Returns the patternId of the pattern contained in this Pixelblaze Binary Pattern (PBP). </> jpeg \u2014 Returns (as a collection of bytes) the preview JPEG of the pattern contained in this Pixelblaze Binary Pattern (PBP). </> name \u2014 Returns the (human-readable) name of the pattern contained in this Pixelblaze Binary Pattern (PBP). </> sourceCode \u2014 Returns the source code of the pattern in this Pixelblaze Binary Pattern (PBP). </> Note The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. Methods explode ( path ) \u2014 Exports all the components of this Pixelblaze Binary Pattern (PBP) as separate files. </> fromBytes ( patternId , blob ) (PBP) \u2014 Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are initialized from a bytes array. </> fromFile ( fileName ) (PBP) \u2014 Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are loaded from a file on disk. </> fromIpAddress ( ipAddress , patternId , proxyUrl ) (PBP) \u2014 Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from a URL. </> fromPixelblaze ( pb , patternId ) (PBP) \u2014 Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from an active Pixelblaze object. </> toEPE ( ) (EPE) \u2014 Creates a new Electromage Pattern Export (EPE) and initializes it from the contents of this Pixelblaze Binary Pattern (PBP). </> toFile ( fileName ) \u2014 Saves this Pixelblaze Binary Pattern (PBP) to a file on disk. </> toIpAddress ( ipAddress , proxyUrl ) \u2014 Uploads this Pixelblaze Binary Pattern (PBP) to a Pixelblaze identified by its IP address. </> toPixelblaze ( pb ) \u2014 Uploads this Pixelblaze Binary Pattern (PBP) to an active Pixelblaze object. </> staticmethod","title":"pixelblaze.PBP"},{"location":"api/pixelblaze/#pixelblazepbpfrombytes","text":"</> Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are initialized from a bytes array. Parameters patternId (str) \u2014 A patternId for the Pixelblaze Binary Pattern to be created. blob (bytes) \u2014 The binary contents of the Pixelblaze Binary Pattern to be created. Returns (PBP) A new Pixelblaze Binary Pattern object. staticmethod","title":"pixelblaze.PBP.fromBytes"},{"location":"api/pixelblaze/#pixelblazepbpfromfile","text":"</> Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are loaded from a file on disk. Parameters fileName (str) \u2014 The name of the file to be loaded into a Pixelblaze Binary Pattern. Returns (PBP) A new Pixelblaze Binary Pattern object. staticmethod","title":"pixelblaze.PBP.fromFile"},{"location":"api/pixelblaze/#pixelblazepbpfromipaddress","text":"</> Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from a URL. Parameters ipAddress (str) \u2014 The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). patternId (str) \u2014 The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns (PBP) A new Pixelblaze Binary Pattern object. staticmethod","title":"pixelblaze.PBP.fromIpAddress"},{"location":"api/pixelblaze/#pixelblazepbpfrompixelblaze","text":"</> Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from an active Pixelblaze object. Parameters pb (Pixelblaze) \u2014 An active Pixelblaze object. patternId (str) \u2014 The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. Returns (PBP) A new Pixelblaze Binary Pattern object. method","title":"pixelblaze.PBP.fromPixelblaze"},{"location":"api/pixelblaze/#pixelblazepbptofile","text":"</> Saves this Pixelblaze Binary Pattern (PBP) to a file on disk. Parameters fileName (str, optional) \u2014 If provided, A name for the Pixelblaze Binary Pattern file to be created; otherwise, the name is derived from the patternId. Defaults to None. method","title":"pixelblaze.PBP.toFile"},{"location":"api/pixelblaze/#pixelblazepbptoipaddress","text":"</> Uploads this Pixelblaze Binary Pattern (PBP) to a Pixelblaze identified by its IP address. Parameters ipAddress (str) \u2014 The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional) \u2014 The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. method","title":"pixelblaze.PBP.toIpAddress"},{"location":"api/pixelblaze/#pixelblazepbptopixelblaze","text":"</> Uploads this Pixelblaze Binary Pattern (PBP) to an active Pixelblaze object. Parameters pb (Pixelblaze) \u2014 An active Pixelblaze object. method","title":"pixelblaze.PBP.toPixelblaze"},{"location":"api/pixelblaze/#pixelblazepbptoepe","text":"</> Creates a new Electromage Pattern Export (EPE) and initializes it from the contents of this Pixelblaze Binary Pattern (PBP). Returns (EPE) A new Electromage Pattern Export object. method","title":"pixelblaze.PBP.toEPE"},{"location":"api/pixelblaze/#pixelblazepbpexplode","text":"</> Exports all the components of this Pixelblaze Binary Pattern (PBP) as separate files. Parameters path (str, optional) \u2014 If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None. class","title":"pixelblaze.PBP.explode"},{"location":"api/pixelblaze/#pixelblazeepe","text":"</> This class provides methods for importing, exporting, and manipulating the contents of an Electromage Pattern Export (EPE), as exported from the Patterns list on a Pixelblaze. CREATION - fromBytes() - fromFile() PROPERTIES - patternId() - patternName() - sourceCode() - previewImage() PERSISTENCE - toFile() - explode() Attributes patternId \u2014 Returns the patternId of the pattern contained in this Electromage Pattern Export (EPE). </> patternName \u2014 Returns the human-readable name of the pattern in this Electromage Pattern Export (EPE). </> previewImage \u2014 Returns (as bytes) the preview JPEG of the pattern contained in this Electromage Pattern Export (EPE). </> sourceCode \u2014 Returns the source code of the pattern contained in this Electromage Pattern Export (EPE). </> Note The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. Methods explode ( path ) \u2014 Exports the components of this Electromage Pattern Export (EPE) to separate files. </> fromBytes ( blob ) (EPE) \u2014 Creates and returns a new Electromage Pattern Export (EPE) whose contents are loaded from a bytes array. </> fromFile ( fileName ) (EPE) \u2014 Creates and returns a new portable pattern EPE whose contents are loaded from a file on disk. </> toFile ( fileName ) \u2014 Saves this Electromage Pattern Export (EPE) to a file on disk. </> staticmethod","title":"pixelblaze.EPE"},{"location":"api/pixelblaze/#pixelblazeepefrombytes","text":"</> Creates and returns a new Electromage Pattern Export (EPE) whose contents are loaded from a bytes array. Parameters blob (bytes) \u2014 The data from which to create the Electromage Pattern Export (EPE). Returns (EPE) A new Electromage Pattern Export (EPE) object. staticmethod","title":"pixelblaze.EPE.fromBytes"},{"location":"api/pixelblaze/#pixelblazeepefromfile","text":"</> Creates and returns a new portable pattern EPE whose contents are loaded from a file on disk. Parameters fileName (str) \u2014 The name of the file from which to create the Electromage Pattern Export (EPE). Returns (EPE) A new Electromage Pattern Export (EPE) object. method","title":"pixelblaze.EPE.fromFile"},{"location":"api/pixelblaze/#pixelblazeepetofile","text":"</> Saves this Electromage Pattern Export (EPE) to a file on disk. Parameters fileName (str, optional) \u2014 If provided, a name for the file to be created; otherwise derived from the patternId. Defaults to None. method","title":"pixelblaze.EPE.toFile"},{"location":"api/pixelblaze/#pixelblazeepeexplode","text":"</> Exports the components of this Electromage Pattern Export (EPE) to separate files. Parameters path (str) \u2014 If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None. class","title":"pixelblaze.EPE.explode"},{"location":"api/pixelblaze/#pixelblazepixelblazeenumerator","text":"</> Listens on a network to detect available Pixelblazes, which the user can then list or open as Pixelblaze objects. Also provides time synchronization services for running synchronized patterns on a network of Pixelblazes. Methods disableTimesync ( ) \u2014 Turns off the time synchronization -- the PixelblazeEnumerator will not automatically synchronize Pixelblazes. </> enableTimesync ( ) \u2014 Instructs the PixelblazeEnumerator object to automatically synchronize time on all Pixelblazes. (Note that time synchronization is off by default when a new PixelblazeEnumerator is created.) </> setDeviceTimeout ( ms ) \u2014 Sets the interval in milliseconds which the enumerator will wait without hearing from a device before removing it from the active devices list. </> start ( hostIP ) \u2014 Open socket for listening to Pixelblaze datagram traffic, set appropriate options and bind to specified interface and start listener thread. </> stop ( ) \u2014 Stop listening for datagrams, terminate listener thread and close socket. </> method","title":"pixelblaze.PixelblazeEnumerator"},{"location":"api/pixelblaze/#pixelblazepixelblazeenumeratorsetdevicetimeout","text":"</> Sets the interval in milliseconds which the enumerator will wait without hearing from a device before removing it from the active devices list. The default timeout is 30000 (30 seconds). method","title":"pixelblaze.PixelblazeEnumerator.setDeviceTimeout"},{"location":"api/pixelblaze/#pixelblazepixelblazeenumeratorenabletimesync","text":"</> Instructs the PixelblazeEnumerator object to automatically synchronize time on all Pixelblazes. (Note that time synchronization is off by default when a new PixelblazeEnumerator is created.) method","title":"pixelblaze.PixelblazeEnumerator.enableTimesync"},{"location":"api/pixelblaze/#pixelblazepixelblazeenumeratordisabletimesync","text":"</> Turns off the time synchronization -- the PixelblazeEnumerator will not automatically synchronize Pixelblazes. method","title":"pixelblaze.PixelblazeEnumerator.disableTimesync"},{"location":"api/pixelblaze/#pixelblazepixelblazeenumeratorstart","text":"</> Open socket for listening to Pixelblaze datagram traffic, set appropriate options and bind to specified interface and start listener thread. method","title":"pixelblaze.PixelblazeEnumerator.start"},{"location":"api/pixelblaze/#pixelblazepixelblazeenumeratorstop","text":"</> Stop listening for datagrams, terminate listener thread and close socket.","title":"pixelblaze.PixelblazeEnumerator.stop"},{"location":"api/source/pixelblaze/","text":"SOURCE CODE pixelblaze DOCS #!/usr/bin/python3 # -*- coding: utf-8 -*- \"\"\" A library that provides a simple, synchronous interface for communicating with and controlling Pixelblaze LED controllers. This module contains the following classes: - [`Pixelblaze`](#class-pixelblaze): an object for controlling Pixelblazes. - [`PBB`](#class-pbb): an object for creating and manipulating Pixelblaze Binary Backups. - [`PBP`](#class-pbp): an object for creating and manipulating Pixelblaze Binary Patterns. - [`EPE`](#class-epe): an object for creating and manipulating Electromage Pattern Exports. \"\"\" # ---------------------------------------------------------------------------- # Copyright 2020-2022 by the pixelblaze-client team # # Permission is hereby granted, free of charge, to any person obtaining a copy of this # software and associated documentation files (the \"Software\"), to deal in the Software # without restriction, including without limitation the rights to use, copy, modify, merge, # publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons # to whom the Software is furnished to do so, subject to the following conditions: # # The above copyright notice and this permission notice shall be included in all copies or # substantial portions of the Software. # # THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING # BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE # AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY # CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN # THE SOFTWARE. # # ---------------------------------------------------------------------------- __version__ = \"1.0.0\" #| Version | Date | Author | Comment | #|---------|------------|---------------|-----------------------------------------| #| v1.0.0 | 01/10/2022 | @pixie | large-scale refactoring to add new features; minor loss of compatibility | #| v0.9.6 | 07/17/2022 | @pixie | Tweak getPatternList() to handle slower Pixelblazes | #| v0.9.5 | 07/16/2022 | @pixie | Update ws_recv to receive long preview packets | #| v0.9.4 | 02/04/2022 | \" | Added setPixelcount(), pause(), unpause(), pattern cache | #| v0.9.3 | 04/13/2021 | \" | waitForEmptyQueue() return now agrees w/docs | #| v0.9.2 | 01/16/2021 | \" | Updated Pixelblaze sequencer support | #| v0.9.1 | 12/16/2020 | \" | Support for pypi upload | #| v0.9.0 | 12/06/2020 | \" | Added PixelblazeEnumerator class | #| v0.0.2 | 12/01/2020 | \" | Name change + color control methods | #| v0.0.1 | 11/20/2020 | ZRanger1 | Created | # ---------------------------------------------------------------------------- # Standard library imports. import socket import errno import json import time import threading import math import base64 import struct import pathlib import pytz from re import T from typing import Union from enum import Enum , Flag , IntEnum , IntFlag from urllib.parse import urlparse , urljoin # Related third party imports. import websocket import requests # Local application/library specific imports. # -None- # ---------------------------------------------------------------------------- class Pixelblaze : DOCS \"\"\" The Pixelblaze class presents a simple synchronous interface to a single Pixelblaze's websocket API. The constructor takes the Pixelblaze's IPv4 address in the usual 12 digit numeric form (for example, \"192.168.4.1\"). To control multiple Pixelblazes, create multiple objects. The objective is to provide 99% coverage of the functionality of the Pixelblaze webUI, and so the supported methods are named and grouped according to the tabs of the webUI: **CREATION** - [`__init__()`](#method-init) - [`EnumerateAddresses()`](#method-enumerateaddresses) - [`EnumerateDevices()`](#method-enumeratedevices) **PATTERNS tab** *SEQUENCER section* - [`getSequencerMode`](#method-getSequencerMode)/[`setSequencerMode`](#method-setSequencerMode) - [`getSequencerState`](#method-getSequencerState)/[`setSequencerState`](#method-setSequencerState) - [`getSequencerShuffleTime`](#method-getSequencerShuffleTime)/[`setSequencerShuffleTime`](#method-setSequencerShuffleTime) - [`getSequencerPlaylist`](#method-getSequencerPlaylist)/[`addToSequencerPlaylist`](#method-addToSequencerPlaylist)/[`setSequencerPlaylist`](#method-setSequencerPlaylist) *SAVED PATTERNS section* - [`getPatternList`](#method-getPatternList) - [`getActivePattern`](#method-getActivePattern)/[`setActivePattern`](#method-setActivePattern) - [`getActiveVariables`](#method-getActiveVariables)/[`setActiveVariables`](#method-setActiveVariables) - [`getActiveControls`](#method-getActiveControls)/[`setActiveControls`](#method-setActiveControls) - [`deletePattern`](#method-deletePattern) - [`getPatternAsEpe`](#method-getPatternAsEpe) **EDIT tab** - [`getPatternControls`](#method-getPatternControls) - [`getPatternSourceCode`](#method-getPatternSourceCode) - [`sendPatternToRenderer`](#method-sendPatternToRenderer) - [`savePattern`](#method-savePattern) **MAPPER tab** - [`getMapFunction`](#method-getMapFunction)/[`setMapFunction`](#method-setMapFunction) - [`getMapData`](#method-getMapData)/[`setMapData`](#method-setMapData) **SETTINGS tab** - [`getConfigSettings`](#method-getConfigSettings) - [`getConfigSequencer`](#method-getConfigSequencer) - [`getConfigExpander`](#method-getConfigExpander) ***NAME section*** - [`getDeviceName`](#method-getDeviceName)/[`setDeviceName`](#method-setDeviceName) - [`getDiscovery`](#method-getDiscovery)/[`setDiscovery`](#method-setDiscovery) - [`getTimezone`](#method-getTimezone)/[`setTimezone`](#method-setTimezone) - [`getAutoOffEnable`](#method-getAutoOffEnable)/[`setAutoOffEnable`](#method-setAutoOffEnable) - [`getAutoOffStart`](#method-getAutoOffStart)/[`setAutoOffStart`](#method-setAutoOffStart) - [`getAutoOffEnd`](#method-getAutoOffEnd)/[`setAutoOffEnd`](#method-setAutoOffEnd) ***LED section*** - [`getBrightnessLimit`](#method-getBrightnessLimit)/[`setBrightnessLimit`](#method-setBrightnessLimit) - [`getLedType`](#method-getLedType)/[`setLedType`](#method-setLedType) - [`getPixelCount`](#method-getPixelCount)/[`setPixelCount`](#method-setPixelCount) - [`getDataSpeed`](#method-getDataSpeed)/[`setDataSpeed`](#method-setDataSpeed) - [`getColorOrder`](#method-getColorOrder)/[`setColorOrder`](#method-setColorOrder) - [`getCpuSpeed`](#method-getCpuSpeed)/[`setCpuSpeed`](#method-setCpuSpeed) - [`getNetworkPowerSave`](#method-getNetworkPowerSave)/[`setNetworkPowerSave`](#method-setNetworkPowerSave) ***UPDATES section*** - [`getUpdateState`](#method-getUpdateState)/[`installUpdate`](#method-installUpdate) - [`getVersion`](#method-getVersion)/[`getVersionMajor`](#method-getVersionMajor)/[`getVersionMinor`](#method-getVersionMinor)/ ***BACKUPS section*** - [`saveBackup`](#method-saveBackup)/[`restoreFromBackup`](#method-restoreFromBackup) - [`reboot`](#method-reboot) **ADVANCED tab** - [`getBrandName`](#method-getBrandName)/[`setBrandName`](#method-setBrandName) - [`getSimpleUiMode`](#method-getSimpleUiMode)/[`setSimpleUiMode`](#method-setSimpleUiMode) - [`getLearningUiMode`](#method-getLearningUiMode)/[`setLearningUiMode`](#method-setLearningUiMode) **GLOBAL CONTROLS** - [`getBrightnessSlider`](#method-getBrightnessSlider)/[`setBrightnessSlider`](#method-setBrightnessSlider) **LOW-LEVEL SEND/RECEIVE** - [`wsReceive`](#method-wsreceive) - [`wsSendJson`](#method-wssendjson) - [`wsSendBinary`](#method-wssendbinary) **FILESYSTEM** - [`getFileList`](#method-getfilelist) - [`getFile`](#method-getfile)/[`putFile`](#method-putfile)/[`deleteFile`](#method-deletefile) **STATISTICS** - [`getStatistics`](#method-getStatistics) - [`getFPS`](#method-getFPS) - [`getUptime`](#method-getUptime) - [`getStorageSize`](#method-getStorageSize) - [`getStorageUsed`](#method-getStorageUsed) \"\"\" # --- PRIVATE DATA default_recv_timeout = 1 ws = None connected = False ipAddress = None proxyUrl = None proxyDict = None # Pattern cache cacheRefreshTime = 0 cacheRefreshInterval = 1000 # milliseconds used internally patternCache = None # Parser state cache latestStats = None latestSequencer = None latestExpander = None latestVersion = None latestUpdateCheck = None connectionBroken = False # --- OBJECT LIFETIME MANAGEMENT (CREATION/DELETION) def __init__ ( self , ipAddress : str , * , proxyUrl : str = None ): \"\"\"Initializes an object for communicating with and controlling a Pixelblaze. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. \"\"\" self . proxyUrl = proxyUrl if not proxyUrl is None : self . proxyDict = { \"http\" : proxyUrl , \"https\" : proxyUrl } self . ipAddress = ipAddress self . _open () self . setCacheRefreshTime ( 600 ) # seconds used in public api def __enter__ ( self ): DOCS \"\"\"Internal class method for resource management. Returns: Pixelblaze: This object. \"\"\" return self def __exit__ ( self , exc_type , exc_value , traceback ): DOCS \"\"\"Internal class method for resource management. Args: exc_type (_type_): As per Python standard. exc_value (_type_): As per Python standard. traceback (_type_): As per Python standard. \"\"\" # Make sure we clean up after ourselves. if not self is None : self . _close () # --- STATIC METHODS class LightweightEnumerator : DOCS \"\"\"Internal implementation class for the [`EnumerateAddresses`](#method-enumerateaddresses) and [`EnumerateDevices`](#method-enumeratedevices) methods.\"\"\" # Enumerated type for the type of the Enumerator. class EnumeratorTypes ( IntEnum ): DOCS \"\"\"Enumerator to specify the desired LightweightEnumerator type.\"\"\" noType = 0 # Not used ipAddress = 1 # An enumerator that returns the IP Address of any Pixelblazes found. pixelblazeObject = 2 # An enumerator that returns a Pixelblaze object for any Pixelblazes found. # Members: listenSocket = None timeout = 0 timeStop = 0 seenPixelblazes = [] enumeratorType = EnumeratorTypes . noType proxyUrl = None # private constructor: def __init__ ( self , enumeratorType : EnumeratorTypes , * , timeout : int = 1500 , proxyUrl : str = None , hostIP : str = \"0.0.0.0\" ): \"\"\" Create an interable object that listens for Pixelblaze beacon packets, returning a Pixelblaze object for each unique beacon seen during the timeout period. Args: enumeratorType (EnumeratorTypes): Which of the available enumerator types to create. hostIP (str, optional): The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. timeout (int, optional): The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Note: This method is not intended to be called directly; use the static methods [`EnumerateAddresses`](#method-enumerateaddresses) or [`EnumerateDevices`](#method-enumeratedevices) to create and return an iterator object. \"\"\" try : self . enumeratorType = enumeratorType self . timeout = timeout self . proxyUrl = proxyUrl self . listenSocket = socket . socket ( socket . AF_INET , socket . SOCK_DGRAM ) self . listenSocket . setsockopt ( socket . SOL_SOCKET , socket . SO_REUSEADDR , 1 ) self . listenSocket . bind (( hostIP , 1889 )) except socket . error as e : print ( e ) def __del__ ( self ): DOCS \"\"\" Stop listening for datagrams, terminate listener thread and close socket. \"\"\" if self . listenSocket is not None : self . listenSocket . close () def __iter__ ( self ): # Return __iter__ object. return self def __next__ ( self ): DOCS \"\"\" Return the next Pixelblaze found, until the timeout expires. \"\"\" # If we receive a beacon packet from a new Pixelblaze, return an object for it. self . timeStop = self . _time_in_millis () + self . timeout while self . _time_in_millis () <= self . timeStop : data , ipAddress = self . listenSocket . recvfrom ( 1024 ) pkt = struct . unpack ( \"<LLL\" , data ) if pkt [ 0 ] == 42 : # beacon packet if ipAddress not in self . seenPixelblazes : # Add this address to our list so we don't repeat it. self . seenPixelblazes . append ( ipAddress ) # Return an enumerator of the appropriate type. if self . enumeratorType == Pixelblaze . LightweightEnumerator . EnumeratorTypes . ipAddress : return ipAddress [ 0 ] elif self . enumeratorType == Pixelblaze . LightweightEnumerator . EnumeratorTypes . pixelblazeObject : return Pixelblaze ( ipAddress [ 0 ], proxyUrl = self . proxyUrl ) else : # No such type...How did that happen? raise # Exit because the timeout has expired. raise StopIteration def _time_in_millis ( self ) -> int : \"\"\" Utility Method: Returns last 32 bits of the current time in milliseconds \"\"\" return int ( round ( time . time () * 1000 )) % 0xFFFFFFFF # Static methods: @staticmethod DOCS def EnumerateAddresses ( * , timeout : int = 1500 , proxyUrl : str = None , hostIP : str = \"0.0.0.0\" ) -> LightweightEnumerator : \"\"\"Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Args: hostIP (str, optional): The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. timeout (int, optional): The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: LightweightEnumerator: A subclassed Python enumerator object that returns (as a string) the IPv4 address of a Pixelblaze, in the usual dotted-quads numeric format. \"\"\" return Pixelblaze . LightweightEnumerator ( Pixelblaze . LightweightEnumerator . EnumeratorTypes . ipAddress , timeout = timeout , proxyUrl = proxyUrl , hostIP = hostIP ) @staticmethod DOCS def EnumerateDevices ( * , timeout : int = 1500 , proxyUrl : str = None , hostIP : str = \"0.0.0.0\" ) -> LightweightEnumerator : \"\"\"Returns an enumerator that will iterate through all the Pixelblazes on the local network, until {timeout} milliseconds have passed with no new devices appearing. Args: hostIP (str, optional): The network interface on which to listen for Pixelblazes. Defaults to \"0.0.0.0\" meaning all available interfaces. timeout (int, optional): The amount of time in milliseconds to listen for a new Pixelblaze to announce itself (They announce themselves once per second). Defaults to 1500. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: LightweightEnumerator: A subclassed Python enumerator object that returns a Pixelblaze object for controlling a discovered Pixelblaze. \"\"\" return Pixelblaze . LightweightEnumerator ( Pixelblaze . LightweightEnumerator . EnumeratorTypes . pixelblazeObject , timeout = timeout , proxyUrl = proxyUrl , hostIP = hostIP ) # --- CONNECTION MANAGEMENT def _open ( self ): \"\"\" Opens a websocket connection to the Pixelblaze. This is called automatically when a Pixelblaze object is created; it is not necessary to explicitly call open to connect unless the websocket has been explicitly closed by the user previously. \"\"\" if self . connected is False : uri = \"ws://\" + self . ipAddress + \":81\" retryCount = 0 while True : try : if self . proxyUrl is not None : url = urlparse ( self . proxyUrl ) self . ws = websocket . create_connection ( uri , sockopt = (( socket . SOL_SOCKET , socket . SO_REUSEADDR , 1 ), ( socket . IPPROTO_TCP , socket . TCP_NODELAY , 1 )), proxy_type = url . scheme , http_proxy_host = url . hostname , http_proxy_port = url . port ) else : self . ws = websocket . create_connection ( uri , sockopt = (( socket . SOL_SOCKET , socket . SO_REUSEADDR , 1 ), ( socket . IPPROTO_TCP , socket . TCP_NODELAY , 1 ),)) break except websocket . _exceptions . WebSocketConnectionClosedException : retryCount += 1 if retryCount >= 5 : raise self . ws . settimeout ( self . default_recv_timeout ) self . connected = True # Reset our caches so we'll get them afresh. self . latestStats = None self . latestUpdateCheck = None self . latestVersion = None self . latestSequencer = None self . latestExpander = None def _close ( self ): \"\"\"Close websocket connection.\"\"\" if self . connected is True : self . ws . close () self . connected = False # --- LOW-LEVEL SEND/RECEIVE class messageTypes ( IntEnum ): DOCS \"\"\"Types of binary messages sent and received by a Pixelblaze. The first byte of a binary frame contains the message type.\"\"\" putSourceCode = 1 # from client to PB putByteCode = 3 # from client to PB previewImage = 4 # from client to PB previewFrame = 5 # from PB to client getSourceCode = 6 # from PB to client getProgramList = 7 # from client to PB putPixelMap = 8 # from client to PB ExpanderConfig = 9 # from client to PB *and* PB to client class frameTypes ( Flag ): DOCS \"\"\"Continuation flags for messages sent and received by a Pixelblaze. The second byte of a binary frame tells whether this packet is part of a set.\"\"\" frameNone = 0 frameFirst = 1 frameMiddle = 2 frameLast = 4 def wsReceive ( self , * , binaryMessageType : messageTypes = None ) -> Union [ str , bytes , None ]: DOCS \"\"\"Wait for a message of a particular type from the Pixelblaze. Args: binaryMessageType (messageTypes, optional): The type of binary message to wait for (if None, waits for a text message). Defaults to None. Returns: Union[str, bytes, None]: The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. \"\"\" message = None startTime = self . _time_in_millis () # loop until we have all the packets we want or we hit timeout. while True : try : frame = self . ws . recv () if type ( frame ) is str : # Some frames are sent unrequested and often interrupt the conversation; we'll just # just save the most recent one and retrieve it later when we want it. if frame . startswith ( '{\"fps\":' ): self . latestStats = frame elif frame . startswith ( '{\"activeProgram\":' ): self . latestSequencer = frame # We wanted a text frame, we got a text frame. elif binaryMessageType is None : return frame else : frameType = frame [ 0 ] if frameType == self . messageTypes . previewFrame . value : # This packet type doesn't have frameType flags. if binaryMessageType == self . messageTypes . previewFrame : return frame [ 1 :] else : continue # We weren't looking for a preview frame, so ignore it. # Check the flags to see if we need to read more packets. frameFlags = frame [ 1 ] if message is None and not ( frameFlags & self . frameTypes . frameFirst . value ): raise # The first frame must be a start frame if message is not None and ( frameFlags & self . frameTypes . frameFirst . value ): raise # We shouldn't get a start frame after we've started if message is None : message = frame [ 2 :] # Start with the first packet... else : message += frame [ 2 :] #...and append the rest until we reach the end. # If we've received all the packets, deal with the message. if ( frameFlags & self . frameTypes . frameLast . value ): # Expander config frames are ONLY sent during a config request, but they sometimes arrive # out of order so we'll save them and retrieve them separately. if frameType == self . messageTypes . ExpanderConfig : self . latestExpander = self . __decodeExpanderData ( frame [ 2 :]) continue if frameType != binaryMessageType : print ( f \"got unwanted binary frame type { frameType } (wanted { binaryMessageType } )\" ) continue # skip this unwanted binary frame (which shouldn't really happen anyway) return message except websocket . _exceptions . WebSocketTimeoutException : # timeout -- we can just ignore this endTime = self . _time_in_millis () if ( endTime - startTime ) > ( 1000 * self . default_recv_timeout ): return None except websocket . _exceptions . WebSocketConnectionClosedException : # try reopening #print(\"wsReceive reconnection\") self . connectionBroken = True self . _close () self . _open () except IOError as e : if e . errno == errno . EPIPE : self . connectionBroken = True self . _close () self . _open () except Exception as e : self . connectionBroken = True print ( f \"wsReceive: unknown exception: { e } \" ) raise def sendPing ( self ) -> Union [ str , None ]: DOCS \"\"\"Send a Ping message to the Pixelblaze and wait for the Acknowledgement response. Returns: Union[str, None]: The acknowledgement message received from the Pixelblaze, or None if a timeout occurred. \"\"\" return self . wsSendJson ({ \"ping\" : True }, expectedResponse = \"ack\" ) def wsSendJson ( self , command : dict , * , expectedResponse = None ) -> Union [ str , bytes , None ]: DOCS \"\"\"Send a JSON-formatted command to the Pixelblaze, and optionally wait for a suitable response. Args: command (dict): A Python dictionary which will be sent to the Pixelblaze as a JSON command. expectedResponse (str, optional): If present, the initial key of the expected JSON response to the command. Defaults to None. Returns: Union[str, bytes, None]: The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. \"\"\" self . connectionBroken = False while True : try : self . _open () # make sure it's open, even if it closed while we were doing other things. self . ws . send ( json . dumps ( command , indent = None , separators = ( ',' , ':' )) . encode ( \"utf-8\" )) if expectedResponse is None : return None # If the pipe broke while we were sending, restart from the beginning. if self . connectionBroken : break # Wait for the expected response. while True : # Loop until we get the right text response. if type ( expectedResponse ) is str : response = self . wsReceive ( binaryMessageType = None ) if response is None : break if response . startswith ( f ' {{ \" { expectedResponse } \":' ): break # Or the right binary response. elif type ( expectedResponse ) is self . messageTypes : response = self . wsReceive ( binaryMessageType = expectedResponse ) break # Now that we've got the right response, return it. return response except websocket . _exceptions . WebSocketConnectionClosedException : self . connectionBroken = True self . _close () self . _open () # try reopening except IOError as e : if e . errno == errno . EPIPE : self . connectionBroken = True self . _close () self . _open () except : self . connectionBroken = True self . _close () self . _open () # try reopening #raise def wsSendBinary ( self , binaryMessageType : messageTypes , blob : bytes , * , expectedResponse : str = None ): DOCS \"\"\"Send a binary command to the Pixelblaze, and optionally wait for a suitable response. Args: binaryMessageType (messageTypes, optional): The type of binary message to send. blob (bytes): The message body to be sent. expectedResponse (str, optional): If present, the initial key of the expected JSON response to the command. Defaults to None. Returns: response: The message received from the Pixelblaze (of type bytes for binaryMessageTypes, otherwise of type str), or None if a timeout occurred. \"\"\" self . connectionBroken = False while True : try : # Break the frame into manageable chunks. response = None maxFrameSize = 8192 if binaryMessageType == self . messageTypes . putByteCode : maxFrameSize = 1280 for i in range ( 0 , len ( blob ), maxFrameSize ): # Set the frame header values. frameHeader = bytearray ( 2 ) frameHeader [ 0 ] = binaryMessageType . value frameFlag = self . frameTypes . frameNone if i == 0 : frameFlag |= self . frameTypes . frameFirst if ( len ( blob ) - i ) <= maxFrameSize : frameFlag |= self . frameTypes . frameLast else : frameFlag = self . frameTypes . frameMiddle frameHeader [ 1 ] = frameFlag . value # Send the packet. self . ws . send_binary ( bytes ( frameHeader ) + blob [ i : i + maxFrameSize ]) # If the pipe broke while we were sending, restart from the beginning. if self . connectionBroken : break # Wait for the expected response. while True : # Loop until we get the right text response. if type ( expectedResponse ) is str : response = self . wsReceive ( binaryMessageType = None ) if response is None : break if response . startswith ( expectedResponse ): break # Or the right binary response. elif type ( expectedResponse ) is self . messageTypes : response = self . wsReceive ( binaryMessageType = expectedResponse ) break # Now that we've sent all the chunks, return the last status received. return response except websocket . _exceptions . WebSocketConnectionClosedException : print ( \"wsSendBinary reconnection\" ) # try reopening self . connectionBroken = True self . _close () self . _open () except IOError as e : if e . errno == errno . EPIPE : self . connectionBroken = True self . _close () self . _open () except : print ( \"wsSendBinary received unexpected exception\" ) # try reopening self . connectionBroken = True self . _close () self . _open () #raise def getPeers ( self ): DOCS \"\"\"A new command, added to the API but not yet implemented as of v2.29/v3.24, that will return a list of all the Pixelblazes visible on the local network segment. Returns: TBD: To be defined once @wizard implements the function. \"\"\" self . wsSendJson ({ \"getPeers\" : True }) return self . wsReceive ( binaryMessageType = None ) # --- PIXELBLAZE FILESYSTEM FUNCTIONS: def getUrl ( self , endpoint : str = None ) -> str : DOCS \"\"\"Build the URL to communicate with the Pixelblaze using an HTTP endpoint. Args: endpoint (str, optional): The HTTP endpoint. Defaults to None, which returns the URL of the Pixelblaze webUI. Returns: str: The URL of the HTTP endpoint on the Pixelblaze. \"\"\" return urljoin ( f \"http:// { self . ipAddress } \" , endpoint ) class fileTypes ( IntFlag ): DOCS \"\"\"A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files.\"\"\" fileConfig = 1 filePattern = 2 filePatternSetting = 4 filePlaylist = 8 fileSystem = 16 fileOther = 32 fileAll = fileConfig | filePattern | filePatternSetting | filePlaylist | fileSystem | fileOther def getFileList ( self , fileTypes : fileTypes = fileTypes . fileAll ) -> list [ str ]: DOCS \"\"\"Returns a list of all the files of a particular type stored on the Pixelblaze's filesystem. For Pixelblazes running firmware versions lower than 2.29/3.24 (the point at which the necessary API was introduced), the list includes the names of optional configuration files that may or may not exist on a particular Pixelblaze, depending on its setup. Args: fileTypes (fileTypes, optional): A bitmasked enumeration of the fileTypes to be listed. Defaults to fileTypes.fileAll. Returns: list[str]: A list of filenames of the requested fileType. \"\"\" fileList = [] with requests . get ( self . getUrl ( \"list\" ), proxies = self . proxyDict ) as rList : if rList . status_code == 200 : for line in rList . text . split ( ' \\n ' ): fileName = line . split ( ' \\t ' )[ 0 ] # '/list' returns a number of lines, each containing [filename][tab][size][newline] if len ( fileName ) > 0 : fileList . append ( fileName ) # '/list' returns a blank line at the end. elif rList . status_code == 404 : # If the Pixelblaze doesn't support the \"/list\" endpoint, get the patternList using WebSocket calls. fileList = [] for fileName in self . getPatternList (): fileList . append ( f \"/p/ { fileName } \" ) # the pattern blob fileList . append ( f \"/p/ { fileName } .c\" ) # the current value of any (optional) UI controls # Append the names of all the other files a Pixelblaze might contain, some of which may not exist on any particular device. for fileName in [ \"apple-touch-icon.png\" , \"favicon.ico\" , \"config.json\" , \"obconf.dat\" , \"pixelmap.txt\" , \"pixelmap.dat\" , \"l/_defaultplaylist_\" ]: fileList . append ( f \"/ { fileName } \" ) else : rList . raise_for_status () # Filter the list depending on the fileTypes requested. for fileName in list ( fileList ): # fileConfigs: if fileName [ 1 :] in [ \"config.json\" , \"config2.json\" , \"obconf.dat\" , \"pixelmap.txt\" , \"pixelmap.dat\" ]: if not bool ( fileTypes & self . fileTypes . fileConfig ): fileList . remove ( fileName ) # filePatterns and filePatternSettings: elif fileName . startswith ( \"/p/\" ): if fileName . endswith ( \".c\" ): # filePatternSettings: if not bool ( fileTypes & self . fileTypes . filePatternSetting ): fileList . remove ( fileName ) else : # filePattern: if not bool ( fileTypes & self . fileTypes . filePattern ): fileList . remove ( fileName ) # filePlaylists: elif fileName . startswith ( \"/l/\" ): if not bool ( fileTypes & self . fileTypes . filePlaylist ): fileList . remove ( fileName ) # fileSystem: elif fileName . endswith ( \".gz\" ): if not bool ( fileTypes & self . fileTypes . fileSystem ): fileList . remove ( fileName ) # fileOthers: else : # Ignore the blank line returned by the '/list' endpoint. if not bool ( fileTypes & self . fileTypes . fileOther ): fileList . remove ( fileName ) # Return the filtered list. fileList . sort () return fileList def getFile ( self , fileName : str ) -> bytes : DOCS \"\"\"Downloads a file from the Pixelblaze using the HTTP API. Args: fileName (str): The pathname (as returned from `getFileList`) of the file to be downloaded. Returns: bytes: The contents of the file. \"\"\" with requests . get ( self . getUrl ( fileName ), proxies = self . proxyDict ) as rGet : if rGet . status_code not in [ 200 , 404 ]: rGet . raise_for_status () if rGet . status_code != 200 : return None return rGet . content def putFile ( self , fileName : str , fileContents : bytes ) -> bool : DOCS \"\"\"Uploads a file to the Pixelblaze using the HTTP API. Args: fileName (str): The pathname at which to store the file. fileContents (bytes): The data to store in the file. Returns: bool: True if the file was successfully stored; False otherwise. \"\"\" fileData = { 'data' : ( fileName , fileContents )} with requests . post ( self . getUrl ( \"edit\" ), files = fileData , proxies = self . proxyDict ) as rPost : if rPost . status_code != 200 : rPost . raise_for_status () return False return True def deleteFile ( self , fileName : str ) -> bool : DOCS \"\"\"Deletes a file from this Pixelblaze using the HTTP API. Args: fileName (str): The pathname (as returned from `getFileList`) of the file to be deleted. Returns: bool: True if the file was successfully stored; False otherwise. \"\"\" with requests . get ( self . getUrl ( f \"delete?path= { fileName } \" ), proxies = self . proxyDict ) as rFile : if rFile . status_code not in [ 200 , 404 ]: rFile . raise_for_status () return False return True # --- GLOBAL functions: RENDERER STATISTICS: def getStatistics ( self ) -> dict : DOCS \"\"\"Grab one of the statistical packets that Pixelblaze sends every second. Returns: dict: the JSON message received from the Pixelblaze. \"\"\" self . setSendPreviewFrames ( True ) # Make sure the Pixelblaze will send something. while True : if not self . latestStats is None : return json . loads ( self . latestStats ) ignored = self . wsReceive ( binaryMessageType = None ) def setSendPreviewFrames ( self , doUpdates : bool ): DOCS \"\"\"Set whether or not the Pixelblaze sends pattern preview frames. Args: doUpdates (bool): True sends preview frames, False stops. \"\"\" assert type ( doUpdates ) is bool if doUpdates is True : response = self . messageTypes . previewFrame else : response = None self . wsSendJson ({ \"sendUpdates\" : doUpdates }, expectedResponse = response ) def getPreviewFrame ( self ) -> bytes : DOCS \"\"\"Grab one of the preview frames that Pixelblaze sends after every render cycle. Returns: bytes: a collection of bytes representing `pixelCount` tuples containing the (R, G, B) values for each pixel in the pattern preview. \"\"\" oldTimeout = self . ws . gettimeout () self . ws . settimeout ( 2 * self . default_recv_timeout ) response = self . wsReceive ( binaryMessageType = self . messageTypes . previewFrame ) self . ws . settimeout ( oldTimeout ) return response # --- GLOBAL functions: RENDERER STATISTICS: helper functions: \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings anew.\"\"\" def getFPS ( self , savedStatistics : dict = None ) -> float : DOCS \"\"\"Return the speed (in Frames per Second) of the pattern rendering. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int: The pattern speed in FPS, as reported in a Pixelblaze statistics message. \"\"\" if savedStatistics is None : savedStatistics = self . getStatistics () return savedStatistics . get ( 'fps' ) def getUptime ( self , savedStatistics : dict = None ) -> int : DOCS \"\"\"Return the uptime (in seconds) of the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int: The uptime in seconds, as reported in a Pixelblaze statistics message. \"\"\" if savedStatistics is None : savedStatistics = self . getStatistics () return savedStatistics . get ( 'uptime' ) def getStorageUsed ( self , savedStatistics : dict = None ) -> int : DOCS \"\"\"Return the amount of Flash storage used on the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int: The used storage in bytes, as reported in a Pixelblaze statistics message. \"\"\" if savedStatistics is None : savedStatistics = self . getStatistics () return savedStatistics . get ( 'storageUsed' ) def getStorageSize ( self , savedStatistics : dict = None ) -> int : DOCS \"\"\"Return the available Flash storage on the Pixelblaze. Args: savedStatistics (dict, optional): If provided, extracts the value from the results of a previous call to 'getStatistics`; otherwise, fetches the statistics from the Pixelblaze anew. Defaults to None. Returns: int: The available storage in bytes, as reported in a Pixelblaze statistics message. \"\"\" if savedStatistics is None : savedStatistics = self . getStatistics () return savedStatistics . get ( 'storageSize' ) # --- GLOBAL functions: CONTROLS (available on all tabs): def setBrightnessSlider ( self , brightness : float , * , saveToFlash : bool = False ): DOCS \"\"\"Set the value of the UI brightness slider. Args: brightness (float): A floating-point value between 0.0 and 1.0. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"brightness\" : self . _clamp ( brightness , 0 , 1 ), \"save\" : saveToFlash }, expectedResponse = None ) # --- GLOBAL functions: CONTROLS: helper functions: \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings from the Pixelblaze anew.\"\"\" def getBrightnessSlider ( self , configSettings : dict = None ) -> float : DOCS \"\"\"Get the value of the UI brightness slider. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: float: A floating-point value between 0.0 and 1.0. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'brightness' ) # --- PATTERNS tab: SEQUENCER section class sequencerModes ( IntEnum ): DOCS Off = 0 ShuffleAll = 1 Playlist = 2 def setSequencerMode ( self , sequencerMode : sequencerModes , * , saveToFlash : bool = False ): DOCS \"\"\"Sets the sequencer mode to one of the available sequencerModes (Off, ShuffleAll, or Playlist). Args: sequencerMode (enum): The desired sequencer mode. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"sequencerMode\" : sequencerMode , \"save\" : saveToFlash }, expectedResponse = None ) def setSequencerState ( self , sequencerState : bool , * , saveToFlash : bool = False ): DOCS \"\"\"Set the run state of the sequencer. Args: sequencerState (bool): A boolean value determining whether or not the sequencer should run. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"runSequencer\" : sequencerState }, expectedResponse = None ) # --- PATTERNS tab: SEQUENCER section: helper functions: \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings anew.\"\"\" def getSequencerMode ( self , configSequencer : dict = None ) -> sequencerModes : DOCS \"\"\"Gets the current sequencer mode. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSequencer`; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: sequencerModes: The sequencerMode. \"\"\" if configSequencer is None : configSequencer = self . getConfigSequencer () return configSequencer . get ( 'sequencerMode' ) def getSequencerState ( self , configSequencer : dict = None ) -> bool : DOCS \"\"\"Gets the current sequencer run state. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSequencer`; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: bool: True if the sequencer is running; False otherwise. \"\"\" if configSequencer is None : configSequencer = self . getConfigSequencer () return configSequencer . get ( 'runSequencer' ) # --- PATTERNS tab: SEQUENCER section: SHUFFLE ALL mode def playSequencer ( self , * , saveToFlash : bool = False ): DOCS \"\"\"Mimics the 'Play' button in the UI. Starts the pattern sequencer, the consequences of which will vary depending upon the sequencerMode. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . setSequencerState ( True , saveToFlash ) def pauseSequencer ( self , * , saveToFlash : bool = False ): DOCS \"\"\"Mimics the 'Pause' button in the UI. Pauses the pattern sequencer, without changing the current position in the shuffle or playlist. Has no effect if the sequencer is not currently running. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . setSequencerState ( False , saveToFlash ) def nextSequencer ( self , * , saveToFlash : bool = False ): DOCS \"\"\"Mimics the 'Next' button in the UI. If the sequencerMode is ShuffleAll or Playlist, advances the pattern sequencer to the next pattern. Args: saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"nextProgram\" : True , \"save\" : saveToFlash }, expectedResponse = None ) def setSequencerShuffleTime ( self , nMillis : int , * , saveToFlash : bool = False ): DOCS \"\"\"Sets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Args: nMillis (int): The number of milliseconds to play each pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"sequenceTimer\" : nMillis , \"save\" : saveToFlash }, expectedResponse = None ) # --- PATTERNS tab: SEQUENCER section: helper functions: \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings anew.\"\"\" def getSequencerShuffleTime ( self , configSequencer : dict = None ) -> int : DOCS \"\"\"Gets the time the Pixelblaze's sequencer will run each pattern before switching to the next. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSequencer`; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: int: The number of milliseconds to play each pattern. \"\"\" if configSequencer is None : configSequencer = self . getConfigSequencer () return configSequencer . get ( \"ms\" ) # --- PATTERNS tab: SEQUENCER section: PLAYLIST mode def getSequencerPlaylist ( self , playlistId : str = \"_defaultplaylist_\" ): DOCS \"\"\"Fetches the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Args: playlistId (str, optional): The name of the playlist (for future enhancement; currently only '_defaultplaylist_' is supported). Defaults to \"_defaultplaylist_\". Returns: dict: The contents of the playlist. \"\"\" return json . loads ( self . wsSendJson ({ \"getPlaylist\" : playlistId }, expectedResponse = \"playlist\" )) def setSequencerPlaylist ( self , playlistContents : dict , playlistId : str = \"_defaultplaylist_\" ): DOCS \"\"\"Replaces the entire contents of the specified playlist. At the moment, only the default playlist is supported by the Pixelblaze. Args: playlistContents (dict): The new playlist contents. playlistId (str, optional): The name of the playlist (for future enhancement; currently only '_defaultplaylist_' is supported). Defaults to \"_defaultplaylist_\". \"\"\" self . latestSequencer = None # clear cache to force refresh ignored = self . wsSendJson ( playlistContents , expectedResponse = None ) def addToSequencerPlaylist ( self , playlistContents : dict , * , patternId : str , duration : int ) -> dict : DOCS \"\"\"Appends a new entry to the specified playlist. Args: patternId (str): The patternId of the pattern to be played. duration (int): The number of milliseconds to play the pattern. playlistContents (dict): The results of a previous call to `getSequencerPlaylist`. Returns: dict: The updated playlist, which can then be sent back to the Pixelblaze with `setSequencerPlaylist`. \"\"\" playlistContents . get ( 'playlist' ) . get ( 'items' ) . append ({ 'id' : patternId , 'ms' : duration }) return playlistContents # --- PATTERNS tab: SAVED PATTERNS section def getPatternList ( self , forceRefresh : bool = False ) -> dict : DOCS \"\"\"Returns a list of all the patterns saved on the Pixelblaze. Normally reads from the cached pattern list, which is refreshed every 10 minutes by default. To change the cache refresh interval, call setCacheRefreshTime(seconds). Args: forceRefresh (bool, optional): Forces a refresh of the cached patternList. Defaults to False. Returns: dict: A dictionary of the patterns stored on the Pixelblaze, where the patternId is the key and the patternName is the value. \"\"\" if forceRefresh is True or (( self . _time_in_millis () - self . cacheRefreshTime ) > self . cacheRefreshInterval ): # Update the patternList cache. newPatternCache = dict () oldTimeout = self . ws . gettimeout () self . ws . settimeout ( 3 * self . default_recv_timeout ) response = self . wsSendJson ({ \"listPrograms\" : True }, expectedResponse = self . messageTypes . getProgramList ) self . ws . settimeout ( oldTimeout ) if response is not None : for pattern in [ m . split ( \" \\t \" ) for m in response . decode ( \"utf-8\" ) . split ( \" \\n \" )]: if len ( pattern ) == 2 : newPatternCache [ pattern [ 0 ]] = pattern [ 1 ] self . patternCache = newPatternCache self . cacheRefreshTime = self . _time_in_millis () # Return the cached list. return self . patternCache def setActivePattern ( self , patternId : str , * , saveToFlash : bool = False ): DOCS \"\"\"Sets the active pattern. Args: patternId (str): The patternId of the desired pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" \"\"\"Functionality changed.\"\"\" if len ( patternId ) != 17 : self . __printDeprecationMessage ( self . deprecationReasons . functionalityChanged , \"setActivePattern(name_or_id)\" , \"setActivePattern(id)/setActivePatternByName(name\" ) self . wsSendJson ({ \"activeProgramId\" : patternId , \"save\" : saveToFlash }, expectedResponse = \"activeProgram\" ) def getPatternAsEpe ( self , patternId : str ) -> str : DOCS \"\"\"Convert a stored pattern into an exportable, portable JSON format (which then needs to be saved by the caller). Args: patternId (str): The patternId of the desired pattern. Returns: str: The exported pattern as a JSON dictionary. \"\"\" # Request the pattern elements from the Pixelblaze and combine them into an EPE. epe = { 'name' : self . getPatternList ( refresh = True ) . get ( patternId , \"Unknown Pattern\" ), 'id' : patternId , 'sources' : json . loads ( self . getPatternSourceCode ( patternId )), 'preview' : base64 . b64encode ( self . getPreviewImage ( patternId )) . decode ( 'UTF-8' ) } return json . dumps ( epe , indent = 2 ) def deletePattern ( self , patternId : str ): DOCS \"\"\"Delete a pattern saved on the Pixelblaze. Args: patternId (str): The patternId of the desired pattern. \"\"\" self . wsSendJson ({ \"deleteProgram\" : patternId }, expectedResponse = None ) def getPreviewImage ( self , patternId : str ) -> bytes : DOCS \"\"\"Gets the preview image (a JPEG with 150 iterations of the pattern) saved within a pattern. Args: patternId (str): The patternId of the desired pattern. Returns: bytes: A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. \"\"\" return self . wsSendJson ({ \"getPreviewImg\" : patternId }, expectedResponse = self . messageTypes . previewImage ) def getActiveVariables ( self ) -> dict : DOCS \"\"\"Gets the names and values of all variables exported by the current pattern. Returns: dict: A dictionary containing all the variables exported by the active pattern, with variableName as the key and variableValue as the value. \"\"\" return json . loads ( self . wsSendJson ({ \"getVars\" : True }, expectedResponse = \"vars\" )) def setActiveVariables ( self , dictVariables : dict ): DOCS \"\"\"Sets the values of one or more variables exported by the current pattern. Variables not present in the current pattern are ignored. Args: dict: A dictionary containing the variables to be set, with variableName as the key and variableValue as the value. \"\"\" self . wsSendJson ({ \"setVars\" : dictVariables }, expectedResponse = None ) def setActiveControls ( self , dictControls : dict , * , saveToFlash : bool = False ): DOCS \"\"\"Sets the value of one or more UI controls exported from the active pattern. Args: dictControls (dict): A dictionary containing the values to be set, with controlName as the key and controlValue as the value. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"setControls\" : json . dumps ( dictControls ), \"save\" : saveToFlash }, expectedResponse = \"ack\" ) # --- PATTERNS tab: SAVED PATTERNS section: convenience functions \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings anew.\"\"\" def getActivePattern ( self , configSequencer : dict = None ) -> str : DOCS \"\"\"Returns the ID of the pattern currently running on the Pixelblaze. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSequencer`; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: str: The patternId of the current pattern, if any; otherwise an empty string. \"\"\" if configSequencer is None : configSequencer = self . getConfigSequencer () return configSequencer . get ( 'activeProgram' ) . get ( 'activeProgramId' , '' ) def getActiveControls ( self , configSequencer : dict = None ) -> dict : DOCS \"\"\"Returns the collection of controls for the pattern currently running on the Pixelblaze. If there are no controls or no pattern has been set, returns an empty dictionary. Args: configSequencer (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSequencer`; otherwise, fetches the configSequencer from the Pixelblaze anew. Defaults to None. Returns: dict: A dictionary containing the control names and values, with controlName as the key and controlValue as the value. \"\"\" if configSequencer is None : configSequencer = self . getConfigSequencer () return configSequencer . get ( 'activeProgram' , {}) . get ( 'controls' , {}) # --- EDIT tab: def getPatternControls ( self , patternId : str ) -> dict : DOCS \"\"\"Returns the name and value of any UI controls exported by the specified pattern. Args: patternId (str): The patternId of the pattern. Returns: dict: A dictionary containing the control names and values, with controlName as the key and controlValue as the value. \"\"\" response = self . wsSendJson ({ \"getControls\" : patternId }, expectedResponse = \"controls\" ) if not response is None : return json . loads ( response ) return None def getPatternSourceCode ( self , patternId : str ) -> str : DOCS \"\"\"Gets the sourceCode of a saved pattern from the Pixelblaze. Args: patternId (str): The patternId of the desired pattern. Returns: str: A string representation of a JSON dictionary containing the pattern source code. \"\"\" sources = self . wsSendJson ({ \"getSources\" : patternId }, expectedResponse = self . messageTypes . getSourceCode ) if sources is not None : return _LZstring . decompress ( sources ) return None def sendPatternToRenderer ( self , bytecode : bytes , controls : dict = {}): DOCS \"\"\"Sends a blob of bytecode and a JSON dictionary of UI controls to the Renderer. Mimics the actions of the webUI code editor. Args: bytecode (bytes): A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. controls (dict, optional): a dictionary of UI controls exported by the pattern, with controlName as the key and controlValue as the value. Defaults to {}. \"\"\" self . wsSendJson ({ \"pause\" : True , \"setCode\" :{ \"size\" : len ( bytecode )}}, expectedResponse = \"ack\" ) self . wsSendBinary ( self . messageTypes . putByteCode , bytecode , expectedResponse = \"ack\" ) self . wsSendJson ({ \"setControls\" : controls }, expectedResponse = \"ack\" ) self . wsSendJson ({ \"pause\" : False }, expectedResponse = \"ack\" ) def savePattern ( self , * , previewImage : bytes , sourceCode : str , byteCode : bytes ): DOCS \"\"\"Saves a new pattern to the Pixelblaze filesystem. Mimics the effects of the 'Save' button. If you don't know how to generate the previewImage and byteCode components, you don't want to do this. Args: previewImage (bytes): A JPEG image in which each column represents a particular LED and each row represents an iteration of the pattern. sourceCode (str): A string representation of a JSON dictionary containing the pattern source code. byteCode (bytes): A valid blob of bytecode as generated by the Editor tab in the Pixelblaze webUI. \"\"\" self . wsSendBinary ( self . messageTypes . previewImage , previewImage , expectedResponse = \"ack\" ) self . wsSendBinary ( self . messageTypes . putSourceCode , _LZstring . compress ( sourceCode ), expectedResponse = \"ack\" ) self . wsSendBinary ( self . messageTypes . putByteCode , byteCode , expectedResponse = \"ack\" ) # --- MAPPER tab: Pixelmap settings def getMapFunction ( self ) -> str : DOCS \"\"\"Returns the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Returns: str: The text of the mapFunction. \"\"\" return self . getFile ( \"/pixelmap.txt\" ) def setMapFunction ( self , mapFunction : str ) -> bool : DOCS \"\"\"Sets the mapFunction text used to populate the Mapper tab in the Pixelblaze UI. Note that this is does not change the mapData used by the Pixelblaze; the Mapper tab in the Pixelblaze UI compiles this text to produce binary mapData which is saved separately (see the `setMapData` function). Args: mapFunction (str): The text of the mapFunction. Returns: bool: True if the function text was successfully saved; otherwise False. \"\"\" # TBD: Using an embeddable Javscript intepreter like dukpy (https://github.com/amol-/dukpy) it would # be possible to execute the mapFunction text and generate the binary mapData, which is what the Pixelblaze # map editor does whenever the map function is changed. return self . putFile ( '/pixelmap.txt' , mapFunction ) def getMapData ( self ) -> bytes : DOCS \"\"\"Gets the binary representation of the pixelMap entered on the 'Mapper' tab. Returns: bytes: The binary mapData as generated by the Mapper tab of the Pixelblaze webUI. \"\"\" return self . getFile ( '/pixelmap.dat' ) def setMapData ( self , mapData : bytes , * , saveToFlash : bool = True ): DOCS \"\"\"Sets the binary mapData used by the Pixelblaze. Args: mapData (bytes): a blob of binary mapData as generated by the Mapper tab of the Pixelblaze webUI. saveToFlash (bool, optional): A boolean indicating whether the mapData should be saved to Flash. Defaults to True. \"\"\" # Send the mapData... self . wsSendBinary ( self . messageTypes . putPixelMap , mapData , expectedResponse = \"ack\" ) # ...and make it permanent (same as pressing \"Save\" in the map editor). if saveToFlash : self . wsSendJson ({ \"savePixelMap\" : True }, expectedResponse = None ) # --- SETTINGS menu def getConfigSettings ( self ) -> dict : DOCS \"\"\"Returns the configuration as defined on the Settings tab of the Pixelblaze. Returns: dict: A dictionary containing the configuration settings, with settingName as the key and settingValue as the value. \"\"\" # In response to this command, the Pixelblaze actually returns three separate messages representing the # configuration of the Settings page, the configuration of the Sequencer and and the configuration of the outputExpander (if it exists). # The Settings configuration is a JSON message and always comes first; the Sequencer configuration (a JSON message) # and the OutputExpander configuration (a binary message) can come in either order so we have to be flexible in what we accept. self . latestSequencer = None # clear cache to force refresh self . latestExpander = None # clear cache to force refresh # First the config packet. settings = {} while True : self . wsSendJson ({ \"getConfig\" : True }, expectedResponse = None ) response = self . wsReceive ( binaryMessageType = None ) if not response is None : settings = json . loads ( response ) break # Now the others, in any order. while True : if ( self . latestSequencer is None ) or ( self . latestExpander is None ): ignored = self . wsReceive ( binaryMessageType = None ) break # Now that we've got them all, return the settings. return settings def getConfigSequencer ( self ) -> dict : DOCS \"\"\"Retrieves the Sequencer state. Returns: dict: The sequencer configuration as a dictionary, with settingName as the key and settingValue as the value. \"\"\" self . latestSequencer = None while True : if self . latestSequencer is None : ignored = self . getConfigSettings () return json . loads ( self . latestSequencer ) def getConfigExpander ( self ) -> dict : DOCS \"\"\"Retrieves the OutputExpander configuration. Returns: dict: The OutputExpander configuration as a dictionary, with settingName as the key and settingValue as the value. \"\"\" while True : if not self . latestExpander is None : return self . latestExpander ignored = self . getConfigSettings () def __decodeExpanderData ( self , data : bytes ) -> dict : \"\"\"An internal function to convert the OutputExpander from its native binary format into a human-readable JSON representation. Args: data (bytes): The binary OutputExpander blob received from the Pixelblaze. Returns: dict: A human-readable dictionary of the configuration items. \"\"\" # Check that we support the version number. versionNumber = data [ 0 ] if versionNumber != 5 : return { 'expanders' : [], 'error' : f \"expander data has incorrect magic number (expected 5, received { versionNumber } )\" } # Parse the rest of the data. binaryData = data [ 1 :] binarySize = len ( binaryData ) if binarySize % 96 != 0 : return { 'expanders' : [], 'error' : f \"expander data has incorrect length (must be a multiple of 96, received { versionNumber } )\" } # Convert the file to a human-readable equivalent. rowSize = 12 boards = { 'expanders' : [ ] } #ledTypes = [ 'notUsed', 'WS2812B', 'drawAll', 'APA102 Data', 'APA102 Clock' ] colorOrders = { 0x24 : 'RGB' , 0x18 : 'RBG' , 0x09 : 'BRG' , 0x06 : 'BGR' , 0x21 : 'GRB' , 0x12 : 'GBR' , 0xE4 : 'RGBW' , 0xE1 : 'GRBW' } for row in range ( binarySize // rowSize ): offsets = struct . unpack ( '<4B2H4x' , binaryData [( row * rowSize ):( row + 1 ) * rowSize ]) boardAddress = offsets [ 0 ] >> 3 channel = offsets [ 0 ] % 8 ledType = offsets [ 1 ] numElements = offsets [ 2 ] colorOrder = offsets [ 3 ] pixelCount = offsets [ 4 ] startIndex = offsets [ 5 ] dataSpeed = offsets [ 6 : 10 ] # boardAddress # channel | type | startIndex | pixelCount | colorOrder | dataSpeed board = row // 8 rowNumber = row % 8 if rowNumber == 0 : # start a new board boards [ 'expanders' ] . append ( { 'address' : boardAddress , 'rows' : { } } ) boards [ 'expanders' ][ board ][ 'rows' ][ rowNumber ] = [ ] if ledType == 1 or ledType == 3 : boards [ 'expanders' ][ board ][ 'rows' ][ rowNumber ] . append ( { 'channel' : channel , 'type' : ledType , 'startIndex' : startIndex , 'count' : pixelCount , 'options' : colorOrders [ colorOrder ], 'dataSpeed' : dataSpeed } ) else : boards [ 'expanders' ][ board ][ 'rows' ][ rowNumber ] . append ( { 'channel' : channel , 'type' : ledType } ) # Return the finished configuration. return boards # --- SETTINGS menu: CONTROLLER section: NAME settings def setDeviceName ( self , name : str ): DOCS \"\"\"Sets the device name of the Pixelblaze. Args: name (str): The human-readable name of the Pixelblaze. \"\"\" self . wsSendJson ({ \"name\" : name }, expectedResponse = None ) def setDiscovery ( self , enableDiscovery : bool , timezoneName : str = None ): DOCS \"\"\"Sets whether this Pixelblaze announces its presence to (and gets a clocktime reference from) the Electromage Discovery Service. Args: enableDiscovery (bool): A boolean controlling whether or not this Pixelblaze announces itself to the Electromage Discovery Service. timezoneName (str, optional): If present, a Unix tzstring specifying how to adjust the clocktime reference received from the Electromage Discovery Service. Defaults to None. \"\"\" if timezoneName is not None : # Validate the timezone name. if not timezoneName in pytz . all_timezones : print ( f \"setDiscovery: unrecognized timezone { timezoneName } \" ) return self . wsSendJson ({ \"discoveryEnable\" : enableDiscovery , \"timezone\" : timezoneName }, expectedResponse = None ) def setTimezone ( self , timezoneName : str ): DOCS \"\"\"Sets the Pixelblaze's timezone, which specifies how to adjust the clocktime reference provided by the Electromage Discovery Service. To clear the timezone, pass an empty string. Args: timezoneName (str): A Unix tzstring specifying how to adjust the clocktime reference provided by the Electromage Discovery Service. \"\"\" if len ( timezoneName ) > 0 : # Validate the timezone name. if not timezoneName in pytz . all_timezones : raise ValueError ( f \"setDiscovery: unrecognized timezone { timezoneName } \" ) self . wsSendJson ({ \"timezone\" : timezoneName }, expectedResponse = None ) def setAutoOffEnable ( self , boolValue : bool , * , saveToFlash : bool = False ): DOCS \"\"\"Enables or disables the Pixelblaze's auto-Off scheduler. Args: boolValue (bool): A boolean indicating whether the auto-Off scheduler should be used. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"autoOffEnable\" : boolValue , \"save\" : saveToFlash }, expectedResponse = None ) def setAutoOffStart ( self , timeValue : str , saveToFlash : bool = False ): DOCS \"\"\"Sets the time at which the Pixelblaze will turn off the pattern. Args: timeValue (str): A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" #if type(timeValue) is time: timeValue = timeValue.strftime('%H:%M') self . wsSendJson ({ \"autoOffStart\" : timeValue , \"save\" : saveToFlash }, expectedResponse = None ) def setAutoOffEnd ( self , timeValue : str , saveToFlash : bool = False ): DOCS \"\"\"Sets the time at which the Pixelblaze will turn on the pattern. Args: timeValue (str): A Unix time string in \"HH:MM\" format. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" #if type(timeValue) is time: timeValue = timeValue.strftime('%H:%M') self . wsSendJson ({ \"autoOffEnd\" : timeValue , \"save\" : saveToFlash }, expectedResponse = None ) # --- SETTINGS menu: CONTROLLER section: NAME settings: helper functions: \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings anew.\"\"\" def getDeviceName ( self , configSettings : dict = None ) -> str : DOCS \"\"\"Returns the user-friendly name of the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str: The user-friendly name of the Pixelblaze. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'name' ) def getDiscovery ( self , configSettings : dict = None ) -> bool : DOCS \"\"\" Returns a boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool: A boolean signifying whether the Pixelblaze announces itself to the Electromage Discovery Service. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'discoveryEnable' ) def getTimezone ( self , configSettings : dict = None ) -> str : DOCS \"\"\"Returns the timezone, if any, for the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str: A standard Unix tzstring. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'timezone' ) def getAutoOffEnable ( self , configSettings : dict = None ) -> bool : DOCS \"\"\"Returns whether the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool: A boolean indicating whether the auto-Off timer is enabled. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'autoOffEnable' ) def getAutoOffStart ( self , configSettings : dict = None ) -> str : DOCS \"\"\"Returns the time, if any, at which the Pixelblaze will turn off the pattern when the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str: A Unix time string in \"HH:MM\" format. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'autoOffStart' ) def getAutoOffEnd ( self , configSettings : dict = None ) -> str : DOCS \"\"\"Returns the time, if any, at which the Pixelblaze will turn on the pattern when the auto-Off timer is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str: A Unix time string in \"HH:MM\" format. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'autoOffEnd' ) # --- SETTINGS menu: CONTROLLER section: LED settings def setBrightnessLimit ( self , maxBrightness : int , * , saveToFlash : bool = False ): DOCS \"\"\"Sets the Pixelblaze's global brightness limit. Args: maxBrightness (int): The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"maxBrightness\" : self . _clamp ( maxBrightness , 0 , 100 ), \"save\" : saveToFlash }, expectedResponse = None ) class ledTypes ( IntEnum ): DOCS noLeds = 0 APA102 = 1 SK9822 = 1 #synonym for APA102 DotStar = 1 #synonym for APA102 unbufferedWS2812 = 2 #v2 type unbufferedSK6822 = 2 #v2 synonym for unbufferedWS2812 unbufferedNeoPixel = 2 #v2 synonym for unbufferedWS2812 WS2812 = 2 #v3 type SK6822 = 2 #v3 synonym for WS2812 NeoPixel = 2 #v3 synonym for WS2812 WS2801 = 3 bufferedWS2812 = 4 #v2 only bufferedSK6822 = 4 #v2 synonym for bufferedWS2812 bufferedNeoPixel = 4 #v2 synonym for bufferedWS2812 OutputExpander = 5 def setLedType ( self , ledType : ledTypes , * , dataSpeed : int = None , saveToFlash : bool = False ): DOCS \"\"\"Defines the type of LEDs connected to the Pixelblaze. Args: ledType (ledTypes): The type of LEDs connected to the Pixelblaze. dataSpeed (int, optional): If provided, sets a custom data speed for communication with the LEDs; otherwise the defaults from the webUI are used. Defaults to None. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" assert type ( ledType ) is self . ledTypes # If no dataSpeed was specified, default to what the v3 UI sends. if dataSpeed is None : if ledType == self . ledTypes . noLeds : dataSpeed = None if ledType == self . ledTypes . APA102 : dataSpeed = 2000000 if ledType == self . ledTypes . WS2812 : dataSpeed = 2250000 #3500000 for v2 if ledType == self . ledTypes . WS2801 : dataSpeed = 2000000 if ledType == self . ledTypes . bufferedWS2812 : dataSpeed = 3500000 if ledType == self . ledTypes . OutputExpander : dataSpeed = 2000000 self . wsSendJson ({ \"ledType\" : ledType , \"dataSpeed\" : dataSpeed , \"save\" : saveToFlash }, expectedResponse = None ) def setPixelCount ( self , nPixels : int , * , saveToFlash : bool = False ): DOCS \"\"\"Sets the number of LEDs attached to the Pixelblaze. Note that changing the number of pixels does not recalculate the pixelMap. Args: nPixels (int): The number of pixels. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" # TBD: The Pixelblaze UI also re-evaluates the map function and resends the map data...Should we do the same? self . wsSendJson ({ \"pixelCount\" : nPixels , \"save\" : saveToFlash }, expectedResponse = None ) def setDataSpeed ( self , speed : int , * , saveToFlash : bool = False ): DOCS \"\"\"Sets custom data rate for communicating with the LEDs. CAUTION: For advanced users only. If you don't know exactly why you want to do this, DON'T DO IT. See discussion in this thread on the Pixelblaze forum: https://forum.electromage.com/t/timing-of-a-cheap-strand/739 Args: speed (int): The data rate for communicating with the LEDs. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" self . wsSendJson ({ \"dataSpeed\" : speed , \"save\" : saveToFlash }, expectedResponse = None ) class colorOrders ( Enum ): DOCS RGB = 'RGB' RBG = 'RBG' BRG = 'BRG' BGR = 'BGR' GRB = 'GRB' GBR = 'GBR' RGBW = 'RGBW' GRBW = 'GRBW' RGB_W = 'RGB-W' GRB_W = 'GRB-W' def setColorOrder ( self , colorOrder : colorOrders , * , saveToFlash : bool = False ): DOCS \"\"\"Sets the color order for the LEDs connected to the Pixelblaze. Args: colorOrder (colorOrders): The ordering for the color data sent to the LEDs. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" assert type ( colorOrder ) is self . colorOrders self . wsSendJson ({ \"colorOrder\" : colorOrder . value , \"save\" : saveToFlash }, expectedResponse = None ) # --- SETTINGS menu: CONTROLLER section: LED settings: helper functions: \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings anew.\"\"\" def getBrightnessLimit ( self , configSettings : dict = None ) -> int : DOCS \"\"\"Returns the maximum brightness for the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int: The maximum brightness, expressed as a percent value between 0 and 100 (yes, it's inconsistent with the 'brightness' settings). \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'maxBrightness' , None ) def getLedType ( self , configSettings : dict = None ) -> ledTypes : DOCS \"\"\"Returns the type of LEDs connected to the Pixelblaze.\"\"\" if configSettings is None : configSettings = self . getConfigSettings () return self . ledTypes ( configSettings . get ( 'ledType' )) def getPixelCount ( self , configSettings : dict = None ) -> int : DOCS \"\"\"Returns the number of LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int: The number of LEDs connected to the Pixelblaze. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'pixelCount' , None ) def getDataSpeed ( self , configSettings : dict = None ) -> int : DOCS \"\"\"Returns the data speed of the LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: int: The data speed for communicating with the LEDs. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'dataSpeed' , None ) def getColorOrder ( self , configSettings : dict = None ) -> colorOrders : DOCS \"\"\"Returns the color order of the LEDs connected to the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: colorOrders: The ordering for the color data sent to the LEDs. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'colorOrder' , None ) # --- SETTINGS menu (v3 only): CONTROLLER section: POWER SAVING settings class cpuSpeeds ( Enum ): DOCS low = \"80\" medium = \"160\" high = \"240\" def setCpuSpeed ( self , cpuSpeed : cpuSpeeds ): DOCS \"\"\"Sets the CPU speed of the Pixelblaze. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the `reboot` function). Args: cpuSpeed (cpuSpeeds): The desired CPU speed. \"\"\" assert type ( cpuSpeed ) is self . cpuSpeeds # The \"cpuSpeed\" setting doesn't exist on v2, so ignore it if not v3. if ( self . getConfigSettings () . get ( 'ver' , '0' ) . startswith ( '3' )): self . wsSendJson ({ \"cpuSpeed\" : cpuSpeed . value }, expectedResponse = None ) def setNetworkPowerSave ( self , disableWifi : bool ): DOCS \"\"\"Enables or disables the WiFi connection on the Pixelblaze, which can significantly reduce power requirements for battery-powered installations. Note that this setting will not take effect until the Pixelblaze is rebooted (which can be done with the `reboot` function). Args: disableWifi (bool): A boolean indicating whether to disable Wifi. \"\"\" self . wsSendJson ({ \"networkPowerSave\" : disableWifi }, expectedResponse = None ) # --- GLOBAL functions: CONTROLS: helper functions: \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings anew.\"\"\" def getCpuSpeed ( self , configSettings : dict = None ) -> cpuSpeeds : DOCS \"\"\"Returns the CPU speed of the Pixelblaze. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: cpuSpeeds: An enumeration representing the CPU speed. \"\"\" # The \"cpuSpeed\" setting doesn't exist on v2, so return the default. if configSettings is None : configSettings = self . getConfigSettings () return self . cpuSpeeds ( configSettings . get ( 'cpuSpeed' , 240 )) def getNetworkPowerSave ( self , configSettings : dict = None ) -> bool : DOCS \"\"\"Returns whether the \"Network Power Saving\" mode is enabled (and WiFi is disabled). Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool: Whether the \"Network Power Saving\" mode is enabled. \"\"\" # The \"networkPowerSave\" setting doesn't exist on v2, so return the default. if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'networkPowerSave' , False ) # --- SETTINGS menu: UPDATES settings class updateStates ( IntEnum ): DOCS unknown = 0 checking = 1 inProgress = 2 updateError = 3 upToDate = 4 updateAvailable = 5 updateComplete = 6 def getUpdateState ( self ) -> updateStates : DOCS \"\"\"Returns the updateState of the Pixelblaze. Returns: updateStates: An enumeration describing the updateState of the Pixelblaze. \"\"\" # We don't want to query the server every time, because changes don't happen very often. checkFrequency = 15 * 60 * 60 * 1000 # 15 minutes if self . latestUpdateCheck is None : self . latestUpdateCheck = self . _time_in_millis () - ( checkFrequency + 1 ) if ( self . _time_in_millis () - self . latestUpdateCheck ) > checkFrequency : self . wsSendJson ({ \"upgradeVersion\" : \"check\" }, expectedResponse = None ) # Get the state. If it's indeterminate, wait until it resolves. state = self . wsSendJson ({ \"getUpgradeState\" : True }, expectedResponse = \"upgradeState\" ) while True : if state is None : return self . updateStates . unknown state = json . loads ( state ) . get ( \"upgradeState\" ) . get ( \"code\" , 0 ) if state != self . updateStates . checking : return state state = self . wsSendJson ({ \"getUpgradeState\" : True }, expectedResponse = \"upgradeState\" ) def installUpdate ( self ) -> updateStates : DOCS \"\"\"Installs new Pixelblaze firmware, if the current updateState indicates that an update is available. Returns: updateStates: An enumeration describing the new updateState of the Pixelblaze. \"\"\" # We can't do the update if there isn't one available. if self . getUpdateState () != self . updateStates . updateAvailable : return self . updateStates . unknown # But if there is one available, we'll give it a try. self . latestVersion = None # clear cache to force refresh self . wsSendJson ({ \"upgradeVersion\" : \"update\" }, expectedResponse = None ) state = self . updateStates . unknown while True : state = self . getUpdateState () if state in [ 3 , 4 , 5 , 6 ]: break print ( f \"updateProgress: { self . updateStates ( state ) . name } \" ) time . sleep ( 0.5 ) return state # --- SETTINGS menu: UPDATES section: convenience functions def getVersion ( self ) -> float : DOCS \"\"\"Returns the firmware version of the Pixelblaze. Returns: float: The firmware version, in major.minor format. \"\"\" if self . latestVersion is None : self . latestVersion = self . getConfigSettings () . get ( 'ver' , None ) return self . latestVersion def getVersionMajor ( self ) -> int : DOCS \"\"\"Returns the major version number. Returns: int: A positive integer representing the integer portion of the version number (eg. for v3.24, returns 3). \"\"\" return math . trunc ( float ( self . getVersion ())) def getVersionMinor ( self ) -> int : DOCS \"\"\"Returns the minor version number. Returns: int: A positive integer representing the fractional portion of the version number (eg. for v3.24, returns 24). \"\"\" version = self . getVersion () . split ( '.' )[ 1 ] return int ( version ) # --- SETTINGS menu: BACKUPS section def saveBackup ( self , fileName : str ): DOCS \"\"\"Saves the contents of this Pixelblaze into a Pixelblaze Binary Backup file. Args: fileName (str): The desired filename for the Pixelblaze Binary Backup. \"\"\" PBB . fromPixelblaze ( self ) . toFile ( fileName ) def restoreFromBackup ( self , fileName : str ): DOCS \"\"\"Restores the contents of this Pixelblaze from a Pixelblaze Binary Backup file. Args: fileName (str): The desired filename for the Pixelblaze Binary Backup. \"\"\" PBB . fromFile ( fileName ) . toPixelblaze ( self ) def reboot ( self ): DOCS \"\"\"Reboots the Pixelblaze. This is occasionally necessary, eg. to force the Pixelblaze to recognize changes to configuration files. \"\"\" with requests . post ( self . getUrl ( \"reboot\" ), proxies = self . proxyDict ) as rReboot : if rReboot . status_code not in [ 200 , 404 ]: rReboot . raise_for_status () # --- ADVANCED menu: def setBrandName ( self , brandName : str ): DOCS \"\"\"Sets the brand name of the Pixelblaze (used by VARs to change the brand name that appears on the webUI). Args: brandName (str): The new name. \"\"\" self . wsSendJson ({ \"brandName\" : brandName }, expectedResponse = None ) def setSimpleUiMode ( self , doSimpleMode : bool ): DOCS \"\"\"Enables or disables \"Simple UI Mode\" which makes the UI more suitable for non-technical audiences. Args: doSimpleMode (bool): Whether to enable \"Simple UI Mode\". \"\"\" self . wsSendJson ({ \"simpleUiMode\" : doSimpleMode }, expectedResponse = None ) def setLearningUiMode ( self , doLearningMode : bool ): DOCS \"\"\"Enables or disables \"Learning UI Mode\" which has additional UI help for new users. Args: doSimpleMode (bool): Whether to enable \"Learning UI Mode\". \"\"\" self . wsSendJson ({ \"learningUiMode\" : doLearningMode }, expectedResponse = None ) # --- ADVANCED menu: convenience functions \"\"\"The Pixelblaze API has functions to 'set' individual property values, but can only 'get' property values as part of a JSON dictionary containing all the settings on a particular UI page. These functions will extract the property value from a previously-fetched dictionary, if provided; otherwise they will fetch the settings anew.\"\"\" def getBrandName ( self , configSettings : dict = None ) -> str : DOCS \"\"\"Returns the brand name, if any, of this Pixelblaze (blank unless rebadged by a reseller). Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: str: The brand name. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'brandName' , None ) def getSimpleUiMode ( self , configSettings : dict = None ) -> bool : DOCS \"\"\"Returns whether \"Simple UI Mode\" is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool: A boolean indicating whether \"Simple UI Mode\" is enabled. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'simpleUiMode' , None ) def getLearningUiMode ( self , configSettings : dict = None ) -> bool : DOCS \"\"\"Returns whether \"Learning UI Mode\" is enabled. Args: configSettings (dict, optional): If provided, extracts the value from the results of a previous call to `getConfigSettings`; otherwise, fetches the configSettings from the Pixelblaze anew. Defaults to None. Returns: bool: A boolean indicating whether \"Learning UI Mode\" is enabled. \"\"\" if configSettings is None : configSettings = self . getConfigSettings () return configSettings . get ( 'learningUiMode' , None ) # --- PRIVATE HELPER FUNCTIONS class deprecationReasons ( IntEnum ): DOCS renamed = 1 functionalityChanged = 2 notRequired = 3 warningsGiven = [] def __printDeprecationMessage ( self , deprecationReason : deprecationReasons , oldFunction : str , newFunction : str ): \"\"\"For functions that have been deprecated, print an explanatory warning message the first time they are called. Args: deprecationReason (deprecationReasons): An enumerated value indicating which message to display. oldFunction (str): The old name of the function. newFunction (str): The new name of the function, where appropriate. \"\"\" if not oldFunction in self . warningsGiven : self . warningsGiven . append ( oldFunction ) if deprecationReason == self . deprecationReasons . renamed : print ( f '[pixelblaze-client] Warning: function \" { oldFunction } \" has been renamed and this compatibility stub will be removed in a future release; to avoid disruption, modify your code to use the replacement function \" { newFunction } \".' ) elif deprecationReason == self . deprecationReasons . functionalityChanged : print ( f '[pixelblaze-client] Warning: function \" { oldFunction } \" has been changed and may not have the same behavior; review the changelog and (if necessary) modify your code to use the replacement function \" { newFunction } \".' ) elif deprecationReason == self . deprecationReasons . notRequired : print ( f '[pixelblaze-client] Warning: function \" { oldFunction } \" is no longer required and will be removed in a future release; you may safely remove it from your code.' ) def _clamp ( self , n , smallest , largest ): \"\"\" Utility Method: Why doesn't Python have clamp()? \"\"\" return max ( smallest , min ( n , largest )) def _time_in_millis ( self ) -> int : \"\"\" Utility Method: Returns current time in milliseconds \"\"\" return int ( round ( time . time () * 1000 )) # --- LEGACY FUNCTIONS (may be deprecated, removed or altered in the near future) # # (Note to future editors: Some of these will probably need to stay around as a # simplified syntax \"convenience\" layer. In particular, the color control functions are handy # for home automation integrations. When deprecating or eliminating, make sure there's an # easy-to-use replacement in the current API. def pauseRenderer ( self , doPause : bool ): DOCS \"\"\"Pause rendering. Lasts until unpause() is called or the Pixelblaze is reset. CAUTION: For advanced users only. Only used to stop the render engine before sending new bytecode. If you don't know exactly why you want to do this, DON'T DO IT. Args: doPause (bool): If True, pause the render engine; if False, resume it. \"\"\" self . wsSendJson ({ \"pause\" : doPause }, expectedResponse = \"ack\" ) def setActivePatternByName ( self , patternName : str , * , saveToFlash : bool = False ): DOCS \"\"\"Sets the currently running pattern using a text name. Args: patternName (str): The name of the pattern. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" patternId = dict (( value , key ) for key , value in self . getPatternList () . items ()) . get ( patternName ) self . setActivePattern ( self . _get_pattern_id ( patternName ), saveToFlash ) def controlExists ( self , controlName : str , patternId : str = None ) -> bool : DOCS \"\"\"Tests whether the named control exists in the specified pattern. If no pattern is specified, the currently active pattern is assumed. Note that the active pattern can be undefined on a freshly started Pixelblaze until the pattern has been explicitly set. This function also will return False if the active pattern is not available. Args: controlName (str): The name of the control. patternId (str, optional): The pattern in which to test for the presence of the control. Defaults to None. Returns: bool: True if the specified control exists, False otherwise. \"\"\" result = self . getControls ( patternId ) return True if controlName in result else False def getColorControlNames ( self , patternId : str = None ) -> list : DOCS \"\"\" Returns a list of names of the specified pattern's rgbPicker or hsvPicker controls if any exist, None otherwise. If the pattern argument is not specified, check the currently running pattern \"\"\" controls = self . getControls ( patternId ) if controls is None : return None # check for hsvPicker result = dict ( filter ( lambda ctl : \"hsvPicker\" in ctl [ 0 ], controls . items ())) ctl_list = list ( result . keys ()) # check for rgbPicker result = dict ( filter ( lambda ctl : \"rgbPicker\" in ctl [ 0 ], controls . items ())) ctl_list += list ( result . keys ()) return ctl_list if ( len ( ctl_list ) > 0 ) else None def getColorControlName ( self , patternId : str = None ) -> str : DOCS \"\"\"Returns the name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. Args: patternId (str, optional): The pattern to search for color controls; or the currently active pattern if not specified. Defaults to None. Returns: str: The name of the specified pattern's first rgbPicker or hsvPicker control if one exists, or None otherwise. \"\"\" result = self . getColorControlNames ( patternId ) if result is None : return result else : return result [ 0 ] def setColorControl ( self , controlName : str , color : dict , saveToFlash : bool = False ): DOCS \"\"\"Sets the 3-element color of the specified HSV or RGB color picker. Args: controlName (str): The name of the color control to change. color (dict): A dictionary of RGB or HSV colors, with all values in the range 0-1. saveToFlash (bool, optional): If True, the setting is stored in Flash memory; otherwise the value reverts on a reboot. Defaults to False. \"\"\" # based on testing w/Pixelblaze, no run-time length or range validation is performed # on color. Pixelblaze ignores extra elements, sets unspecified elements to zero, # takes only the fractional part of elements outside the range 0-1, and # does something (1-(n % 1)) for negative elements. self . setActiveControls ({ controlName : color , \"save\" : saveToFlash }) def setCacheRefreshTime ( self , seconds : int ): DOCS \"\"\"Set the interval, in seconds, after which calls to `getPatternList()` clear the pattern cache and fetch a new pattern list from the Pixelblaze. The Default is 600 seconds (10 minutes); the maximum allowable value is clamped to a million seconds (about 277 hours, or 11.5 days). Anything else would be excessive. Args: seconds (int): The maximum age of the pattern cache. \"\"\" self . cacheRefreshInterval = 1000 * self . _clamp ( seconds , 0 , 1000000 ) # ---------------------------------------------------------------------------- class PBB : DOCS \"\"\"This class provides methods for importing, exporting, and manipulating the contents of a Pixelblaze Binary Backup, as created from the Settings menu on a Pixelblaze. **CREATION** - [`fromFile()`](method-fromfile) - [`fromIpAddress()`](method-fromipaddress) - [`fromPixelblaze()`](method-frompixelblaze) **PROPERTIES** - [`deviceName()`](method-devicename) - [`getFileList()`](method-getfilelist) **MANIPULATION** - [`getFile()`](method-getfile)/[`putFile()`](method-putfile)/[`deleteFile()`](method-deletefile) **PERSISTENCE** - [`toFile()`](method-tofile) - [`toIpAddress()`](method-toipaddress) - [`toPixelblaze()`](method-topixelblaze) Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. \"\"\" # Members: __textData = None __fromDevice = None # private constructor def __init__ ( self , name : str , blob : bytes ): \"\"\"Initializes a new Pixelblaze Binary Backup (PBB) object. Args: id (str): The patternId of the pattern. blob (bytes): The binary contents of the pattern. Note: This method is not intended to be called directly; use the static methods `fromFile()`, `fromIpAddress()` or `fromPixelblaze()` methods to create and return a Pixelblaze Binary Backup (PBB) object. \"\"\" self . __fromDevice = name self . __textData = blob # Static methods: @staticmethod DOCS def fromFile ( fileName : str ) -> 'PBB' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a file on disk. Args: fileName (str): The filename of the Pixelblaze Binary Backup. Returns: PBB: A new Pixelblaze Binary Backup object. \"\"\" return PBB ( pathlib . Path ( fileName ) . stem , pathlib . Path ( fileName ) . read_text ()) @staticmethod DOCS def fromIpAddress ( ipAddress : str , * , proxyUrl : str = None , verbose : bool = False ) -> 'PBB' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from a Pixelblaze specified by IP address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. Returns: PBB: A new Pixelblaze Binary Backup object. \"\"\" # Make a connection to the Pixelblaze. with Pixelblaze ( ipAddress , proxyUrl = proxyUrl ) as pb : return PBB . fromPixelblaze ( pb , verbose = verbose ) @staticmethod DOCS def fromPixelblaze ( pb : Pixelblaze , * , verbose : bool = False ) -> 'PBB' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new Pixelblaze Binary Backup whose contents are loaded from an existing Pixelblaze object. Args: pb (Pixelblaze): A Pixelblaze object. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. Returns: PBB: A new Pixelblaze Binary Backup object. \"\"\" newOne = PBB ( pb . ipAddress , json . dumps ({ \"files\" : {}}, indent = 2 )) # Get the file list. for line in pb . getFileList ( PBB . fileTypes . fileAll ^ PBB . fileTypes . fileSystem ): filename = line . split ( ' \\t ' )[ 0 ] if verbose : print ( f \" Downloading { filename } \" ) contents = pb . getFile ( filename ) if not contents is None : newOne . putFile ( filename , contents ) return newOne # Class properties: @property DOCS def deviceName ( self ) -> str : \"\"\"Gets the user-friendly name of the device from which this PixelBlazeBackup was made. Returns: str: The user-friendly name of the device from which this PixelBlazeBackup was made. \"\"\" return self . __fromDevice # Class methods: class fileTypes ( IntFlag ): DOCS \"\"\"A Pixelblaze contains Patterns, PatternSettings, Configs, Playlists, System and Other types of files.\"\"\" fileConfig = 1 filePattern = 2 filePatternSetting = 4 filePlaylist = 8 fileSystem = 16 fileOther = 32 fileAll = fileConfig | filePattern | filePatternSetting | filePlaylist | fileSystem | fileOther def getFileList ( self , fileTypes : fileTypes = fileTypes . fileAll ) -> list [ str ]: DOCS \"\"\"Returns a sorted list of the files contained in this PixelBlazeBackup. Args: fileTypes (fileTypes, optional): An bitwise enumeration indicating the types of files to list. Defaults to fileTypes.fileAll. Returns: list[str]: A list of filenames. \"\"\" fileList = [] for fileName in json . loads ( self . __textData . encode () . decode ( 'utf-8-sig' ))[ 'files' ]: # Filter the list depending on the fileTypes requested. # fileConfigs: if fileName [ 1 :] in [ \"config.json\" , \"config2.json\" , \"obconf.dat\" , \"pixelmap.txt\" , \"pixelmap.dat\" ]: if not bool ( fileTypes & self . fileTypes . fileConfig ): continue # filePatterns and filePatternSettings: elif fileName . startswith ( \"/p/\" ): if fileName . endswith ( \".c\" ): # filePatternSettings: if not bool ( fileTypes & self . fileTypes . filePatternSetting ): continue else : # filePattern: if not bool ( fileTypes & self . fileTypes . filePattern ): continue # filePlaylists: elif fileName . startswith ( \"/l/\" ): if not bool ( fileTypes & self . fileTypes . filePlaylist ): continue # fileSystem: elif fileName . endswith ( \".gz\" ): if not bool ( fileTypes & self . fileTypes . fileSystem ): continue # fileOthers: else : # Ignore the blank line returned by the '/list' endpoint. if not bool ( fileTypes & self . fileTypes . fileOther ): continue # This file must have passed safely through all the filters. fileList . append ( fileName ) # Return the filtered list. fileList . sort () return fileList def getFile ( self , fileName : str ) -> bytes : DOCS \"\"\"Returns the contents of a particular file contained in this PixelBlazeBackup. Args: fileName (str): The name of the file to be returned. Returns: bytes: The contents of the requested file. \"\"\" return base64 . b64decode ( json . loads ( self . __textData . encode () . decode ( 'utf-8-sig' ))[ 'files' ][ fileName ]) def putFile ( self , fileName : str , fileContents : bytes ): DOCS \"\"\"Inserts or replaces the contents of a particular file into this PixelBlazeBackup. Args: fileName (str): The name of the file to be stored. fileContents (bytes): The contents of the file to be stored. \"\"\" jsonContents = json . loads ( self . __textData . encode () . decode ( 'utf-8-sig' )) jsonContents . get ( 'files' , {})[ fileName ] = base64 . b64encode ( fileContents ) . decode ( 'UTF-8' ) self . __textData = json . dumps ( jsonContents , indent = 2 ) def deleteFile ( self , fileName : str ): DOCS \"\"\"Removes a particular file from this PixelBlazeBackup. Args: fileName (str): The name of the file to be deleted. \"\"\" jsonContents = json . loads ( self . __textData . encode () . decode ( 'utf-8-sig' )) if jsonContents . get ( fileName , None ): del jsonContents [ fileName ] self . __textData = json . dumps ( jsonContents , indent = 2 ) def toFile ( self , fileName : str = None , explode : bool = False ): DOCS \"\"\"Writes this Pixelblaze Binary Backup to a file on disk. Args: fileName (str, optional): If specified, the filename of the Pixelblaze Binary Backup to be created; otherwise the originating Pixelblaze name is used. Defaults to None. explode (bool, optional): If specified, also exports the files within the Pixelblaze Binary Backup to a subdirectory. Defaults to False. \"\"\" def safeFilename ( unsafeName ): # Sanitize filenames: Only '/' (U+002F SOLIDUS) is forbidden. # Other suitable candidates: '\u2044' (U+2044 FRACTION SLASH); '\u2215' (U+2215 DIVISION SLASH); '\u29f8' (U+29F8 BIG SOLIDUS); # '\uff0f' (U+FF0F FULLWIDTH SOLIDUS); and '\u2571' (U+2571 BOX DRAWINGS LIGHT DIAGONAL UPPER RIGHT TO LOWER LEFT). return unsafeName . replace ( \"/\" , \"\u2215\" ) if fileName is None : path = pathlib . Path . cwd () . joinpath ( self . deviceName ) . with_suffix ( \".pbb\" ) else : path = pathlib . Path ( fileName ) . with_suffix ( \".pbb\" ) with open ( path , \"w\" ) as file : file . write ( self . __textData ) # If 'explode' is requested, export the contents of this Pixelblaze Binary Backup (PBB) as individual files. if explode is True : # Exploded files go in a subdirectory named after the Pixelblaze Binary Backup. path = pathlib . Path ( path ) . with_suffix ( '' ) path . mkdir ( parents = True , exist_ok = True ) # Loop through the backup contents and save them appropriately. for fileName in self . getFileList ( PBB . fileTypes . fileConfig ): # Config files go in the \"Configuration\" subdirectory... configPath = path . joinpath ( \"Configuration/\" ) configPath . mkdir ( parents = True , exist_ok = True ) configPath . joinpath ( fileName [ 1 :]) . write_bytes ( self . getFile ( fileName )) for fileName in self . getFileList ( PBB . fileTypes . filePlaylist ): # Playlists go in the \"Playlists\" subdirectory... playlistPath = path . joinpath ( \"Playlists/\" ) playlistPath . mkdir ( parents = True , exist_ok = True ) playlistPath . joinpath ( \"defaultPlaylist.json\" ) . write_bytes ( self . getFile ( fileName )) for fileName in self . getFileList ( PBB . fileTypes . filePattern | PBB . fileTypes . filePatternSetting ): # Patterns go in the \"Patterns\" subdirectory... patternPath = path . joinpath ( \"Patterns/\" ) patternPath . mkdir ( parents = True , exist_ok = True ) if fileName . endswith ( '.c' ): # For pattern settings files, get the name from the original pattern. pbp = PBP . fromBytes ( pathlib . Path ( fileName [ 3 :]) . stem , self . getFile ( fileName [: - 2 ])) patternPath . joinpath ( safeFilename ( pbp . name )) . with_suffix ( '.json' ) . write_bytes ( self . getFile ( fileName )) else : pbp = PBP . fromBytes ( pathlib . Path ( fileName [ 3 :]) . stem , self . getFile ( fileName )) pbpPath = patternPath . joinpath ( safeFilename ( pbp . name )) . with_suffix ( '.pbp' ) pbp . toFile ( pbpPath ) pbp . explode ( pbpPath ) for fileName in self . getFileList ( PBB . fileTypes . fileOther ): # And everything else (should just be the Icons) goes in the root directory... path . joinpath ( fileName [ 1 :]) . write_bytes ( self . getFile ( fileName )) def toIpAddress ( self , ipAddress : str , * , proxyUrl : str = None , verbose : bool = False ): DOCS \"\"\"Restores the contents of this PixelBlazeBackup to a Pixelblaze identified by IP Address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\").. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. \"\"\" # Make a connection to the Pixelblaze. with Pixelblaze ( ipAddress , proxyUrl = proxyUrl ) as pb : self . toPixelblaze ( pb , verbose = verbose ) def toPixelblaze ( self , pb : Pixelblaze , * , verbose : bool = False ): DOCS \"\"\"Uploads the contents of this PixelBlazeBackup to the destination Pixelblaze. Args: pb (Pixelblaze): A Pixelblaze object. verbose (bool, optional): A boolean specifying whether to print detailed progress statements. Defaults to False. \"\"\" # Delete all the files that are currently loaded on the Pixelblaze (excepting the WebApp itself). for filename in pb . getFileList ( PBB . fileTypes . fileAll ^ PBB . fileTypes . fileSystem ): if verbose : print ( f \" Deleting { filename } \" ) pb . deleteFile ( filename ) # Upload everything that's in this PixelBlazeBackup to the Pixelblaze. for filename in self . getFileList (): if verbose : print ( f \" Uploading { filename } \" ) pb . putFile ( filename , self . getFile ( filename )) # Send a reboot command so the Pixelblaze will recognize the new configuration. if verbose : print ( f \" Rebooting { pb . ipAddress } \" ) pb . reboot () # ---------------------------------------------------------------------------- class PBP : DOCS \"\"\"This class represents a Pixelblaze Binary Pattern, as stored on the Pixelblaze filesystem or contained in a Pixelblaze Binary Backup. **CREATION** - [`fromBytes()`](method-frombytes) - [`fromFile()`](method-fromfile) - [`fromIpAddress()`](method-fromipaddress) - [`fromPixelblaze()`](method-frompixelblaze) **PROPERTIES** - [`id()`](method-id) - [`name()`](method-name) - [`jpeg()`](method-jpeg) - [`byteCode()`](method-bytecode) - [`sourceCode()`](method-sourcecode) **PERSISTENCE** - [`toFile()`](method-tofile) - [`toIpAddress()`](method-toipaddress) - [`toPixelblaze()`](method-topixelblaze) - [`toEPE()`](method-toepe) - [`explode()`](method-explode) Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. \"\"\" # Members: __id = None __binaryData = None # The first 9 DWORDs of the binaryData is a header containing offsets to the components: # 0=version, # 1=nameOffset, 2=nameLength, # 3=jpegOffset, 4=jpegLength, # 5=bytecodeOffset, 6=bytecodeLength, # 7=sourceOffset, 8=sourceLength # private constructor def __init__ ( self , id : str , blob : bytes ): \"\"\"Initializes a new Pixelblaze Binary Pattern (PBP) object. Args: id (str): The patternId of the pattern. blob (bytes): The binary contents of the pattern. Note: This method is not intended to be called directly; use the static methods `fromBytes()`, `fromFile()`, `fromIpAddress()` or `fromPixelblaze()` methods to create and return a PBP object. \"\"\" self . __id = id self . __binaryData = blob # Static methods: @staticmethod DOCS def fromBytes ( patternId : str , blob : bytes ) -> 'PBP' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are initialized from a bytes array. Args: patternId (str): A patternId for the Pixelblaze Binary Pattern to be created. blob (bytes): The binary contents of the Pixelblaze Binary Pattern to be created. Returns: PBP: A new Pixelblaze Binary Pattern object. \"\"\" return PBP ( patternId , blob ) @staticmethod DOCS def fromFile ( fileName : str ) -> 'PBP' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new Pixelblaze Binary Pattern (PBP) whose contents are loaded from a file on disk. Args: fileName (str): The name of the file to be loaded into a Pixelblaze Binary Pattern. Returns: PBP: A new Pixelblaze Binary Pattern object. \"\"\" return PBP . fromBytes ( pathlib . Path ( fileName ) . stem , pathlib . Path ( fileName ) . read_bytes ()) @staticmethod DOCS def fromIpAddress ( ipAddress : str , patternId : str , * , proxyUrl : str = None ) -> 'PBP' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from a URL. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). patternId (str): The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. Returns: PBP: A new Pixelblaze Binary Pattern object. \"\"\" # Make a connection to the Pixelblaze. with Pixelblaze ( ipAddress , proxyUrl = proxyUrl ) as pb : return PBP . fromPixelblaze ( pb , patternId ) @staticmethod DOCS def fromPixelblaze ( pb : Pixelblaze , patternId : str ) -> 'PBP' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new pattern Pixelblaze Binary Pattern (PBP) whose contents are downloaded from an active Pixelblaze object. Args: pb (Pixelblaze): An active Pixelblaze object. patternId (str): The patternId of the Pixelblaze Binary Pattern to be loaded from the Pixelblaze. Returns: PBP: A new Pixelblaze Binary Pattern object. \"\"\" return PBP . fromBytes ( patternId , pb . getFile ( f \"/p/ { patternId } \" )) # Class properties: @property DOCS def id ( self ) -> str : \"\"\"Returns the patternId of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: str: The patternId of the pattern contained in this Pixelblaze Binary Pattern (PBP). \"\"\" return self . __id @property DOCS def name ( self ) -> str : \"\"\"Returns the (human-readable) name of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: str: The (human-readable) name of the pattern contained in this Pixelblaze Binary Pattern (PBP). \"\"\" # Calculate the offset for this component. offsets = struct . unpack ( '<9I' , self . __binaryData [: 36 ]) return self . __binaryData [ offsets [ 1 ]: offsets [ 1 ] + offsets [ 2 ]] . decode ( 'UTF-8' ) @property DOCS def jpeg ( self ) -> bytes : \"\"\"Returns (as a collection of bytes) the preview JPEG of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: bytes: The preview JPEG of the pattern contained in this Pixelblaze Binary Pattern (PBP). \"\"\" # Calculate the offset for this component. offsets = struct . unpack ( '<9I' , self . __binaryData [: 36 ]) return self . __binaryData [ offsets [ 3 ]: offsets [ 3 ] + offsets [ 4 ]] @property DOCS def byteCode ( self ) -> bytes : \"\"\"Returns (as a collection of bytes) the bytecode of the pattern contained in this Pixelblaze Binary Pattern (PBP). Returns: bytes: The bytecode of the pattern contained in this Pixelblaze Binary Pattern (PBP). \"\"\" # Calculate the offset for this component. offsets = struct . unpack ( '<9I' , self . __binaryData [: 36 ]) return self . __binaryData [ offsets [ 5 ]: offsets [ 5 ] + offsets [ 6 ]] @property DOCS def sourceCode ( self ) -> str : \"\"\"Returns the source code of the pattern in this Pixelblaze Binary Pattern (PBP). Returns: str: The source code of the pattern as a JSON-encoded string. \"\"\" # Calculate the offset for this component. offsets = struct . unpack ( '<9I' , self . __binaryData [: 36 ]) return _LZstring . decompress ( self . __binaryData [ offsets [ 7 ]: offsets [ 7 ] + offsets [ 8 ]]) # Class methods: def toFile ( self , fileName : str = None ): DOCS \"\"\"Saves this Pixelblaze Binary Pattern (PBP) to a file on disk. Args: fileName (str, optional): If provided, A name for the Pixelblaze Binary Pattern file to be created; otherwise, the name is derived from the patternId. Defaults to None. \"\"\" if fileName is None : fileName = pathlib . Path . cwd () . joinpath ( self . id ) . with_suffix ( \".pbp\" ) else : fileName = pathlib . Path ( fileName ) . with_suffix ( \".pbp\" ) with open ( fileName , \"wb\" ) as file : file . write ( self . __binaryData ) def toIpAddress ( self , ipAddress : str , * , proxyUrl : str = None ): DOCS \"\"\"Uploads this Pixelblaze Binary Pattern (PBP) to a Pixelblaze identified by its IP address. Args: ipAddress (str): The Pixelblaze's IPv4 address in the usual dotted-quads numeric format (for example, \"192.168.4.1\"). proxyUrl (str, optional): The url of a proxy, if required, in the format \"protocol://ipAddress:port\" (for example, \"http://192.168.0.1:8888\"). Defaults to None. \"\"\" # Make a connection to the Pixelblaze. with Pixelblaze ( ipAddress , proxyUrl ) as pb : self . toPixelblaze ( pb ) def toPixelblaze ( self , pb : Pixelblaze ): DOCS \"\"\"Uploads this Pixelblaze Binary Pattern (PBP) to an active Pixelblaze object. Args: pb (Pixelblaze): An active Pixelblaze object. \"\"\" pb . putFile ( self . id , self . __binaryData ) def toEPE ( self ) -> 'EPE' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' DOCS \"\"\"Creates a new Electromage Pattern Export (EPE) and initializes it from the contents of this Pixelblaze Binary Pattern (PBP). Returns: EPE: A new Electromage Pattern Export object. \"\"\" epe = { 'name' : self . name , 'id' : self . id , 'sources' : json . loads ( self . sourceCode ), 'preview' : base64 . b64encode ( self . jpeg ) . decode ( 'UTF-8' ) } return EPE . fromBytes ( json . dumps ( epe , indent = 2 )) def explode ( self , path : str = None ): DOCS \"\"\"Exports all the components of this Pixelblaze Binary Pattern (PBP) as separate files. Args: path (str, optional): If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None. \"\"\" # Get a Path to help with creating filenames. if path is None : path = pathlib . Path . cwd () . joinpath ( self . id ) patternPath = pathlib . Path ( path ) # ...the human-readable name. with open ( patternPath . with_suffix ( '.metadata' ), 'w' ) as outfile : outfile . write ( self . name ) # ...the preview image. with open ( patternPath . with_suffix ( '.jpg' ), 'wb' ) as outfile : outfile . write ( self . jpeg ) # ...the human-readable source code. with open ( patternPath . with_suffix ( '.js' ), 'w' ) as outfile : outfile . write ( json . loads ( self . sourceCode )[ 'main' ]) # ...the bytecode. with open ( patternPath . with_suffix ( '.bytecode' ), 'wb' ) as outfile : outfile . write ( self . byteCode ) # and combine the above into a portable JSON archive (.EPE) self . toEPE () . toFile ( patternPath . with_suffix ( '.epe' )) # ---------------------------------------------------------------------------- class EPE : DOCS \"\"\"This class provides methods for importing, exporting, and manipulating the contents of an Electromage Pattern Export (EPE), as exported from the Patterns list on a Pixelblaze. **CREATION** - [`fromBytes()`](method-frombytes) - [`fromFile()`](method-fromfile) **PROPERTIES** - [`patternId()`](method-patternid) - [`patternName()`](method-patternname) - [`sourceCode()`](method-sourcecode) - [`previewImage()`](method-previewimage) **PERSISTENCE** - [`toFile()`](method-tofile) - [`explode()`](method-explode) Note: The constructor is not intended to be called directly; objects are created and returned from the object creation methods described above. \"\"\" # Members: __textData = None # private constructor def __init__ ( self , blob : bytes ): \"\"\"Initializes a new Electromage Pattern Export (EPE) object. Args: blob (bytes): The contents of the Electromage Pattern Export (EPE). Note: This method is not intended to be called directly; use the static methods `fromBytes()` or `fromFile()` to create and return an Electromage Pattern Export object. \"\"\" self . __textData = blob # Static methods: @staticmethod DOCS def fromBytes ( blob : bytes ) -> 'EPE' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new Electromage Pattern Export (EPE) whose contents are loaded from a bytes array. Args: blob (bytes): The data from which to create the Electromage Pattern Export (EPE). Returns: EPE: A new Electromage Pattern Export (EPE) object. \"\"\" return EPE ( blob ) @staticmethod DOCS def fromFile ( fileName : str ) -> 'EPE' : # 'Quoted' to defer resolution of forward reference; or could use 'from __future__ import annotations' \"\"\"Creates and returns a new portable pattern EPE whose contents are loaded from a file on disk. Args: fileName (str): The name of the file from which to create the Electromage Pattern Export (EPE). Returns: EPE: A new Electromage Pattern Export (EPE) object. \"\"\" with open ( fileName , \"r\" ) as file : return EPE . fromBytes ( file . read ()) # Class properties: @property DOCS def patternId ( self ) -> str : \"\"\"Returns the patternId of the pattern contained in this Electromage Pattern Export (EPE). Returns: str: The patternId of the pattern contained in this Electromage Pattern Export (EPE). \"\"\" return json . loads ( self . __textData )[ 'id' ] @property DOCS def patternName ( self ) -> str : \"\"\"Returns the human-readable name of the pattern in this Electromage Pattern Export (EPE). Returns: str: The human-readable name of the pattern contained in this Electromage Pattern Export (EPE). \"\"\" return json . loads ( self . __textData )[ 'name' ] @property DOCS def sourceCode ( self ) -> str : \"\"\"Returns the source code of the pattern contained in this Electromage Pattern Export (EPE). Returns: str: The sourceCode of the pattern contained in this Electromage Pattern Export (EPE). \"\"\" # if @wizard ever implements code sharing this may need to change (remove ['main']?). return json . loads ( self . __textData )[ 'sources' ][ 'main' ] @property DOCS def previewImage ( self ) -> bytes : \"\"\"Returns (as bytes) the preview JPEG of the pattern contained in this Electromage Pattern Export (EPE). Returns: bytes: The preview JPEG of the pattern contained in this Electromage Pattern Export (EPE). \"\"\" return json . loads ( self . __textData )[ 'preview' ] # Class methods: def toFile ( self , fileName : str = None ): DOCS \"\"\"Saves this Electromage Pattern Export (EPE) to a file on disk. Args: fileName (str, optional): If provided, a name for the file to be created; otherwise derived from the patternId. Defaults to None. \"\"\" if fileName is None : fileName = pathlib . Path . cwd () . joinpath ( self . patternId ) . with_suffix ( \".epe\" ) with open ( fileName , \"w\" ) as file : file . write ( self . __textData ) def explode ( self , path : str ): DOCS \"\"\"Exports the components of this Electromage Pattern Export (EPE) to separate files. Args: path (str): If provided, a pathname for the folder in which to export the components; otherwise derived from the patternId. Defaults to None. \"\"\" # Get a Path to help with creating filenames. if path is None : path = pathlib . Path . cwd () . joinpath ( self . patternId ) patternPath = pathlib . Path ( path ) # ...the human-readable name. with open ( patternPath . with_suffix ( '.metadata' ), 'w' ) as outfile : outfile . write ( self . patternName ) # ...the preview image. with open ( patternPath . with_suffix ( '.jpg' ), 'wb' ) as outfile : outfile . write ( self . previewImage ) # ...the human-readable source code. with open ( patternPath . with_suffix ( '.js' ), 'w' ) as outfile : outfile . write ( self . sourceCode ) # ---------------------------------------------------------------------------- class _LZstring : # LZstring code borrowed (and truncated) from https://github.com/marcel-dancak/lz-string-python, which # on a cursory examination seems to be largely a copy of https://github.com/eduardtomasek/lz-string-python, # which has been forked to https://github.com/gkovacs/lz-string-python and published in PyPi as lzstring 1.0.4, # but which has unresolved merge issues with the parent repository, so who do you trust? Might as well # keep a private copy until somebody sorts it out. @staticmethod def decompress ( compressed ): if compressed is None : return \"\" if compressed == \"\" : return None resetValue = 128 dictionary = {} enlargeIn = 4 dictSize = 4 numBits = 3 entry = \"\" result = [] val = compressed [ 0 ] position = resetValue index = 1 for i in range ( 3 ): dictionary [ i ] = i bits = 0 maxpower = math . pow ( 2 , 2 ) power = 1 while power != maxpower : resb = val & position position >>= 1 if position == 0 : position = resetValue val = compressed [ index ] index += 1 bits |= power if resb > 0 else 0 power <<= 1 next = bits if next == 0 : bits = 0 maxpower = math . pow ( 2 , 8 ) power = 1 while power != maxpower : resb = val & position position >>= 1 if position == 0 : position = resetValue val = compressed [ index ] index += 1 bits |= power if resb > 0 else 0 power <<= 1 c = chr ( bits ) elif next == 1 : bits = 0 maxpower = math . pow ( 2 , 16 ) power = 1 while power != maxpower : resb = val & position position >>= 1 if position == 0 : position = resetValue val = compressed [ index ] index += 1 bits |= power if resb > 0 else 0 power <<= 1 c = chr ( bits ) elif next == 2 : return \"\" dictionary [ 3 ] = c w = c result . append ( c ) counter = 0 while True : counter += 1 if index > len ( compressed ): return \"\" bits = 0 maxpower = math . pow ( 2 , numBits ) power = 1 while power != maxpower : resb = val & position position >>= 1 if position == 0 : position = resetValue val = compressed [ index ] index += 1 bits |= power if resb > 0 else 0 power <<= 1 c = bits if c == 0 : bits = 0 maxpower = math . pow ( 2 , 8 ) power = 1 while power != maxpower : resb = val & position position >>= 1 if position == 0 : position = resetValue val = compressed [ index ] index += 1 bits |= power if resb > 0 else 0 power <<= 1 dictionary [ dictSize ] = chr ( bits ) dictSize += 1 c = dictSize - 1 enlargeIn -= 1 elif c == 1 : bits = 0 maxpower = math . pow ( 2 , 16 ) power = 1 while power != maxpower : resb = val & position position >>= 1 if position == 0 : position = resetValue val = compressed [ index ] index += 1 bits |= power if resb > 0 else 0 power <<= 1 dictionary [ dictSize ] = chr ( bits ) dictSize += 1 c = dictSize - 1 enlargeIn -= 1 elif c == 2 : return \"\" . join ( result ) if enlargeIn == 0 : enlargeIn = math . pow ( 2 , numBits ) numBits += 1 if c in dictionary : entry = dictionary [ c ] else : if c == dictSize : entry = w + w [ 0 ] else : return None result . append ( entry ) # Add w+entry[0] to the dictionary. dictionary [ dictSize ] = w + entry [ 0 ] dictSize += 1 enlargeIn -= 1 w = entry if enlargeIn == 0 : enlargeIn = math . pow ( 2 , numBits ) numBits += 1 def compress ( uncompressed ): if ( uncompressed is None ): return \"\" bitsPerChar = 16 getCharFromInt = chr context_dictionary = {} context_dictionaryToCreate = {} context_c = \"\" context_wc = \"\" context_w = \"\" context_enlargeIn = 2 # Compensate for the first entry which should not count context_dictSize = 3 context_numBits = 2 context_data = [] context_data_val = 0 context_data_position = 0 for ii in range ( len ( uncompressed )): context_c = uncompressed [ ii ] if context_c not in context_dictionary : context_dictionary [ context_c ] = context_dictSize context_dictSize += 1 context_dictionaryToCreate [ context_c ] = True context_wc = context_w + context_c if context_wc in context_dictionary : context_w = context_wc else : if context_w in context_dictionaryToCreate : if ord ( context_w [ 0 ]) < 256 : for i in range ( context_numBits ): context_data_val = ( context_data_val << 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = ord ( context_w [ 0 ]) for i in range ( 8 ): context_data_val = ( context_data_val << 1 ) | ( value & 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = value >> 1 else : value = 1 for i in range ( context_numBits ): context_data_val = ( context_data_val << 1 ) | value if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = 0 value = ord ( context_w [ 0 ]) for i in range ( 16 ): context_data_val = ( context_data_val << 1 ) | ( value & 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = value >> 1 context_enlargeIn -= 1 if context_enlargeIn == 0 : context_enlargeIn = math . pow ( 2 , context_numBits ) context_numBits += 1 del context_dictionaryToCreate [ context_w ] else : value = context_dictionary [ context_w ] for i in range ( context_numBits ): context_data_val = ( context_data_val << 1 ) | ( value & 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = value >> 1 context_enlargeIn -= 1 if context_enlargeIn == 0 : context_enlargeIn = math . pow ( 2 , context_numBits ) context_numBits += 1 # Add wc to the dictionary. context_dictionary [ context_wc ] = context_dictSize context_dictSize += 1 context_w = str ( context_c ) # Output the code for w. if context_w != \"\" : if context_w in context_dictionaryToCreate : if ord ( context_w [ 0 ]) < 256 : for i in range ( context_numBits ): context_data_val = ( context_data_val << 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = ord ( context_w [ 0 ]) for i in range ( 8 ): context_data_val = ( context_data_val << 1 ) | ( value & 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = value >> 1 else : value = 1 for i in range ( context_numBits ): context_data_val = ( context_data_val << 1 ) | value if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = 0 value = ord ( context_w [ 0 ]) for i in range ( 16 ): context_data_val = ( context_data_val << 1 ) | ( value & 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = value >> 1 context_enlargeIn -= 1 if context_enlargeIn == 0 : context_enlargeIn = math . pow ( 2 , context_numBits ) context_numBits += 1 del context_dictionaryToCreate [ context_w ] else : value = context_dictionary [ context_w ] for i in range ( context_numBits ): context_data_val = ( context_data_val << 1 ) | ( value & 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = value >> 1 context_enlargeIn -= 1 if context_enlargeIn == 0 : context_enlargeIn = math . pow ( 2 , context_numBits ) context_numBits += 1 # Mark the end of the stream value = 2 for i in range ( context_numBits ): context_data_val = ( context_data_val << 1 ) | ( value & 1 ) if context_data_position == bitsPerChar - 1 : context_data_position = 0 context_data . append ( getCharFromInt ( context_data_val )) context_data_val = 0 else : context_data_position += 1 value = value >> 1 # Flush the last char while True : context_data_val = ( context_data_val << 1 ) if context_data_position == bitsPerChar - 1 : context_data . append ( getCharFromInt ( context_data_val )) break else : context_data_position += 1 return \"\" . join ( context_data ) # ---------------------------------------------------------------------------- class PixelblazeEnumerator : DOCS \"\"\" Listens on a network to detect available Pixelblazes, which the user can then list or open as Pixelblaze objects. Also provides time synchronization services for running synchronized patterns on a network of Pixelblazes. \"\"\" PORT = 1889 SYNC_ID = 890 BEACON_PACKET = 42 TIMESYNC_PACKET = 43 DEVICE_TIMEOUT = 30000 LIST_CHECK_INTERVAL = 5000 listTimeoutCheck = 0 isRunning = False threadObj = None listener = None devices = dict () autoSync = False def __init__ ( self , hostIP = \"0.0.0.0\" ): \"\"\" Create an object that listens continuously for Pixelblaze beacon packets, maintains a list of Pixelblazes and supports synchronizing time on multiple Pixelblazes to allows them to run patterns simultaneously. Takes the IPv4 address of the interface to use for listening on the calling computer. Listens on all available interfaces if hostIP is not specified. \"\"\" self . start ( hostIP ) def __del__ ( self ): self . stop () def _time_in_millis ( self ): \"\"\" Utility Method: Returns last 32 bits of the current time in milliseconds \"\"\" return int ( round ( time . time () * 1000 )) % 0xFFFFFFFF def _unpack_beacon ( self , data ): \"\"\" Utility Method: Unpacks data from a Pixelblaze beacon packet, returning a 3 element list which contains (packet_type, sender_id, sender_time) \"\"\" return struct . unpack ( \"<LLL\" , data ) def _pack_timesync ( self , now , sender_id , sender_time ): \"\"\" Utility Method: Builds a Pixelblaze timesync packet from supplied data. \"\"\" return struct . pack ( \"<LLLLL\" , self . TIMESYNC_PACKET , self . SYNC_ID , now , sender_id , sender_time ) def _set_timesync_id ( self , id ): \"\"\"Utility Method: Sets the PixelblazeEnumerator object's network id for time synchronization. At the moment, any 32 bit value will do, and calling this method does (almost) nothing. In the future, the ID might be used to determine priority among multiple time sources. \"\"\" self . SYNC_ID = id def setDeviceTimeout ( self , ms ): DOCS \"\"\" Sets the interval in milliseconds which the enumerator will wait without hearing from a device before removing it from the active devices list. The default timeout is 30000 (30 seconds). \"\"\" self . DEVICE_TIMEOUT = ms def enableTimesync ( self ): DOCS \"\"\" Instructs the PixelblazeEnumerator object to automatically synchronize time on all Pixelblazes. (Note that time synchronization is off by default when a new PixelblazeEnumerator is created.) \"\"\" self . autoSync = True def disableTimesync ( self ): DOCS \"\"\" Turns off the time synchronization -- the PixelblazeEnumerator will not automatically synchronize Pixelblazes. \"\"\" self . autoSync = False def start ( self , hostIP ): DOCS \"\"\" Open socket for listening to Pixelblaze datagram traffic, set appropriate options and bind to specified interface and start listener thread. \"\"\" try : self . listener = socket . socket ( socket . AF_INET , socket . SOCK_DGRAM ) self . listener . setsockopt ( socket . SOL_SOCKET , socket . SO_REUSEADDR , 1 ) self . listener . bind (( hostIP , self . PORT )) self . threadObj = threading . Thread ( target = self . _listen ) self . isRunning = True self . listTimeoutCheck = 0 self . threadObj . start () return True except socket . error as e : print ( e ) self . stop () return False def stop ( self ): DOCS \"\"\" Stop listening for datagrams, terminate listener thread and close socket. \"\"\" if self . listener is None : return else : self . isRunning = False self . threadObj . join () time . sleep ( 0.5 ) self . listener . close () self . threadObj = None self . listener = None def _send_timesync ( self , now , sender_id , sender_time , addr ): \"\"\" Utility Method: Composes and sends a timesync packet to a single Pixelblaze \"\"\" try : self . listener . sendto ( self . _pack_timesync ( now , sender_id , sender_time ), addr ) except socket . error as e : print ( e ) self . stop () def _listen ( self ): \"\"\" Internal Method: Datagram listener thread handler -- loop and listen. \"\"\" while self . isRunning : data , addr = self . listener . recvfrom ( 1024 ) now = self . _time_in_millis () # check the list periodically,and remove devices we haven't seen in a while if ( now - self . listTimeoutCheck ) >= self . LIST_CHECK_INTERVAL : newlist = dict () for dev , record in self . devices . items (): if ( now - record [ \"timestamp\" ]) <= self . DEVICE_TIMEOUT : newlist [ dev ] = record self . devices = newlist self . listTimeoutCheck = now # when we receive a beacon packet from a Pixelblaze, # update device record and timestamp in our device list pkt = self . _unpack_beacon ( data ) if pkt [ 0 ] == self . BEACON_PACKET : # add pixelblaze to list of devices self . devices [ pkt [ 1 ]] = { \"address\" : addr , \"timestamp\" : now , \"sender_id\" : pkt [ 1 ], \"sender_time\" : pkt [ 2 ]} # immediately send timesync if enabled if self . autoSync : # send self . _send_timesync ( now , pkt [ 1 ], pkt [ 2 ], addr ) elif pkt [ 0 ] == self . TIMESYNC_PACKET : # always defer to other time sources if self . autoSync : self . disableTimesync () def getPixelblazeList ( self ): dev = [] for record in self . devices . values (): dev . append ( record [ \"address\" ][ 0 ]) # just the ip return dev","title":"pixelblaze"}]}